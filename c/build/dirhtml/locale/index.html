<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>23. Localization &lt;locale.h&gt; &mdash; C99  documentation</title>
    
    <link rel="stylesheet" href="../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="C99  documentation" href="../" />
    <link rel="next" title="24. Mathematics &lt;math.h&gt;" href="../math/" />
    <link rel="prev" title="22. Sizes of integer types &lt;limits.h&gt;" href="../limits/" />
<script src="../_static/analytics.js" type="text/javascript"></script>
<link rel="stylesheet" href="../../../css/math.css" type="text/css" />

  </head>
  <body>




  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="/">Home</a>
        <a class="navbar-brand" href="../">
          C99</a>
        <span class="navbar-text navbar-version pull-left"><b>0.2</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics/">2. Basics of C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io/">3. Console I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oae/">4. Operators and Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cf/">5. Control Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ap/">6. Arrays and Pointers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../func/">7. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../su/">8. Structures and Unions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fs/">9. Following Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../env/">10. Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lang/">11. Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../macros/">12. Preprocessing Directives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../std/">13. The C Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assert/">14. Diagnostics <tt class="docutils literal"><span class="pre">&lt;assert.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../complex/">15. Complex arithmetic <tt class="docutils literal"><span class="pre">&lt;complex.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ctypes/">16. Character Handling <tt class="docutils literal"><span class="pre">&lt;ctype.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../errno/">17. Errors <tt class="docutils literal"><span class="pre">&lt;errno.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../fenv/">18. Floating-point environment <tt class="docutils literal"><span class="pre">&lt;fenv.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../float/">19. Characteristics of floating types <tt class="docutils literal"><span class="pre">&lt;float.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../inttypes/">20. Format conversion of integer types <tt class="docutils literal"><span class="pre">&lt;inttypes.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../iso646/">21. Alternative spellings <tt class="docutils literal"><span class="pre">&lt;iso646.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../limits/">22. Sizes of integer types <tt class="docutils literal"><span class="pre">&lt;limits.h&gt;</span></tt></a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">23. Localization &lt;locale.h&gt;</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math/">24. Mathematics <tt class="docutils literal"><span class="pre">&lt;math.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../setjmp/">25. Nonlocal jumps <tt class="docutils literal"><span class="pre">&lt;setjmp.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../signal/">26. Signal handling <tt class="docutils literal"><span class="pre">&lt;signal.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdarg/">27. Variable arguments <tt class="docutils literal"><span class="pre">&lt;stdarg.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdbool/">28. Boolean type and values <tt class="docutils literal"><span class="pre">&lt;stdbool.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stddef/">29. Common definitions <tt class="docutils literal"><span class="pre">&lt;stddef.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdint/">30. Integer types <tt class="docutils literal"><span class="pre">&lt;stdint.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdio/">31. Input/output <tt class="docutils literal"><span class="pre">&lt;stdio.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/">32. General utilities <tt class="docutils literal"><span class="pre">&lt;stdlib.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../string/">33. String handling <tt class="docutils literal"><span class="pre">&lt;string.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../tgmath/">34. Type-generic math <tt class="docutils literal"><span class="pre">&lt;tgmath.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../time/">35. Date and time <tt class="docutils literal"><span class="pre">&lt;time.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../wchar/">36. Extended multibyte and wide character utilities <tt class="docutils literal"><span class="pre">&lt;wchar.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../wtype/">37. Wide character classification and mapping utilities <tt class="docutils literal"><span class="pre">&lt;wctype.h&gt;</span></tt></a></li>
<li class="toctree-l1"><a class="reference internal" href="../problems/">38. Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/">39. License</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">23. Localization &lt;locale.h&gt;</a><ul>
<li><a class="reference internal" href="#locale-control">23.1. Locale control</a><ul>
<li><a class="reference internal" href="#the-setlocale-function">23.1.1. The <tt class="docutils literal"><span class="pre">setlocale</span></tt> function</a></li>
</ul>
</li>
<li><a class="reference internal" href="#numeric-formatting-convention-inquiry">23.2. Numeric formatting convention inquiry</a><ul>
<li><a class="reference internal" href="#the-localeconv-function">23.2.1. The localeconv function</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="../limits/" title="Previous Chapter: 22. Sizes of integer types <limits.h>"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; 22. Sizes of int...</span>
    </a>
  </li>
  <li>
    <a href="../math/" title="Next Chapter: 24. Mathematics <math.h>"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">24. Mathematics ... &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="../_sources/locale.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search/" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="localization-locale-h">
<span id="index-0"></span><h1>23. Localization &lt;locale.h&gt;<a class="headerlink" href="#localization-locale-h" title="Permalink to this headline">¶</a></h1>
<p id="index-1">The header <tt class="docutils literal"><span class="pre">&lt;locale.h&gt;</span></tt> declares two functions, one type, and defines several macros.</p>
<p>The type is</p>
<div class="highlight-c"><div class="highlight"><pre><span class="k">struct</span> <span class="n">lconv</span>
</pre></div>
</div>
<p>which contains members related to the formatting of numeric values. The structure shall
contain at least the following members, in any order. The semantics of the members and
their normal ranges are explained in <a class="reference internal" href="#id7"><em>The localeconv function</em></a>. In the &#8220;C&#8221; locale, the members
shall have the values specified in the comments.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="o">*</span><span class="n">decimal_point</span><span class="p">;</span>     <span class="c1">// &quot;.&quot;</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">thousands_sep</span><span class="p">;</span>     <span class="c1">// &quot;&quot;</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">grouping</span><span class="p">;</span>          <span class="c1">// &quot;&quot;</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">mon_decimal_point</span><span class="p">;</span> <span class="c1">// &quot;&quot;</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">mon_thousands_sep</span><span class="p">;</span> <span class="c1">// &quot;&quot;</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">mon_grouping</span><span class="p">;</span>      <span class="c1">// &quot;&quot;</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">positive_sign</span><span class="p">;</span>     <span class="c1">// &quot;&quot;</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">negative_sign</span><span class="p">;</span>     <span class="c1">// &quot;&quot;</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">currency_symbol</span><span class="p">;</span>   <span class="c1">// &quot;&quot;</span>
<span class="kt">char</span> <span class="n">frac_digits</span><span class="p">;</span>        <span class="c1">// CHAR_MAX</span>
<span class="kt">char</span> <span class="n">p_cs_precedes</span><span class="p">;</span>      <span class="c1">// CHAR_MAX</span>
<span class="kt">char</span> <span class="n">n_cs_precedes</span><span class="p">;</span>      <span class="c1">// CHAR_MAX</span>
<span class="kt">char</span> <span class="n">p_sep_by_space</span><span class="p">;</span>     <span class="c1">// CHAR_MAX</span>
<span class="kt">char</span> <span class="n">n_sep_by_space</span><span class="p">;</span>     <span class="c1">// CHAR_MAX</span>
<span class="kt">char</span> <span class="n">p_sign_posn</span><span class="p">;</span>        <span class="c1">// CHAR_MAX</span>
<span class="kt">char</span> <span class="n">n_sign_posn</span><span class="p">;</span>        <span class="c1">// CHAR_MAX</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">int_curr_symbol</span><span class="p">;</span>   <span class="c1">// &quot;&quot;</span>
<span class="kt">char</span> <span class="n">int_frac_digits</span><span class="p">;</span>    <span class="c1">// CHAR_MAX</span>
<span class="kt">char</span> <span class="n">int_p_cs_precedes</span><span class="p">;</span>  <span class="c1">// CHAR_MAX</span>
<span class="kt">char</span> <span class="n">int_n_cs_precedes</span><span class="p">;</span>  <span class="c1">// CHAR_MAX</span>
<span class="kt">char</span> <span class="n">int_p_sep_by_space</span><span class="p">;</span> <span class="c1">// CHAR_MAX</span>
<span class="kt">char</span> <span class="n">int_n_sep_by_space</span><span class="p">;</span> <span class="c1">// CHAR_MAX</span>
<span class="kt">char</span> <span class="n">int_p_sign_posn</span><span class="p">;</span>    <span class="c1">// CHAR_MAX</span>
<span class="kt">char</span> <span class="n">int_n_sign_posn</span><span class="p">;</span>    <span class="c1">// CHAR_MAX</span>
</pre></div>
</div>
<p id="index-2">The macros defined are NULL (described in <a class="reference internal" href="../stddef/#stddef"><em>Common definitions &lt;stddef.h&gt;</em></a>); and</p>
<blockquote>
<div><div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">LC_ALL</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">LC_COLLATE</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">LC_CTYPE</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">LC_MONETARY</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">LC_NUMERIC</span></tt></div>
<div class="line"><tt class="docutils literal"><span class="pre">LC_TIME</span></tt></div>
</div>
</div></blockquote>
<p>which expand to integer constant expressions with distinct values, suitable for use as the
first argument to the setlocale function. <a class="footnote-reference" href="#id2" id="id1">[1]</a> Additional macro definitions, beginning
with the characters <tt class="docutils literal"><span class="pre">LC_</span></tt> and an uppercase letter,</p>
<table class="docutils footnote" frame="void" id="id2" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id1">[1]</a></td><td>ISO/IEC 9945-2 specifies locale and charmap formats that may be used to
specify locales for C.</td></tr>
</tbody>
</table>
<div class="section" id="locale-control">
<h2>23.1. Locale control<a class="headerlink" href="#locale-control" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-setlocale-function">
<span id="index-3"></span><h3>23.1.1. The <tt class="docutils literal"><span class="pre">setlocale</span></tt> function<a class="headerlink" href="#the-setlocale-function" title="Permalink to this headline">¶</a></h3>
<p><strong>Synopsis</strong></p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;locale.h&gt;</span>
<span class="kt">char</span> <span class="o">*</span><span class="nf">setlocale</span><span class="p">(</span><span class="kt">int</span> <span class="n">category</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">locale</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Description</strong></p>
<p>The <tt class="docutils literal"><span class="pre">setlocale</span></tt> function selects the appropriate portion of the program&#8217;s locale as
specified by the category and locale arguments. The <tt class="docutils literal"><span class="pre">setlocale</span></tt> function may be
used to change or query the program&#8217;s entire current locale or portions thereof. The value
<tt class="docutils literal"><span class="pre">LC_ALL</span></tt> for category names the program&#8217;s entire locale; the other values for
category name only a portion of the program&#8217;s locale. <tt class="docutils literal"><span class="pre">LC_COLLATE</span></tt> affects the
behavior of the <tt class="docutils literal"><span class="pre">strcoll</span></tt> and <tt class="docutils literal"><span class="pre">strxfrm</span></tt> functions. <tt class="docutils literal"><span class="pre">LC_CTYPE</span></tt> affects the behavior
of the character handling functions <a class="footnote-reference" href="#id4" id="id3">[2]</a> and the multibyte and wide character functions.
<tt class="docutils literal"><span class="pre">LC_MONETARY</span></tt> affects the monetary formatting information returned by the
localeconv function. <tt class="docutils literal"><span class="pre">LC_NUMERIC</span></tt> affects the decimal-point character for the
formatted input/output functions and the string conversion functions, as well as the
nonmonetary formatting information returned by the localeconv function. <tt class="docutils literal"><span class="pre">LC_TIME</span></tt>
affects the behavior of the <tt class="docutils literal"><span class="pre">strftime</span></tt> and <tt class="docutils literal"><span class="pre">wcsftime</span></tt> functions.</p>
<p>A value of &#8220;C&#8221; for locale specifies the minimal environment for C translation; a value
of &#8220;&#8221; for <tt class="docutils literal"><span class="pre">locale</span></tt> specifies the locale-specific native environment. Other
implementation-defined strings may be passed as the second argument to <tt class="docutils literal"><span class="pre">setlocale</span></tt>.</p>
<table class="docutils footnote" frame="void" id="id4" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td>The only functions in <a class="reference internal" href="../ctypes/#ctype"><em>Character Handling &lt;ctype.h&gt;</em></a> whose behavior is not affected by the current
locale are <tt class="docutils literal"><span class="pre">isdigit</span></tt> and <tt class="docutils literal"><span class="pre">isxdigit</span></tt>.</td></tr>
</tbody>
</table>
<p>At program startup, the equivalent of</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">setlocale</span><span class="p">(</span><span class="n">LC_ALL</span><span class="p">,</span> <span class="s">&quot;C&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>is executed.</p>
<p>The implementation shall behave as if no library function calls the <tt class="docutils literal"><span class="pre">setlocale</span></tt> function.</p>
<p><strong>Returns</strong></p>
<p>If a pointer to a string is given for <tt class="docutils literal"><span class="pre">locale</span></tt> and the selection can be honored, the
<tt class="docutils literal"><span class="pre">setlocale</span></tt> function returns a pointer to the string associated with the specified
<tt class="docutils literal"><span class="pre">category</span></tt> for the new locale. If the selection cannot be honored, the <tt class="docutils literal"><span class="pre">setlocale</span></tt>
function returns a null pointer and the program&#8217;s locale is not changed.</p>
<p>A null pointer for <tt class="docutils literal"><span class="pre">locale</span></tt> causes the <tt class="docutils literal"><span class="pre">setlocale</span></tt> function to return a pointer to the
string associated with the category for the program&#8217;s current locale; the program&#8217;s
<tt class="docutils literal"><span class="pre">locale</span></tt> is not changed. <a class="footnote-reference" href="#id6" id="id5">[3]</a></p>
<p>The pointer to string returned by the <tt class="docutils literal"><span class="pre">setlocale</span></tt> function is such that a subsequent call
with that string value and its associated category will restore that part of the program&#8217;s
locale. The string pointed to shall not be modified by the program, but may be
overwritten by a subsequent call to the <tt class="docutils literal"><span class="pre">setlocale</span></tt> function.</p>
<p><strong>Forward references:</strong> formatted input/output functions (<a class="reference internal" href="../stdio/#id26"><em>Formatted input/output functions</em></a>), multibyte/wide
character conversion functions (<a class="reference internal" href="../stdlib/#id25"><em>Multibyte/wide character conversion functions</em></a>), multibyte/wide string conversion functions
(<a class="reference internal" href="../stdlib/#id29"><em>Multibyte/wide string conversion functions</em></a>), numeric conversion functions (<a class="reference internal" href="../stdlib/#id1"><em>Numeric conversion functions</em></a>), the strcoll function
(<a class="reference internal" href="../string/#id8"><em>The strcoll function</em></a>), the <tt class="docutils literal"><span class="pre">strftime</span></tt> function (<a class="reference internal" href="../time/#id9"><em>The strftime function</em></a>), the <tt class="docutils literal"><span class="pre">strxfrm</span></tt> function
(<a class="reference internal" href="../string/#id9"><em>The strxfrm function</em></a>).</p>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[3]</a></td><td>The implementation shall arrange to encode in a string the various categories
due to a heterogeneous locale when <tt class="docutils literal"><span class="pre">category</span></tt> has the value <tt class="docutils literal"><span class="pre">LC_ALL</span></tt>.</td></tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="numeric-formatting-convention-inquiry">
<h2>23.2. Numeric formatting convention inquiry<a class="headerlink" href="#numeric-formatting-convention-inquiry" title="Permalink to this headline">¶</a></h2>
<div class="section" id="the-localeconv-function">
<span id="id7"></span><span id="index-4"></span><h3>23.2.1. The localeconv function<a class="headerlink" href="#the-localeconv-function" title="Permalink to this headline">¶</a></h3>
<p><strong>Synopsis</strong></p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;locale.h&gt;</span>
<span class="k">struct</span> <span class="n">lconv</span> <span class="o">*</span><span class="nf">localeconv</span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>
</pre></div>
</div>
<p><strong>Description</strong></p>
<p>The <tt class="docutils literal"><span class="pre">localeconv</span></tt> function sets the components of an object with type <tt class="docutils literal"><span class="pre">struct</span> <span class="pre">lconv</span></tt>
with values appropriate for the formatting of numeric quantities (monetary and otherwise)
according to the rules of the current <tt class="docutils literal"><span class="pre">locale</span></tt>.</p>
<p>The members of the structure with type <tt class="docutils literal"><span class="pre">char</span> <span class="pre">*</span></tt> are pointers to strings, any of which
(except decimal_point) can point to &#8220;&#8221;, to indicate that the value is not available in
the current <tt class="docutils literal"><span class="pre">locale</span></tt> or is of zero length. Apart from grouping and mon_grouping, the
strings shall start and end in the initial shift state. The members with type <tt class="docutils literal"><span class="pre">char</span></tt> are
nonnegative numbers, any of which can be <tt class="docutils literal"><span class="pre">CHAR_MAX</span></tt> to indicate that the value is not
available in the current <tt class="docutils literal"><span class="pre">locale</span></tt>. The members include the following:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="o">*</span><span class="n">decimal_point</span>
</pre></div>
</div>
<p>The decimal-point character used to format nonmonetary quantities.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="o">*</span><span class="n">thousands_sep</span>
</pre></div>
</div>
<p>The character used to separate groups of digits before the decimal-point.
character in formatted nonmonetary quantities.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="o">*</span><span class="n">grouping</span>
</pre></div>
</div>
<p>A string whose elements indicate the size of each group of digits in
formatted nonmonetary quantities.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="o">*</span><span class="n">mon_decimal_point</span>
</pre></div>
</div>
<p>The decimal-point used to format monetary quantities.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="o">*</span><span class="n">mon_thousands_sep</span>
</pre></div>
</div>
<p>The separator for groups of digits before the decimal-point in formatted
monetary quantities.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="o">*</span><span class="n">mon_grouping</span>
</pre></div>
</div>
<p>A string whose elements indicate the size of each group of digits in
formatted monetary quantities.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="o">*</span><span class="n">positive_sign</span>
</pre></div>
</div>
<p>The string used to indicate a nonnegative-valued formatted monetary
quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="o">*</span><span class="n">negative_sign</span>
</pre></div>
</div>
<p>The string used to indicate a negative-valued formatted monetary quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="o">*</span><span class="n">currency_symbol</span>
</pre></div>
</div>
<p>The local currency symbol applicable to the current locale.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">frac_digits</span>
</pre></div>
</div>
<p>The number of fractional digits (those after the decimal-point) to be
displayed in a locally formatted monetary quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">p_cs_precedes</span>
</pre></div>
</div>
<p>Set to 1 or 0 if the <tt class="docutils literal"><span class="pre">currency_symbol</span></tt> respectively precedes or
succeeds the value for a nonnegative locally formatted monetary quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">n_cs_precedes</span>
</pre></div>
</div>
<p>Set to 1 or 0 if the <tt class="docutils literal"><span class="pre">currency_symbol</span></tt> respectively precedes or
succeeds the value for a negative locally formatted monetary quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">p_sep_by_space</span>
</pre></div>
</div>
<p>Set to a value indicating the separation of the <tt class="docutils literal"><span class="pre">currency_symbol</span></tt>, the
sign string, and the value for a nonnegative locally formatted monetary
quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">n_sep_by_space</span>
</pre></div>
</div>
<p>Set to a value indicating the separation of the <tt class="docutils literal"><span class="pre">currency_symbol</span></tt>, the
sign string, and the value for a negative locally formatted monetary
quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">p_sign_posn</span>
</pre></div>
</div>
<p>Set to a value indicating the positioning of the <tt class="docutils literal"><span class="pre">positive_sign</span></tt> for a
nonnegative locally formatted monetary quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">n_sign_posn</span>
</pre></div>
</div>
<p>Set to a value indicating the positioning of the <tt class="docutils literal"><span class="pre">negative_sign</span></tt> for a
negative locally formatted monetary quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="o">*</span><span class="n">int_curr_symbol</span>
</pre></div>
</div>
<p>The international currency symbol applicable to the current locale. The
first three characters contain the alphabetic international currency symbol
in accordance with those specified in ISO 4217. The fourth character
(immediately preceding the null character) is the character used to separate
the international currency symbol from the monetary quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">int_frac_digits</span>
</pre></div>
</div>
<p>The number of fractional digits (those after the decimal-point) to be
displayed in an internationally formatted monetary quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">int_p_cs_precedes</span>
</pre></div>
</div>
<p>Set to 1 or 0 if the <tt class="docutils literal"><span class="pre">int_curr_symbol</span></tt> respectively precedes or
succeeds the value for a nonnegative internationally formatted monetary
quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">int_n_cs_precedes</span>
</pre></div>
</div>
<p>Set to 1 or 0 if the <tt class="docutils literal"><span class="pre">int_curr_symbol</span></tt> respectively precedes or
succeeds the value for a negative internationally formatted monetary
quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">int_p_sep_by_space</span>
</pre></div>
</div>
<p>Set to a value indicating the separation of the <tt class="docutils literal"><span class="pre">int_curr_symbol</span></tt>, the
sign string, and the value for a nonnegative internationally formatted
monetary quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">int_n_sep_by_space</span>
</pre></div>
</div>
<p>Set to a value indicating the separation of the <tt class="docutils literal"><span class="pre">int_curr_symbol</span></tt>, the
sign string, and the value for a negative internationally formatted monetary
quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">int_p_sign_posn</span>
</pre></div>
</div>
<p>Set to a value indicating the positioning of the <tt class="docutils literal"><span class="pre">positive_sign</span></tt> for a
nonnegative internationally formatted monetary quantity.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">int_n_sign_posn</span>
</pre></div>
</div>
<p>Set to a value indicating the positioning of the <tt class="docutils literal"><span class="pre">negative_sign</span></tt> for a
negative internationally formatted monetary quantity.</p>
<p>The elements of grouping and mon_grouping are interpreted according to the
following:</p>
<blockquote>
<div><div class="line-block">
<div class="line"><tt class="docutils literal"><span class="pre">CHAR_MAX</span></tt> No further grouping is to be performed.</div>
<div class="line">0 The previous element is to be repeatedly used for the remainder of the</div>
<div class="line">digits.</div>
<div class="line"><em>other</em> The integer value is the number of digits that compose the current group.</div>
<div class="line">The next element is examined to determine the size of the next group of</div>
<div class="line">digits before the current group.</div>
</div>
</div></blockquote>
<p>The values of <tt class="docutils literal"><span class="pre">p_sep_by_space,</span> <span class="pre">n_sep_by_space,</span> <span class="pre">int_p_sep_by_space</span></tt>
and <tt class="docutils literal"><span class="pre">int_n_sep_by_space</span></tt> are interpreted according to the following:</p>
<blockquote>
<div><div class="line-block">
<div class="line">0 No space separates the currency symbol and value.</div>
<div class="line">1 If the currency symbol and sign string are adjacent, a space separates them from the</div>
<div class="line">value; otherwise, a space separates the currency symbol from the value.</div>
<div class="line">2 If the currency symbol and sign string are adjacent, a space separates them;</div>
<div class="line">otherwise, a space separates the sign string from the value.</div>
</div>
</div></blockquote>
<p>For <tt class="docutils literal"><span class="pre">int_p_sep_by_space</span></tt> and <tt class="docutils literal"><span class="pre">int_n_sep_by_space</span></tt>, the fourth character of
<tt class="docutils literal"><span class="pre">int_curr_symbol</span></tt> is used instead of a space.</p>
<p>The values of <tt class="docutils literal"><span class="pre">p_sign_posn,</span> <span class="pre">n_sign_posn,</span> <span class="pre">int_p_sign_posn</span></tt> and
<tt class="docutils literal"><span class="pre">int_n_sign_posn</span></tt> are interpreted according to the following:</p>
<blockquote>
<div><div class="line-block">
<div class="line">0 Parentheses surround the quantity and currency symbol.</div>
<div class="line">1 The sign string precedes the quantity and currency symbol.</div>
<div class="line">2 The sign string succeeds the quantity and currency symbol.</div>
<div class="line">3 The sign string immediately precedes the currency symbol.</div>
<div class="line">4 The sign string immediately succeeds the currency symbol.</div>
</div>
</div></blockquote>
<p>The implementation shall behave as if no library function calls the <tt class="docutils literal"><span class="pre">localeconv</span></tt>
function.</p>
<p><strong>Returns</strong></p>
<p>The <tt class="docutils literal"><span class="pre">localeconv</span></tt> function returns a pointer to the filled-in object. The structure
pointed to by the return value shall not be modified by the program, but may be
overwritten by a subsequent call to the localeconv function. In addition, calls to the
setlocale function with categories <tt class="docutils literal"><span class="pre">LC_ALL,</span> <span class="pre">LC_MONETARY</span></tt> or <tt class="docutils literal"><span class="pre">LC_NUMERIC</span></tt> may
overwrite the contents of the structure.</p>
<table border="1" class="docutils">
<colgroup>
<col width="14%" />
<col width="23%" />
<col width="23%" />
<col width="22%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&nbsp;</th>
<th class="head" colspan="2">Local format</th>
<th class="head" colspan="2">International format</th>
</tr>
<tr class="row-even"><th class="head">Country</th>
<th class="head">Positive</th>
<th class="head">Negative</th>
<th class="head">Postive</th>
<th class="head">Negative</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-odd"><td>Country1</td>
<td>1.234,56 mk</td>
<td>-1.234,56 mk</td>
<td>FIM 1.234,56</td>
<td>FIM -1.234,56</td>
</tr>
<tr class="row-even"><td>Country2</td>
<td>L.1.234</td>
<td>-L.1.234</td>
<td>ITL 1.234</td>
<td>-ITL 1.234</td>
</tr>
<tr class="row-odd"><td>Country3</td>
<td>f 1.234,56</td>
<td>f -1.234,56</td>
<td>NLG 1.234,56</td>
<td>NLG -1.234,56</td>
</tr>
<tr class="row-even"><td>Country4</td>
<td>SFrs.1,234.56</td>
<td>SFrs.1,234.56C</td>
<td>CHF 1,234.56</td>
<td>CHF 1,234.56C</td>
</tr>
</tbody>
</table>
<p>For these four countries, the respective values for the monetary members of the structure returned by
<tt class="docutils literal"><span class="pre">localeconv</span></tt> could be:</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="19%" />
<col width="18%" />
<col width="18%" />
<col width="19%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">&nbsp;</th>
<th class="head">Country1</th>
<th class="head">Country2</th>
<th class="head">Country3</th>
<th class="head">Country4</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>mon_decimal_point</td>
<td>&#8221;,&#8221;</td>
<td>&#8220;&#8221;</td>
<td>&#8221;,&#8221;</td>
<td>&#8221;.&#8221;</td>
</tr>
<tr class="row-odd"><td>mon_thousands_sep</td>
<td>&#8221;.&#8221;</td>
<td>&#8221;.&#8221;</td>
<td>&#8221;.&#8221;</td>
<td>&#8221;,&#8221;</td>
</tr>
<tr class="row-even"><td>mon_grouping</td>
<td>&#8220;\3&#8221;</td>
<td>&#8220;\3&#8221;</td>
<td>&#8220;\3&#8221;</td>
<td>&#8220;\3&#8221;</td>
</tr>
<tr class="row-odd"><td>positive_sign</td>
<td>&#8220;&#8221;</td>
<td>&#8220;&#8221;</td>
<td>&#8220;&#8221;</td>
<td>&#8220;&#8221;</td>
</tr>
<tr class="row-even"><td>negative_sign</td>
<td>&#8220;-&#8220;</td>
<td>&#8220;-&#8220;</td>
<td>&#8220;-&#8220;</td>
<td>&#8220;C&#8221;</td>
</tr>
<tr class="row-odd"><td>currency_symbol</td>
<td>&#8220;mk&#8221;</td>
<td>&#8220;L.&#8221;</td>
<td>&#8220;\u0192&#8221;</td>
<td>&#8220;SFrs.&#8221;</td>
</tr>
<tr class="row-even"><td>frac_digits</td>
<td>2</td>
<td>0</td>
<td>2</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>p_cs_precedesd</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="row-even"><td>n_cs_precedes</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>p_sep_by_space</td>
<td>1</td>
<td>0</td>
<td>1</td>
<td>0</td>
</tr>
<tr class="row-even"><td>n_sep_by_space</td>
<td>1</td>
<td>0</td>
<td>2</td>
<td>0</td>
</tr>
<tr class="row-odd"><td>p_sign_posn</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="row-even"><td>n_sign_posn</td>
<td>1</td>
<td>1</td>
<td>4</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>int_curr_symbol</td>
<td>&#8220;FIM &#8220;</td>
<td>&#8220;ITL &#8220;</td>
<td>&#8220;NLG &#8220;</td>
<td>&#8220;CHF &#8220;</td>
</tr>
<tr class="row-even"><td>int_frac_digits</td>
<td>2</td>
<td>0</td>
<td>2</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>int_p_cs_precedes</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="row-even"><td>int_n_cs_precedes</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>int_p_sep_by_space</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="row-even"><td>int_n_sep_by_space</td>
<td>2</td>
<td>1</td>
<td>2</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>int_p_sign_posn</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr class="row-even"><td>int_n_sign_posn</td>
<td>4</td>
<td>1</td>
<td>4</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>EXAMPLE 2 The following table illustrates how the <tt class="docutils literal"><span class="pre">cs_precedes,</span> <span class="pre">sep_by_space</span></tt> and <tt class="docutils literal"><span class="pre">sign_posn</span></tt> members
affect the formatted value.</p>
<table border="1" class="docutils">
<colgroup>
<col width="34%" />
<col width="22%" />
<col width="13%" />
<col width="16%" />
<col width="14%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>p_cs_precedes</td>
<td>p_sign_posn</td>
<td colspan="3">p_sep_by_space</td>
</tr>
<tr class="row-even"><td>&nbsp;</td>
<td>&nbsp;</td>
<td>0</td>
<td>1</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>0</td>
<td>0</td>
<td>(1.25$)</td>
<td>(1.25 $)</td>
<td>(1.25$)</td>
</tr>
<tr class="row-even"><td>0</td>
<td>1</td>
<td>+1.25$</td>
<td>+1.25 $</td>
<td>+ 1.25$</td>
</tr>
<tr class="row-odd"><td>0</td>
<td>2</td>
<td>1.25$+</td>
<td>1.25 $+</td>
<td>1.25$ +</td>
</tr>
<tr class="row-even"><td>0</td>
<td>3</td>
<td>1.25+$</td>
<td>1.25 +$</td>
<td>1.25+ $</td>
</tr>
<tr class="row-odd"><td>0</td>
<td>4</td>
<td>1.25$+</td>
<td>1.25 $+</td>
<td>1.25$ +</td>
</tr>
<tr class="row-even"><td>1</td>
<td>0</td>
<td>($1.25)</td>
<td>($ 1.25)</td>
<td>($1.25)</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>1</td>
<td>+$1.25</td>
<td>+$ 1.25</td>
<td>+ $1.25</td>
</tr>
<tr class="row-even"><td>1</td>
<td>2</td>
<td>$1.25+</td>
<td>$ 1.25+</td>
<td>$1.25 +</td>
</tr>
<tr class="row-odd"><td>1</td>
<td>3</td>
<td>+$1.25</td>
<td>+$ 1.25</td>
<td>+ $1.25</td>
</tr>
<tr class="row-even"><td>1</td>
<td>4</td>
<td>$+1.25</td>
<td>$+ 1.25</td>
<td>$ +1.25</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2012, Shiv S. Dayal.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.2.<br/>
    </p>
  </div>
</footer>
  </body>
</html>