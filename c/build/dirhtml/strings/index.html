

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-17487464-6']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>9. Strings &mdash; C Programming  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="C Programming  documentation" href="../"/>
        <link rel="next" title="10. File Input/Output" href="../fileio/"/>
        <link rel="prev" title="8. Structures and Unions" href="../su/"/>
<link rel="stylesheet" href="../../css/math.css" type="text/css" />


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../" class="icon icon-home"> C Programming
          

          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics/">2. Basics of C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io/">3. Console I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oae/">4. Operators and Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cf/">5. Control Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ap/">6. Arrays and Pointers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../func/">7. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../su/">8. Structures and Unions</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">9. Strings</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#useful-functions">9.1. Useful Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#strlen-and-strlen-functions">9.1.1. strlen and strlen Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#strcpy-and-strncpy-functions">9.1.2. strcpy and strncpy Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#strcat-and-strncat-functions">9.1.3. strcat and strncat Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#strcmp-and-strncmp-functions">9.1.4. strcmp and strncmp Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#strstr-strchr-and-strrchr-functions">9.1.5. strstr, strchr and strrchr Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="#strerror-function">9.1.6. strerror Function</a></li>
<li class="toctree-l3"><a class="reference internal" href="#strtok-function">9.1.7. strtok Function</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fileio/">10. File Input/Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fs/">11. Following Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../env/">12. Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lang/">13. Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../macros/">14. Preprocessing Directives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../std/">15. The C Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assert/">16. Diagnostics <code class="docutils literal"><span class="pre">&lt;assert.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../complex/">17. Complex arithmetic <code class="docutils literal"><span class="pre">&lt;complex.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ctypes/">18. Character Handling <code class="docutils literal"><span class="pre">&lt;ctype.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../errno/">19. Errors <code class="docutils literal"><span class="pre">&lt;errno.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../fenv/">20. Floating-point environment <code class="docutils literal"><span class="pre">&lt;fenv.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../float/">21. Characteristics of floating types <code class="docutils literal"><span class="pre">&lt;float.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../inttypes/">22. Format conversion of integer types <code class="docutils literal"><span class="pre">&lt;inttypes.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../iso646/">23. Alternative spellings <code class="docutils literal"><span class="pre">&lt;iso646.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../limits/">24. Sizes of integer types <code class="docutils literal"><span class="pre">&lt;limits.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../locale/">25. Localization &lt;locale.h&gt;</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math/">26. Mathematics <code class="docutils literal"><span class="pre">&lt;math.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../setjmp/">27. Nonlocal jumps <code class="docutils literal"><span class="pre">&lt;setjmp.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../signal/">28. Signal handling <code class="docutils literal"><span class="pre">&lt;signal.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdarg/">29. Variable arguments <code class="docutils literal"><span class="pre">&lt;stdarg.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdbool/">30. Boolean type and values <code class="docutils literal"><span class="pre">&lt;stdbool.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stddef/">31. Common definitions <code class="docutils literal"><span class="pre">&lt;stddef.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdint/">32. Integer types <code class="docutils literal"><span class="pre">&lt;stdint.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdio/">33. Input/output <code class="docutils literal"><span class="pre">&lt;stdio.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/">34. General utilities <code class="docutils literal"><span class="pre">&lt;stdlib.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../string/">35. String handling <code class="docutils literal"><span class="pre">&lt;string.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../tgmath/">36. Type-generic math <code class="docutils literal"><span class="pre">&lt;tgmath.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../time/">37. Date and time <code class="docutils literal"><span class="pre">&lt;time.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../wchar/">38. Extended multibyte and wide character utilities <code class="docutils literal"><span class="pre">&lt;wchar.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../wtype/">39. Wide character classification and mapping utilities <code class="docutils literal"><span class="pre">&lt;wctype.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../problems/">40. Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/">41. License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../">C Programming</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../">Docs</a> &raquo;</li>
      
    <li>9. Strings</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/strings.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="strings">
<h1>9. Strings<a class="headerlink" href="#strings" title="Permalink to this headline">¶</a></h1>
<p>C has intgral types like <code class="docutils literal"><span class="pre">char,</span> <span class="pre">int,</span> <span class="pre">long</span></code> and <code class="docutils literal"><span class="pre">long</span> <span class="pre">long</span></code>, floating-point
types like <code class="docutils literal"><span class="pre">float</span></code> and <code class="docutils literal"><span class="pre">double</span></code>. However, to treat a sequence of characters
which is also called string no new data type is needed. An array of
characters or a pointer to character can be used to represent strings. A C
string is a sequence of characters stored in contiguous memory locations ended
by <code class="docutils literal"><span class="pre">0</span></code> or <code class="docutils literal"><span class="pre">\0</span></code> or <code class="docutils literal"><span class="pre">NULL</span></code>. It is mandatory for strings to have this ending else
you will have surprises. A C string typically have one of the following
declarations:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="k">const</span> <span class="kt">char</span> <span class="n">str1</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;Some string&quot;</span><span class="p">;</span>
<span class="kt">char</span> <span class="n">str2</span><span class="p">[</span><span class="mi">16</span><span class="p">]</span> <span class="o">=</span> <span class="s">&quot;Some string&quot;</span><span class="p">;</span>
<span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">str3</span> <span class="o">=</span> <span class="s">&quot;Some string&quot;</span><span class="p">;</span>
<span class="kt">char</span><span class="o">*</span> <span class="n">str3</span><span class="o">=</span><span class="nb">NULL</span><span class="p">;</span> <span class="c1">// Allocate and fill with characters later</span>
</pre></div>
</div>
<p>The first three strings will be on stack while the last one will be on heap as
we will need to use <code class="docutils literal"><span class="pre">malloc</span></code> to allocate memory for it. Since a C string is
either an array or pointer you can use <code class="docutils literal"><span class="pre">[]</span></code> operator to get characters by index
from string.</p>
<p>You can read a string
from the <code class="docutils literal"><span class="pre">stdin</span></code> i.e. keyboard using deprecated and unsecure <code class="docutils literal"><span class="pre">gets</span></code> function or
secure <code class="docutils literal"><span class="pre">fgets</span></code> function as we have seen in console I/O chapter. We can use
<code class="docutils literal"><span class="pre">realloc</span></code> function to read an infinite string as shown below.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>
<span class="cp">#include &lt;string.h&gt;</span>
<span class="cp">#include &lt;stddef.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">inf_str</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">calloc</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">));</span>
  <span class="kt">char</span> <span class="n">c</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
  <span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>

  <span class="k">while</span><span class="p">((</span><span class="n">c</span><span class="o">=</span><span class="n">getchar</span><span class="p">())</span> <span class="o">!=</span> <span class="sc">&#39;\n&#39;</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">%</span><span class="mi">16</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">j</span><span class="o">++</span><span class="p">;</span>
      <span class="n">inf_str</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">realloc</span><span class="p">(</span><span class="n">inf_str</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">char</span><span class="p">)</span><span class="o">*</span><span class="mi">16</span><span class="o">*</span><span class="n">j</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="n">inf_str</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="n">inf_str</span><span class="p">[</span><span class="n">i</span><span class="o">++</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">puts</span><span class="p">(</span><span class="n">inf_str</span><span class="p">);</span>
  <span class="n">free</span><span class="p">(</span><span class="n">inf_str</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note that we are allocating 16 bytes to avoid allocation large chunk of memory
which may be wasted. Also, if you keep it too small then there will be many
calls to <code class="docutils literal"><span class="pre">realloc</span></code>. This value depends on how much data you are going to read
and accordingly adjusted. We allocate memory for multiple of 16 characters to
start with and we read characters from keyboard one by one till we encounter
<code class="docutils literal"><span class="pre">\n</span></code>. Once 16 characters have been read which is determined by <code class="docutils literal"><span class="pre">i%16</span></code> we
allocate 16 more characters. For this we use another counter <code class="docutils literal"><span class="pre">j</span></code>. Finally we put
0 at the end of string to <code class="docutils literal"><span class="pre">NULL</span></code> terminate it, print it and free the allocated
memory.</p>
<p>This is a very good program but in one case it will have problem. Suppose you
want to read a large string and your memory is fragmented due to which one
contiguous sequnce of memory is not available then you cannot read the string
in to memory even though total free memory is more than memory required by
string. Some languages like Erlang split memory in chunks and create a linked
list to store strings. Also, this reallocation may require full scan of string
which will cause :math:<code class="docutils literal"><span class="pre">O(n)</span></code> time cost. Therefore, there is no one shot
solution to read strings into memory.</p>
<p>To work with strings you must know functions provided by header <code class="docutils literal"><span class="pre">string.h</span></code>
otherwise you will be duplicating the functionality.</p>
<div class="section" id="useful-functions">
<h2>9.1. Useful Functions<a class="headerlink" href="#useful-functions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="strlen-and-strlen-functions">
<h3>9.1.1. strlen and strlen Functions<a class="headerlink" href="#strlen-and-strlen-functions" title="Permalink to this headline">¶</a></h3>
<p>One of the most common operations is to know length of the string because it is
needed as input in many functions. There are two versions of it. <code class="docutils literal"><span class="pre">strlen</span></code> is
slightly unsecure because it depends on the <code class="docutils literal"><span class="pre">\0</span></code> character of string which means
if string is not <code class="docutils literal"><span class="pre">NULL</span></code> terminated then <code class="docutils literal"><span class="pre">strlen</span></code> will contnue to read past the
length of string. <code class="docutils literal"><span class="pre">strnlen</span></code> takes an extra argument which is the maximum length
of string and beyond that it will not read. I am giving signatures and
descriptions below.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;string.h&gt;</span>

<span class="kt">size_t</span> <span class="nf">strlen</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">);</span>
<span class="kt">size_t</span> <span class="nf">strnlen</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">maxlen</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">strlen()</span></code> function calculates the length of the string <code class="docutils literal"><span class="pre">s</span></code>, excluding the
terminating null byte (<code class="docutils literal"><span class="pre">\0</span></code>). The <code class="docutils literal"><span class="pre">strlen()</span></code> function returns the number of
bytes in the string <code class="docutils literal"><span class="pre">s</span></code>.</p>
<p>The <code class="docutils literal"><span class="pre">strnlen()</span></code> function returns the number of bytes in the string pointed to
by <code class="docutils literal"><span class="pre">s</span></code>, excluding the terminating null byte (<code class="docutils literal"><span class="pre">\0</span></code>), but at most <code class="docutils literal"><span class="pre">maxlen</span></code>. In
doing this, <code class="docutils literal"><span class="pre">strnlen()</span></code> looks only at the first <code class="docutils literal"><span class="pre">maxlen</span></code> bytes at <code class="docutils literal"><span class="pre">s</span></code> and never
beyond <code class="docutils literal"><span class="pre">s+maxlen</span></code>.</p>
<p>The <code class="docutils literal"><span class="pre">strnlen()</span></code> function returns <code class="docutils literal"><span class="pre">strlen(s)</span></code>, if that is less than <code class="docutils literal"><span class="pre">maxlen</span></code>, or
<code class="docutils literal"><span class="pre">maxlen</span></code> if there is no null byte (<code class="docutils literal"><span class="pre">\0</span></code>) among the first <code class="docutils literal"><span class="pre">maxlen</span></code> bytes pointed
to by <code class="docutils literal"><span class="pre">s</span></code>.</p>
<p>Let us see examples as to how to use these:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;string.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">str1</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">;</span>
  <span class="k">const</span> <span class="kt">char</span> <span class="n">str2</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;Universe&quot;</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Length of str1 is %Zd</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">str1</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Length of str2 is %Zd</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strnlen</span><span class="p">(</span><span class="n">str2</span><span class="p">,</span> <span class="mi">8</span><span class="p">));</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Note the use of conversion specifier <code class="docutils literal"><span class="pre">%Zd</span></code> because return value of these
functions is <code class="docutils literal"><span class="pre">size_t</span></code>. The output is:</p>
<div class="highlight-text"><div class="highlight"><pre>Length of str1 is 5
Length of str2 is 8
</pre></div>
</div>
<p>You can also implement <code class="docutils literal"><span class="pre">strlen</span></code> and <code class="docutils literal"><span class="pre">strnlen</span></code> yourself easily. Note that if
you are implementing these functions with the same name then do not include the
header which has the prototype of the function in this case <code class="docutils literal"><span class="pre">string.h</span></code>
otherwise you will have error for duplication. For example
consider the following program:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stddef.h&gt;</span>

<span class="kt">size_t</span> <span class="nf">strlen</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">s</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">size_t</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>

  <span class="k">while</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="o">++</span><span class="p">)</span>
    <span class="o">++</span><span class="n">i</span><span class="p">;</span>

  <span class="k">return</span> <span class="n">i</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">size_t</span> <span class="nf">strnlen</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">s</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">maxlen</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">size_t</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>

  <span class="k">while</span><span class="p">(</span><span class="o">*</span><span class="n">s</span><span class="o">++</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">maxlen</span><span class="p">))</span>
    <span class="o">++</span><span class="n">i</span><span class="p">;</span>

  <span class="k">return</span> <span class="n">i</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">str</span><span class="o">=</span><span class="s">&quot;Hello there!&quot;</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%Zd</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">str</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%Zd</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strnlen</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="mi">20</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%Zd</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strnlen</span><span class="p">(</span><span class="n">str</span><span class="p">,</span> <span class="mi">10</span><span class="p">));</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="strcpy-and-strncpy-functions">
<h3>9.1.2. strcpy and strncpy Functions<a class="headerlink" href="#strcpy-and-strncpy-functions" title="Permalink to this headline">¶</a></h3>
<p>Another important operation is copying one string to another. For this we have
<code class="docutils literal"><span class="pre">strcpy</span></code> and its secure version <code class="docutils literal"><span class="pre">strncpy</span></code>. You should avoid using <code class="docutils literal"><span class="pre">strcpy</span></code>
because if destination is smaller than source then <code class="docutils literal"><span class="pre">strcpy</span></code> will write past the
end of destination length which is a security flaw. <code class="docutils literal"><span class="pre">strncpy</span></code> puts additional
overhead on programmer which is to provide an extra argument specifying how
many bytes to be copied at max. Let us see the synopsis and description of
these functions.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;string.h&gt;</span>

<span class="kt">char</span> <span class="o">*</span><span class="nf">strcpy</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">dest</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">src</span><span class="p">);</span>

<span class="kt">char</span> <span class="o">*</span><span class="nf">strncpy</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">dest</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">src</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">strcpy()</span></code> function copies the string pointed to by <code class="docutils literal"><span class="pre">src</span></code>, including the
terminating null byte (<code class="docutils literal"><span class="pre">\0</span></code>), to the buffer pointed to by <code class="docutils literal"><span class="pre">dest</span></code>. The strings
may not overlap, and the destination string <code class="docutils literal"><span class="pre">dest</span></code> must be large enough to
receive the copy. Beware of buffer overruns!</p>
<p>The <code class="docutils literal"><span class="pre">strncpy()</span></code> function is similar, except that at most <code class="docutils literal"><span class="pre">n</span></code> bytes of src are
copied. Warning: If there is no null byte among the first <code class="docutils literal"><span class="pre">n</span></code> bytes of src, the
string placed in dest will not be null-terminated.</p>
<p>If the length of <code class="docutils literal"><span class="pre">src</span></code> is less than <code class="docutils literal"><span class="pre">n</span></code>, <code class="docutils literal"><span class="pre">strncpy()</span></code> writes additional null
bytes to <code class="docutils literal"><span class="pre">dest</span></code> to ensure that a total of <code class="docutils literal"><span class="pre">n</span></code> bytes are written.</p>
<p>The <code class="docutils literal"><span class="pre">strcpy()</span></code> and <code class="docutils literal"><span class="pre">strncpy()</span></code> functions return a pointer to the destination
string <code class="docutils literal"><span class="pre">dest</span></code>.</p>
<p>Some programmers consider <code class="docutils literal"><span class="pre">strncpy()</span></code> to be inefficient and error prone. If the
programmer knows (i.e., includes code to test!) that the size of <code class="docutils literal"><span class="pre">dest</span></code> is
greater than the length of <code class="docutils literal"><span class="pre">src</span></code>, then <code class="docutils literal"><span class="pre">strcpy()</span></code> can be used.</p>
<p>One valid (and intended) use of <code class="docutils literal"><span class="pre">strncpy()</span></code> is to copy a C string to a
fixed-length buffer while ensuring both that the buffer is not overflowed and
that unused bytes in the target buffer are zeroed out (perhaps to prevent
information leaks if the buffer is to be written to media or transmitted to
another process via an interprocess communication technique).</p>
<p>If there is no terminating null byte in the first <code class="docutils literal"><span class="pre">n</span></code> bytes of src, <code class="docutils literal"><span class="pre">strncpy()</span></code>
produces an unterminated string in <code class="docutils literal"><span class="pre">dest</span></code>. You can force termination using
something like the following:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">strncpy</span><span class="p">(</span><span class="n">buf</span><span class="p">,</span> <span class="n">str</span><span class="p">,</span> <span class="n">n</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span>
  <span class="n">buf</span><span class="p">[</span><span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span><span class="o">=</span> <span class="sc">&#39;\0&#39;</span><span class="p">;</span>
</pre></div>
</div>
<p>If the destination string of a <code class="docutils literal"><span class="pre">strcpy()</span></code> is not large enough, then anything
might happen. Overflowing fixed-length string buffers is a favorite cracker
technique for taking complete control of the machine. Any time a program reads
or copies data into a buffer, the program first needs to check that there&#8217;s
enough space. This may be unnecessary if you can show that overflow is
impossible, but be careful: programs can get changed over time, in ways that
may make the impossible possible.</p>
<p>The best idea is to have large enough buffer to hold source string and use
<code class="docutils literal"><span class="pre">strcpy</span></code>. Thus the responsibility of ensuring this is upon you, the
programmer. Let us see example programs for these two functions:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;string.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str1</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">str2</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;world&quot;</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">str3</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str4</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">calloc</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

  <span class="n">strcpy</span><span class="p">(</span><span class="n">str3</span><span class="p">,</span> <span class="n">str1</span><span class="p">);</span>
  <span class="n">strncpy</span><span class="p">(</span><span class="n">str4</span><span class="p">,</span> <span class="n">str2</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>

  <span class="n">puts</span><span class="p">(</span><span class="n">str3</span><span class="p">);</span>
  <span class="n">puts</span><span class="p">(</span><span class="n">str4</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and the output is:</p>
<div class="highlight-text"><div class="highlight"><pre>Hello
world
</pre></div>
</div>
<p>Notice that you need to pass space including the <cite>NULL</cite> byte in <cite>strncpy</cite> call.</p>
<p>You can also implement your own version of <cite>strcpy</cite> and <cite>strncpy</cite>. For example,</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>
<span class="cp">#include &lt;stddef.h&gt;</span>

<span class="kt">char</span><span class="o">*</span> <span class="nf">strncpy</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span> <span class="n">dst</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">src</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">while</span><span class="p">((</span><span class="n">i</span><span class="o">++</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">*</span><span class="n">dst</span><span class="o">++</span> <span class="o">=</span> <span class="o">*</span><span class="n">src</span><span class="o">++</span><span class="p">));</span>

  <span class="k">return</span> <span class="n">dst</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">char</span><span class="o">*</span> <span class="nf">strcpy</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span> <span class="n">dst</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">src</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">while</span><span class="p">(</span><span class="o">*</span><span class="n">dst</span><span class="o">++</span> <span class="o">=</span> <span class="o">*</span><span class="n">src</span><span class="o">++</span><span class="p">);</span>

  <span class="k">return</span> <span class="n">dst</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str1</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">str2</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;world&quot;</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">str3</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str4</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">calloc</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

  <span class="n">strcpy</span><span class="p">(</span><span class="n">str3</span><span class="p">,</span> <span class="n">str1</span><span class="p">);</span>
  <span class="n">strncpy</span><span class="p">(</span><span class="n">str4</span><span class="p">,</span> <span class="n">str2</span><span class="p">,</span> <span class="mi">6</span><span class="p">);</span>

  <span class="n">puts</span><span class="p">(</span><span class="n">str3</span><span class="p">);</span>
  <span class="n">puts</span><span class="p">(</span><span class="n">str4</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and the output is:</p>
<div class="highlight-text"><div class="highlight"><pre>Hello
world
</pre></div>
</div>
</div>
<div class="section" id="strcat-and-strncat-functions">
<h3>9.1.3. strcat and strncat Functions<a class="headerlink" href="#strcat-and-strncat-functions" title="Permalink to this headline">¶</a></h3>
<p>Some high level languages like C++, Java, Python use operator overloading
(which is typical to object oriented languages) and use + operator to
concatenate strings. However, C is not object oriented and hence we do not have
facility of operator overloading but C provides two functions <code class="docutils literal"><span class="pre">strcat</span></code> and
<code class="docutils literal"><span class="pre">strncat</span></code> to achieve the same goal. Let us see their descriptions in man
pages.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;string.h&gt;</span>

<span class="kt">char</span> <span class="o">*</span><span class="nf">strcat</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">dest</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">src</span><span class="p">);</span>

<span class="kt">char</span> <span class="o">*</span><span class="nf">strncat</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">dest</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">src</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">strcat()</span></code> function appends the <code class="docutils literal"><span class="pre">src</span></code> string to the <code class="docutils literal"><span class="pre">dest</span></code> string,
over-writing the terminating null byte (<code class="docutils literal"><span class="pre">\0</span></code>) at the end of <code class="docutils literal"><span class="pre">dest</span></code>, and then
adds a terminating null byte. The strings may not overlap, and the <code class="docutils literal"><span class="pre">dest</span></code>
string must have enough space for the result. If <code class="docutils literal"><span class="pre">dest</span></code> is not large enough,
program behavior is unpredictable; buffer overruns are a favorite avenue for
attacking secure programs.</p>
<p>The <code class="docutils literal"><span class="pre">strncat()</span></code> function is similar, except that</p>
<ul class="simple">
<li>it will use at most <code class="docutils literal"><span class="pre">n</span></code> bytes from <code class="docutils literal"><span class="pre">src</span></code>; and</li>
<li><code class="docutils literal"><span class="pre">src</span></code> does not need to be null-terminated if it contains <code class="docutils literal"><span class="pre">n</span></code> or more
bytes</li>
</ul>
<p>As with <code class="docutils literal"><span class="pre">strcat()</span></code>, the resulting string in <code class="docutils literal"><span class="pre">dest</span></code> is always
null-terminated.</p>
<p>If <code class="docutils literal"><span class="pre">src</span></code> contains <code class="docutils literal"><span class="pre">n</span></code> or more bytes, <code class="docutils literal"><span class="pre">strncat()</span></code> writes <code class="docutils literal"><span class="pre">n+1</span></code> bytes to
<code class="docutils literal"><span class="pre">dest</span></code> (<code class="docutils literal"><span class="pre">n</span></code> from <code class="docutils literal"><span class="pre">src</span></code> plus the terminating null byte). Therefore, the
size of <code class="docutils literal"><span class="pre">dest</span></code> must be at least <code class="docutils literal"><span class="pre">strlen(dest)+n+1</span></code>.</p>
<p>Let us see an example as how we use these functions:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;string.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str1</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">str2</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;world&quot;</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">str3</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str4</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">calloc</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

  <span class="n">strcat</span><span class="p">(</span><span class="n">str3</span><span class="p">,</span> <span class="n">str1</span><span class="p">);</span>
  <span class="n">strcat</span><span class="p">(</span><span class="n">str3</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">);</span>
  <span class="n">strcat</span><span class="p">(</span><span class="n">str3</span><span class="p">,</span> <span class="n">str2</span><span class="p">);</span>

  <span class="n">puts</span><span class="p">(</span><span class="n">str3</span><span class="p">);</span>

  <span class="n">strncat</span><span class="p">(</span><span class="n">str4</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">str1</span><span class="p">));</span>
  <span class="n">strncat</span><span class="p">(</span><span class="n">str4</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
  <span class="n">strncat</span><span class="p">(</span><span class="n">str4</span><span class="p">,</span> <span class="n">str2</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">str2</span><span class="p">));</span>

  <span class="n">puts</span><span class="p">(</span><span class="n">str4</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>We can implement these functions similar to previously implemented
functions. For example</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;string.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>

<span class="kt">char</span><span class="o">*</span> <span class="nf">my_strncat</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span> <span class="n">dst</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span><span class="n">src</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">size_t</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
  <span class="kt">size_t</span> <span class="n">dst_length</span><span class="p">;</span>

  <span class="n">dst_length</span> <span class="o">=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">dst</span><span class="p">);</span>

  <span class="k">while</span><span class="p">((</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">*</span><span class="n">src</span><span class="p">)</span> <span class="p">{</span>
     <span class="n">dst</span><span class="p">[</span><span class="n">dst_length</span> <span class="o">+</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">*</span><span class="n">src</span><span class="p">;</span>
     <span class="n">src</span><span class="o">++</span><span class="p">;</span>
     <span class="n">i</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">dst</span><span class="p">[</span><span class="n">dst_length</span><span class="o">+</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">return</span> <span class="n">dst</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">char</span><span class="o">*</span> <span class="nf">my_strcat</span><span class="p">(</span><span class="kt">char</span><span class="o">*</span> <span class="n">dst</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span><span class="n">src</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">size_t</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
  <span class="kt">size_t</span> <span class="n">dst_length</span><span class="p">;</span>

  <span class="n">dst_length</span> <span class="o">=</span> <span class="n">strlen</span><span class="p">(</span><span class="n">dst</span><span class="p">);</span>

  <span class="k">while</span><span class="p">(</span><span class="o">*</span><span class="n">src</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">dst</span><span class="p">[</span><span class="n">dst_length</span> <span class="o">+</span> <span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="o">*</span><span class="n">src</span><span class="p">;</span>
    <span class="n">src</span><span class="o">++</span><span class="p">;</span>
    <span class="n">i</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">dst</span><span class="p">[</span><span class="n">dst_length</span><span class="o">+</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">return</span> <span class="n">dst</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str1</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">str2</span><span class="p">[]</span> <span class="o">=</span> <span class="s">&quot;world&quot;</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">str3</span><span class="p">[</span><span class="mi">12</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="mi">0</span><span class="p">};</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str4</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">calloc</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>

  <span class="n">my_strcat</span><span class="p">(</span><span class="n">str3</span><span class="p">,</span> <span class="n">str1</span><span class="p">);</span>
  <span class="n">puts</span><span class="p">(</span><span class="n">str3</span><span class="p">);</span>
  <span class="n">my_strcat</span><span class="p">(</span><span class="n">str3</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">);</span>
  <span class="n">puts</span><span class="p">(</span><span class="n">str3</span><span class="p">);</span>
  <span class="n">my_strcat</span><span class="p">(</span><span class="n">str3</span><span class="p">,</span> <span class="n">str2</span><span class="p">);</span>
  <span class="n">puts</span><span class="p">(</span><span class="n">str3</span><span class="p">);</span>

  <span class="n">my_strncat</span><span class="p">(</span><span class="n">str4</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">str1</span><span class="p">));</span>
  <span class="n">puts</span><span class="p">(</span><span class="n">str4</span><span class="p">);</span>
  <span class="n">my_strncat</span><span class="p">(</span><span class="n">str4</span><span class="p">,</span> <span class="s">&quot; &quot;</span><span class="p">,</span> <span class="mi">1</span><span class="p">);</span>
  <span class="n">puts</span><span class="p">(</span><span class="n">str4</span><span class="p">);</span>
  <span class="n">my_strncat</span><span class="p">(</span><span class="n">str4</span><span class="p">,</span> <span class="n">str2</span><span class="p">,</span> <span class="n">strlen</span><span class="p">(</span><span class="n">str2</span><span class="p">));</span>
  <span class="n">puts</span><span class="p">(</span><span class="n">str4</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="strcmp-and-strncmp-functions">
<h3>9.1.4. strcmp and strncmp Functions<a class="headerlink" href="#strcmp-and-strncmp-functions" title="Permalink to this headline">¶</a></h3>
<p>There are very frequent requirements for comparison of two values when
programming. Integers and characters can be compared easily. Floats can be
compared with a very high degree of accuracy. However, comparing strings is to
be done character by character and like <code class="docutils literal"><span class="pre">strcat</span></code> and <code class="docutils literal"><span class="pre">strncat</span></code> object
oriented programming languages use same operators for strings which are used
for compare integers or characters like <code class="docutils literal"><span class="pre">==</span></code> for equality, <code class="docutils literal"><span class="pre">&lt;</span></code> for less
than and so on. Once again C provides functions not simpler operator comparison
to compare two strings. Let us see what man pages say about them:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;string.h&gt;</span>

<span class="kt">int</span> <span class="nf">strcmp</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s1</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s2</span><span class="p">);</span>

<span class="kt">int</span> <span class="nf">strncmp</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s1</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s2</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">n</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">strcmp()</span></code> function compares the two strings <code class="docutils literal"><span class="pre">s1</span></code> and <code class="docutils literal"><span class="pre">s2</span></code>. It
returns an integer less than, equal to, or greater than zero if <code class="docutils literal"><span class="pre">s1</span></code> is
found, respectively, to be less than, to match, or be greater than <code class="docutils literal"><span class="pre">s2</span></code>.</p>
<p>The <code class="docutils literal"><span class="pre">strncmp()</span></code> function is similar, except it compares the only first (at
most) <code class="docutils literal"><span class="pre">n</span></code> bytes of <code class="docutils literal"><span class="pre">s1</span></code> and <code class="docutils literal"><span class="pre">s2</span></code>.</p>
<p>Let us see an example program for these two functions:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;string.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str1</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">;</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str2</span> <span class="o">=</span> <span class="s">&quot;world&quot;</span><span class="p">;</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str3</span> <span class="o">=</span> <span class="s">&quot;Helloo&quot;</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strcmp</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str1</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strcmp</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strcmp</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str3</span><span class="p">));</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strncmp</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="mi">5</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strncmp</span><span class="p">(</span><span class="n">str2</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="mi">5</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strncmp</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str3</span><span class="p">,</span> <span class="mi">5</span><span class="p">));</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and the output is:</p>
<div class="highlight-text"><div class="highlight"><pre>0
-47
-111
0
47
0
</pre></div>
</div>
<p>Let us try to implement these functions ourselves:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>

<span class="kt">int</span> <span class="nf">strncmp</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">s1</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">s2</span><span class="p">,</span> <span class="kt">size_t</span> <span class="n">n</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">size_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">while</span><span class="p">((</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span><span class="p">)</span> <span class="o">&amp;&amp;</span> <span class="o">*</span><span class="n">s1</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">*</span><span class="n">s1</span><span class="o">==*</span><span class="n">s2</span><span class="p">))</span> <span class="p">{</span>
    <span class="n">s1</span><span class="o">++</span><span class="p">,</span><span class="n">s2</span><span class="o">++</span><span class="p">;</span>
    <span class="n">i</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="o">*</span><span class="p">(</span><span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">s1</span><span class="o">-*</span><span class="p">(</span><span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">s2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">strcmp</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">s1</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">s2</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">while</span><span class="p">(</span><span class="o">*</span><span class="n">s1</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">*</span><span class="n">s1</span><span class="o">==*</span><span class="n">s2</span><span class="p">))</span>
    <span class="n">s1</span><span class="o">++</span><span class="p">,</span><span class="n">s2</span><span class="o">++</span><span class="p">;</span>

  <span class="k">return</span> <span class="o">*</span><span class="p">(</span><span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">s1</span><span class="o">-*</span><span class="p">(</span><span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">s2</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str1</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">;</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str2</span> <span class="o">=</span> <span class="s">&quot;world&quot;</span><span class="p">;</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str3</span> <span class="o">=</span> <span class="s">&quot;Helloo&quot;</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strcmp</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str1</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strcmp</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str2</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strcmp</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str3</span><span class="p">));</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strncmp</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="mi">5</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strncmp</span><span class="p">(</span><span class="n">str2</span><span class="p">,</span> <span class="n">str1</span><span class="p">,</span> <span class="mi">5</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strncmp</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">str3</span><span class="p">,</span> <span class="mi">5</span><span class="p">));</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and the output is:</p>
<div class="highlight-text"><div class="highlight"><pre>0
-47
-111
0
47
0
</pre></div>
</div>
</div>
<div class="section" id="strstr-strchr-and-strrchr-functions">
<h3>9.1.5. strstr, strchr and strrchr Functions<a class="headerlink" href="#strstr-strchr-and-strrchr-functions" title="Permalink to this headline">¶</a></h3>
<p>Many times we want to find whether a particular character is in string or
not. It is easy to do it in C yourself but we have two functions which help
with that. Those are <code class="docutils literal"><span class="pre">strchr</span></code> and <code class="docutils literal"><span class="pre">strchr</span></code>. Many other times we want to
find whether a given string is a substring of another given string. This is
simple to do but most of the time those simple solutions will be inefficient. C
provides a function <code class="docutils literal"><span class="pre">strstr</span></code> for this and compilers usually provide an
implementation of a very good algorithm. I will not go into the algorithm
provided by <code class="docutils literal"><span class="pre">gcc</span></code> now but just describe the function and its example. Let us
see what man pages say about these functions:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;string.h&gt;</span>

<span class="kt">char</span> <span class="o">*</span><span class="nf">strstr</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">haystack</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">needle</span><span class="p">);</span>

<span class="kt">char</span> <span class="o">*</span><span class="nf">strchr</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">);</span>

<span class="kt">char</span> <span class="o">*</span><span class="nf">strrchr</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">strstr()</span></code> function finds the first occurrence of the substring
<code class="docutils literal"><span class="pre">needle</span></code> in the string <code class="docutils literal"><span class="pre">haystack</span></code>. The terminating null bytes (<code class="docutils literal"><span class="pre">\0</span></code>) are
not compared. It returns a pointer to the beginning of the substring, or
<code class="docutils literal"><span class="pre">NULL</span></code> if the substring is not found.</p>
<p>The <code class="docutils literal"><span class="pre">strchr()</span></code> function returns a pointer to the first occurrence of the
character <code class="docutils literal"><span class="pre">c</span></code> in the string <code class="docutils literal"><span class="pre">s</span></code>.</p>
<p>The <code class="docutils literal"><span class="pre">strrchr()</span></code> function returns a pointer to the last occurrence of the
character <code class="docutils literal"><span class="pre">c</span></code> in the string <code class="docutils literal"><span class="pre">s</span></code>.</p>
<p>The <code class="docutils literal"><span class="pre">strchr()</span></code> and <code class="docutils literal"><span class="pre">strrchr()</span></code> functions return a pointer to the matched
character or <code class="docutils literal"><span class="pre">NULL</span></code> if the character is not found. The terminating null byte
is considered part of the string, so that if <code class="docutils literal"><span class="pre">c</span></code> is specified as <code class="docutils literal"><span class="pre">\0</span></code>, these
functions return a pointer to the terminator.</p>
<p>Let us see an example:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;string.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str1</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">;</span>
  <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str3</span> <span class="o">=</span> <span class="s">&quot;Helloo&quot;</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strchr</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="sc">&#39;e&#39;</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%p</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strchr</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="sc">&#39;x&#39;</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strchr</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="sc">&#39;l&#39;</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strrchr</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="sc">&#39;l&#39;</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strstr</span><span class="p">(</span><span class="n">str3</span><span class="p">,</span> <span class="n">str1</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%p</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strstr</span><span class="p">(</span><span class="n">str3</span><span class="p">,</span> <span class="s">&quot;xyz&quot;</span><span class="p">));</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and the output is:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">ello</span>
<span class="p">(</span><span class="n">nil</span><span class="p">)</span>
<span class="n">llo</span>
<span class="n">lo</span>
<span class="n">Helloo</span>
<span class="p">(</span><span class="n">nil</span><span class="p">)</span>
</pre></div>
</div>
<p>Let us try to implement these three routines ourselves. Now <code class="docutils literal"><span class="pre">strstr</span></code> is a
complex one. There are lots of very good algorithms. You can find a good list
of implementations <a class="reference external" href="http://igm.univ-mlv.fr/~lecroq/string/node1.html">here</a>. The algorithm which I
will present will be a brute force one and should not be used for any good
code. I am giving it just to present an example. Giving code for algorithms
mentioned in the link is out of scope and will be covered in data structures
and algorithms book.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>

<span class="kt">char</span><span class="o">*</span> <span class="nf">strstr</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">haystack</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">needle</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">haystack</span> <span class="o">==</span> <span class="nb">NULL</span> <span class="o">||</span> <span class="n">needle</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">for</span> <span class="p">(</span> <span class="p">;</span> <span class="o">*</span><span class="n">haystack</span><span class="p">;</span> <span class="n">haystack</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">h</span><span class="p">,</span> <span class="o">*</span><span class="n">n</span><span class="p">;</span>
    <span class="k">for</span> <span class="p">(</span><span class="n">h</span> <span class="o">=</span> <span class="n">haystack</span><span class="p">,</span> <span class="n">n</span> <span class="o">=</span> <span class="n">needle</span><span class="p">;</span> <span class="o">*</span><span class="n">h</span> <span class="o">&amp;&amp;</span> <span class="o">*</span><span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="p">(</span><span class="o">*</span><span class="n">h</span> <span class="o">==</span> <span class="o">*</span><span class="n">n</span><span class="p">);</span> <span class="o">++</span><span class="n">h</span><span class="p">,</span> <span class="o">++</span><span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="p">}</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">*</span><span class="n">n</span> <span class="o">==</span> <span class="sc">&#39;\0&#39;</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">return</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">haystack</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">char</span><span class="o">*</span> <span class="nf">strchr</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">str</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">i</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>

  <span class="k">while</span><span class="p">(</span><span class="o">*</span><span class="n">str</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">*</span><span class="n">str</span> <span class="o">==</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">str</span><span class="p">;</span>
      <span class="k">return</span> <span class="n">i</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">str</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">char</span><span class="o">*</span> <span class="nf">strrchr</span><span class="p">(</span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">str</span><span class="p">,</span> <span class="kt">int</span> <span class="n">c</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">i</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">;</span>
  <span class="k">while</span><span class="p">(</span><span class="o">*</span><span class="n">str</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="o">*</span><span class="n">str</span> <span class="o">==</span> <span class="n">c</span><span class="p">)</span>
      <span class="n">i</span> <span class="o">=</span> <span class="p">(</span><span class="kt">char</span><span class="o">*</span><span class="p">)</span><span class="n">str</span><span class="p">;</span>
    <span class="n">str</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="k">return</span> <span class="n">i</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str1</span> <span class="o">=</span> <span class="s">&quot;Hello&quot;</span><span class="p">;</span>
  <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">str3</span> <span class="o">=</span> <span class="s">&quot;Helloo&quot;</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strchr</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="sc">&#39;e&#39;</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%p</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strchr</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="sc">&#39;x&#39;</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strchr</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="sc">&#39;l&#39;</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strrchr</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="sc">&#39;l&#39;</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strstr</span><span class="p">(</span><span class="n">str3</span><span class="p">,</span> <span class="n">str1</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%p</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">strstr</span><span class="p">(</span><span class="n">str3</span><span class="p">,</span> <span class="s">&quot;xyz&quot;</span><span class="p">));</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="strerror-function">
<h3>9.1.6. strerror Function<a class="headerlink" href="#strerror-function" title="Permalink to this headline">¶</a></h3>
<p>strerror funciton maps an integer to error message. Typically the value of this
integer comes from <code class="docutils literal"><span class="pre">errno</span></code> but it will accept any integer argument. A small
sample program shows the messages printed.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;string.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="mi">135</span><span class="p">;</span> <span class="o">++</span><span class="n">i</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">i</span><span class="p">,</span> <span class="n">strerror</span><span class="p">(</span><span class="n">i</span><span class="p">));</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and the output is:</p>
<div class="highlight-text"><div class="highlight"><pre>000 Success
001 Operation not permitted
002 No such file or directory
003 No such process
004 Interrupted system call
005 Input/output error
006 No such device or address
007 Argument list too long
008 Exec format error
009 Bad file descriptor
010 No child processes
011 Resource temporarily unavailable
012 Cannot allocate memory
013 Permission denied
014 Bad address
015 Block device required
016 Device or resource busy
017 File exists
018 Invalid cross-device link
019 No such device
020 Not a directory
021 Is a directory
022 Invalid argument
023 Too many open files in system
024 Too many open files
025 Inappropriate ioctl for device
026 Text file busy
027 File too large
028 No space left on device
029 Illegal seek
030 Read-only file system
031 Too many links
032 Broken pipe
033 Numerical argument out of domain
034 Numerical result out of range
035 Resource deadlock avoided
036 File name too long
037 No locks available
038 Function not implemented
039 Directory not empty
040 Too many levels of symbolic links
041 Unknown error 41
042 No message of desired type
043 Identifier removed
044 Channel number out of range
045 Level 2 not synchronized
046 Level 3 halted
047 Level 3 reset
048 Link number out of range
049 Protocol driver not attached
050 No CSI structure available
051 Level 2 halted
052 Invalid exchange
053 Invalid request descriptor
054 Exchange full
055 No anode
056 Invalid request code
057 Invalid slot
058 Unknown error 58
059 Bad font file format
060 Device not a stream
061 No data available
062 Timer expired
063 Out of streams resources
064 Machine is not on the network
065 Package not installed
066 Object is remote
067 Link has been severed
068 Advertise error
069 Srmount error
070 Communication error on send
071 Protocol error
072 Multihop attempted
073 RFS specific error
074 Bad message
075 Value too large for defined data type
076 Name not unique on network
077 File descriptor in bad state
078 Remote address changed
079 Can not access a needed shared library
080 Accessing a corrupted shared library
081 .lib section in a.out corrupted
082 Attempting to link in too many shared libraries
083 Cannot exec a shared library directly
084 Invalid or incomplete multibyte or wide character
085 Interrupted system call should be restarted
086 Streams pipe error
087 Too many users
088 Socket operation on non-socket
089 Destination address required
090 Message too long
091 Protocol wrong type for socket
092 Protocol not available
093 Protocol not supported
094 Socket type not supported
095 Operation not supported
096 Protocol family not supported
097 Address family not supported by protocol
098 Address already in use
099 Cannot assign requested address
100 Network is down
101 Network is unreachable
102 Network dropped connection on reset
103 Software caused connection abort
104 Connection reset by peer
105 No buffer space available
106 Transport endpoint is already connected
107 Transport endpoint is not connected
108 Cannot send after transport endpoint shutdown
109 Too many references: cannot splice
110 Connection timed out
111 Connection refused
112 Host is down
113 No route to host
114 Operation already in progress
115 Operation now in progress
116 Stale file handle
117 Structure needs cleaning
118 Not a XENIX named type file
119 No XENIX semaphores available
120 Is a named type file
121 Remote I/O error
122 Disk quota exceeded
123 No medium found
124 Wrong medium type
125 Operation canceled
126 Required key not available
127 Key has expired
128 Key has been revoked
129 Key was rejected by service
130 Owner died
131 State not recoverable
132 Operation not possible due to RF-kill
133 Memory page has hardware error
134 Unknown error 134
</pre></div>
</div>
</div>
<div class="section" id="strtok-function">
<h3>9.1.7. strtok Function<a class="headerlink" href="#strtok-function" title="Permalink to this headline">¶</a></h3>
<p>There are times when we need to split a string for a set of delimiters. C
provides a function called <code class="docutils literal"><span class="pre">strtok</span></code>. Note that <code class="docutils literal"><span class="pre">strtok</span></code> is not multi-thread
safe so if you need to use <code class="docutils literal"><span class="pre">strtok</span></code> in a multi-threaded program then consider
using its reentrant version <code class="docutils literal"><span class="pre">strtok_r</span></code>.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;string.h&gt;</span>

<span class="kt">char</span> <span class="o">*</span><span class="nf">strtok</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">delim</span><span class="p">);</span>

<span class="kt">char</span> <span class="o">*</span><span class="nf">strtok_r</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span><span class="n">str</span><span class="p">,</span> <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">delim</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">saveptr</span><span class="p">);</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">strtok()</span></code> function breaks a string into a sequence of zero or more
nonempty tokens.  On the first call to <code class="docutils literal"><span class="pre">strtok()</span></code> the string to be parsed should be specified in <code class="docutils literal"><span class="pre">str</span></code>. In each subsequent call that should parse the same  string, <code class="docutils literal"><span class="pre">str</span></code> must be <code class="docutils literal"><span class="pre">NULL</span></code>.</p>
<p>The <code class="docutils literal"><span class="pre">delim</span></code> argument specifies  a set of bytes that delimit the tokens in the
parsed string. The caller may specify different strings in <code class="docutils literal"><span class="pre">delim</span></code> in
successive calls that parse the same string.</p>
<p>Each call to <code class="docutils literal"><span class="pre">strtok()</span></code> returns a pointer to a null-terminated string containing the next token. This string does not include the delimiting byte. If no more tokens are found, <code class="docutils literal"><span class="pre">strtok()</span></code> returns <code class="docutils literal"><span class="pre">NULL</span></code>.</p>
<p>A  sequence of calls to <code class="docutils literal"><span class="pre">strtok()</span></code> that operate on the same string maintains
a pointer that determines the point from which to start searching for the next
token.  The first call to <code class="docutils literal"><span class="pre">strtok()</span></code> sets this pointer to point to the first
byte of the string. The start of the next token is determined by scanning forward for the next nondelimiter byte in <code class="docutils literal"><span class="pre">str</span></code>. If such a byte is found, it is taken as the start of the next token. If no such byte is found, then  there  are  no
more tokens, and <code class="docutils literal"><span class="pre">strtok()</span></code> returns <code class="docutils literal"><span class="pre">NULL</span></code>.  (A string that is empty or
that contains only delimiters will thus cause <code class="docutils literal"><span class="pre">strtok()</span></code> to return <code class="docutils literal"><span class="pre">NULL</span></code>
on the first call.)</p>
<p>The end of each token is found by scanning forward until either the next
delimiter byte is found or until the terminating  null  byte (<code class="docutils literal"><span class="pre">\0</span></code>) is
encountered.  If a delimiter byte is found, it is overwritten with a null byte
to terminate the current token, and <code class="docutils literal"><span class="pre">strtok()</span></code> saves a pointer to the
following byte; that pointer will be used as the starting point when searching
for the next token.  In this case, <code class="docutils literal"><span class="pre">strtok()</span></code> returns a pointer to the start
of the found token.</p>
<p>From the above description, it follows that a sequence of two or more
contiguous delimiter bytes in the parsed string is considered to be a single
delimiter, and that delimiter bytes at the start or end of the string are
ignored. Put another way: the tokens returned by <code class="docutils literal"><span class="pre">strtok()</span></code>  are always
nonempty strings.  Thus, for example, given the string &#8220;aaa;;bbb,&#8221;, successive
calls to <code class="docutils literal"><span class="pre">strtok()</span></code> that specify the delimiter string &#8221;;,&#8221; would return the
strings &#8220;aaa&#8221; and &#8220;bbb&#8221;, and then a NULL pointer.</p>
<p>The <code class="docutils literal"><span class="pre">strtok_r()</span></code> function is a reentrant version <code class="docutils literal"><span class="pre">strtok()</span></code>. The
<code class="docutils literal"><span class="pre">saveptr</span></code> argument is a pointer to a <code class="docutils literal"><span class="pre">char</span> <span class="pre">*</span></code> variable that is used
internally by <code class="docutils literal"><span class="pre">strtok_r()</span></code> in order to maintain context between successive
calls that parse the same string.</p>
<p>On the first call to <code class="docutils literal"><span class="pre">strtok_r()</span></code>, <code class="docutils literal"><span class="pre">str</span></code> should point to the string to be
parsed, and the value of <code class="docutils literal"><span class="pre">saveptr</span></code> is ignored. In subsequent calls,`` str``
should be <code class="docutils literal"><span class="pre">NULL</span></code>, and <code class="docutils literal"><span class="pre">saveptr</span></code> should be unchanged since the previous
call.</p>
<p>Different  strings  may  be parsed concurrently using sequences of calls to
<code class="docutils literal"><span class="pre">strtok_r()</span></code> that specify different <code class="docutils literal"><span class="pre">saveptr</span></code> arguments.</p>
<p>Let us see the example given in man page:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>

<span class="kt">char</span> <span class="o">*</span> <span class="nf">strtok</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span> <span class="n">str</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">comp</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">static</span> <span class="kt">int</span> <span class="n">pos</span><span class="p">;</span>
  <span class="k">static</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">start</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>

  <span class="k">if</span><span class="p">(</span><span class="n">str</span><span class="o">!=</span><span class="nb">NULL</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">str</span><span class="p">;</span>

  <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">while</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;\0&#39;</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">comp</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;\0&#39;</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">==</span> <span class="n">comp</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
      <span class="p">{</span>
        <span class="n">s</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;\0&#39;</span><span class="p">;</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;\0&#39;</span><span class="p">)</span>
          <span class="k">return</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">]);</span>
        <span class="k">else</span>
        <span class="p">{</span>
          <span class="n">start</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
          <span class="n">pos</span><span class="o">--</span><span class="p">;</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="n">j</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">pos</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">s</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;\0&#39;</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;\0&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">];</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str1</span><span class="p">,</span> <span class="o">*</span><span class="n">str2</span><span class="p">,</span> <span class="o">*</span><span class="n">token</span><span class="p">,</span> <span class="o">*</span><span class="n">subtoken</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">j</span><span class="p">;</span>

  <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">str1</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span> <span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">,</span> <span class="n">str1</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">strtok</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">token</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_SUCCESS</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and the output is:</p>
<div class="highlight-text"><div class="highlight"><pre>$ ./a.out &#39;a/bbb///cc;xxx:yyy:&#39; &#39;:;&#39;
1: a/bbb///cc
2: xxx
3: yyy
</pre></div>
</div>
<p>Let us try ti implement strtok ourselves:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>

<span class="kt">char</span> <span class="o">*</span> <span class="nf">strtok</span><span class="p">(</span><span class="kt">char</span> <span class="o">*</span> <span class="n">str</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">delim</span><span class="p">)</span>
<span class="p">{</span>
  <span class="k">static</span> <span class="kt">int</span> <span class="n">pos</span><span class="p">;</span>
  <span class="k">static</span> <span class="kt">char</span> <span class="o">*</span><span class="n">s</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">start</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>

  <span class="k">if</span><span class="p">(</span><span class="n">str</span><span class="o">!=</span><span class="nb">NULL</span><span class="p">)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">str</span><span class="p">;</span>

  <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>

  <span class="k">while</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;\0&#39;</span><span class="p">)</span>
  <span class="p">{</span>
    <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">while</span><span class="p">(</span><span class="n">delim</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;\0&#39;</span><span class="p">)</span>
    <span class="p">{</span>
      <span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">==</span> <span class="n">delim</span><span class="p">[</span><span class="n">j</span><span class="p">])</span>
      <span class="p">{</span>
        <span class="n">s</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;\0&#39;</span><span class="p">;</span>
        <span class="n">pos</span> <span class="o">=</span> <span class="n">pos</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">!=</span> <span class="sc">&#39;\0&#39;</span><span class="p">)</span>
          <span class="k">return</span> <span class="p">(</span><span class="o">&amp;</span><span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">]);</span>
        <span class="k">else</span>
        <span class="p">{</span>
          <span class="n">start</span> <span class="o">=</span> <span class="n">pos</span><span class="p">;</span>
          <span class="n">pos</span><span class="o">--</span><span class="p">;</span>
          <span class="k">break</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="n">j</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">pos</span><span class="o">++</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">s</span><span class="p">[</span><span class="n">pos</span><span class="p">]</span> <span class="o">=</span> <span class="sc">&#39;\0&#39;</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;\0&#39;</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">NULL</span><span class="p">;</span>
  <span class="k">else</span>
    <span class="k">return</span> <span class="o">&amp;</span><span class="n">s</span><span class="p">[</span><span class="n">start</span><span class="p">];</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="o">*</span><span class="n">str1</span><span class="p">,</span> <span class="o">*</span><span class="n">str2</span><span class="p">,</span> <span class="o">*</span><span class="n">token</span><span class="p">,</span> <span class="o">*</span><span class="n">subtoken</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">j</span><span class="p">;</span>

  <span class="k">for</span> <span class="p">(</span><span class="n">j</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span> <span class="n">str1</span> <span class="o">=</span> <span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span> <span class="p">;</span> <span class="n">j</span><span class="o">++</span><span class="p">,</span> <span class="n">str1</span> <span class="o">=</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">token</span> <span class="o">=</span> <span class="n">strtok</span><span class="p">(</span><span class="n">str1</span><span class="p">,</span> <span class="n">argv</span><span class="p">[</span><span class="mi">2</span><span class="p">]);</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">token</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span>
      <span class="k">break</span><span class="p">;</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d: %s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">j</span><span class="p">,</span> <span class="n">token</span><span class="p">);</span>
  <span class="p">}</span>

  <span class="n">exit</span><span class="p">(</span><span class="n">EXIT_SUCCESS</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>With this we come to an end of our discussion on strings.</p>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../fileio/" class="btn btn-neutral float-right" title="10. File Input/Output" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../su/" class="btn btn-neutral" title="8. Structures and Unions" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012-2015, Shiv S. Dayal.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>