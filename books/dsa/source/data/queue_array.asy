import fontsize;
import animation;

animation a;

defaultpen(fontsize(16pt));
defaultpen(linewidth(1));

draw((-2cm, .5cm) -- (-1cm, .5cm) -- (-1cm, 1.5cm) -- (-2cm, 1.5cm)--cycle);
draw((-1cm, .5cm) -- (0cm, .5cm) -- (0cm, 1.5cm) -- (-1cm, 1.5cm) -- cycle);
draw((0cm, .5cm) -- (1cm, .5cm) -- (1cm, 1.5cm) -- (0cm, 1.5cm) -- cycle);
draw((1cm, .5cm) -- (2cm, .5cm) -- (2cm, 1.5cm) -- (1cm, 1.5cm) -- cycle);
label("0", (-1.5cm, 2cm));
label("1", (-.5cm, 2cm));
label("2", (.5cm, 2cm));
label("3", (1.5cm, 2cm));
save();
label("G1", (-1.5cm, 1cm));
label("G2", (-.5cm, 1cm));
label("G3", (.5cm, 1cm));
label("G4", (1.5cm, 1cm));
label("head = -1 \& tail = -1", (0cm, 2.5cm));
label("$head$ and $tail$ is -1. G1-G4 are garbage values.", (0, 0));
label("0-3 are array indices.", (0, -.5cm));
a.add();
erase();
restore();
save();
label("1", (-1.5cm, 1cm));
label("G2", (-.5cm, 1cm));
label("G3", (.5cm, 1cm));
label("G4", (1.5cm, 1cm));
label("head = 0 \& tail = 0", (0cm, 2.5cm));
label("Operation is $enqueue(1)$.", (0, 0));
label("$head$ and $tail$ become 0.", (0, -.5cm));
label("0-3 are array indices.", (0, -1cm));
a.add();
erase();
restore();
save();
label("1", (-1.5cm, 1cm));
label("2", (-.5cm, 1cm));
label("G3", (.5cm, 1cm));
label("G4", (1.5cm, 1cm));
label("head = 0 \& tail = 1", (0cm, 2.5cm));
label("Operation is $enqueue(2)$.", (0, 0));
label("$tail$ becomes 1.", (0, -.5cm));
label("0-3 are array indices.", (0, -1cm));
a.add();
erase();
restore();
save();
label("1", (-1.5cm, 1cm));
label("2", (-.5cm, 1cm));
label("3", (.5cm, 1cm));
label("G4", (1.5cm, 1cm));
label("head = 0 \& tail = 2", (0cm, 2.5cm));
label("Operation is $enqueue(3)$.", (0, 0));
label("$tail$ becomes 2.", (0, -.5cm));
label("0-3 are array indices.", (0, -1cm));
a.add();
erase();
restore();
save();
label("1", (-1.5cm, 1cm));
label("2", (-.5cm, 1cm));
label("3", (.5cm, 1cm));
label("G4", (1.5cm, 1cm));
label("head = 1 \& tail = 2", (0cm, 2.5cm));
label("Operation is $dequeue()$. Value dequeued is 1.", (0, 0));
label("$head$ becomes 1.", (0, -.5cm));
label("0-3 are array indices.", (0, -1cm));
a.add();
erase();
restore();
save();
label("1", (-1.5cm, 1cm));
label("2", (-.5cm, 1cm));
label("3", (.5cm, 1cm));
label("4", (1.5cm, 1cm));
label("head = 1 \& tail = 3", (0cm, 2.5cm));
label("Operation is $enqueue(4)$.", (0, 0));
label("$tail$ becomes 3.", (0, -.5cm));
label("0-3 are array indices.", (0, -1cm));
a.add();
erase();
restore();
save();
label("1", (-1.5cm, 1cm));
label("2", (-.5cm, 1cm));
label("3", (.5cm, 1cm));
label("G4", (1.5cm, 1cm));
label("head = 1 \& tail = 0", (0cm, 2.5cm));
label("Operation is $enqueue(5)$.", (0, 0));
label("$tail$ becomes 0.", (0, -.5cm));
label("0-3 are array indices.", (0, -1cm));
label("We can visualize more operations similarly.", (0, -1.5cm));
a.add();

a.movie(BBox(0.0cm), loops=-1, delay=250);
