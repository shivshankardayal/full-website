

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="C Programming with C99" name="description" />
<meta content="Free C Book, C Programming, C99 Programming, C99 Specification" name="keywords" />
<script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-17487464-6']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>12. Environment &mdash; C Programming  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="C Programming  documentation" href="../"/>
        <link rel="next" title="13. Language" href="../lang/"/>
        <link rel="prev" title="11. Following Specification" href="../fs/"/>
<link rel="stylesheet" href="../../css/math.css" type="text/css" />


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../" class="icon icon-home"> C Programming
          

          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics/">2. Basics of C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io/">3. Console I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oae/">4. Operators and Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cf/">5. Control Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ap/">6. Arrays and Pointers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../func/">7. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../su/">8. Structures and Unions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../strings/">9. Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fileio/">10. File Input/Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fs/">11. Following Specification</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">12. Environment</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#conceptual-model">12.1. Conceptual Model</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#translation-environment">12.1.1. Translation Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#program-structure">12.1.1.1. Program Structure</a></li>
<li class="toctree-l4"><a class="reference internal" href="#translation-phases">12.1.1.2. Translation Phases</a></li>
<li class="toctree-l4"><a class="reference internal" href="#diagnostics">12.1.1.3. Diagnostics</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#execution-environment">12.1.2. Execution Environment</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#freestanding-environment">12.1.2.1. Freestanding Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#hosted-environment">12.1.2.2. Hosted Environment</a></li>
<li class="toctree-l4"><a class="reference internal" href="#program-execution">12.1.2.3. Program Execution</a></li>
<li class="toctree-l4"><a class="reference internal" href="#index-7">12.1.2.4. Program Execution</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#multi-threaded-executions-and-data-races">12.2. Multi-threaded executions and data races</a></li>
<li class="toctree-l2"><a class="reference internal" href="#environmental-considerations">12.3. Environmental considerations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#character-sets">12.3.1. Character Sets</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#trigraph-sequences">12.3.1.1. Trigraph sequences</a></li>
<li class="toctree-l4"><a class="reference internal" href="#multibyte-characters">12.3.1.2. Multibyte characters</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#character-display-semantics">12.3.2. Character display semantics</a></li>
<li class="toctree-l3"><a class="reference internal" href="#signals-and-interrupts">12.3.3. Signals and interrupts</a></li>
<li class="toctree-l3"><a class="reference internal" href="#environmental-limits">12.3.4. Environmental limits</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#translation-limits">12.3.4.1. Translation limits</a></li>
<li class="toctree-l4"><a class="reference internal" href="#numerical-limits">12.3.4.2. Numerical limits</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../lang/">13. Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../macros/">14. Preprocessing Directives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../std/">15. The C Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assert/">16. Diagnostics <code class="docutils literal"><span class="pre">&lt;assert.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../complex/">17. Complex arithmetic <code class="docutils literal"><span class="pre">&lt;complex.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ctypes/">18. Character Handling <code class="docutils literal"><span class="pre">&lt;ctype.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../errno/">19. Errors <code class="docutils literal"><span class="pre">&lt;errno.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../fenv/">20. Floating-point environment <code class="docutils literal"><span class="pre">&lt;fenv.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../float/">21. Characteristics of floating types <code class="docutils literal"><span class="pre">&lt;float.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../inttypes/">22. Format conversion of integer types <code class="docutils literal"><span class="pre">&lt;inttypes.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../iso646/">23. Alternative spellings <code class="docutils literal"><span class="pre">&lt;iso646.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../limits/">24. Sizes of integer types <code class="docutils literal"><span class="pre">&lt;limits.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../locale/">25. Localization &lt;locale.h&gt;</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math/">26. Mathematics <code class="docutils literal"><span class="pre">&lt;math.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../setjmp/">27. Nonlocal jumps <code class="docutils literal"><span class="pre">&lt;setjmp.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../signal/">28. Signal handling <code class="docutils literal"><span class="pre">&lt;signal.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdarg/">29. Variable arguments <code class="docutils literal"><span class="pre">&lt;stdarg.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdbool/">30. Boolean type and values <code class="docutils literal"><span class="pre">&lt;stdbool.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stddef/">31. Common definitions <code class="docutils literal"><span class="pre">&lt;stddef.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdint/">32. Integer types <code class="docutils literal"><span class="pre">&lt;stdint.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdio/">33. Input/output <code class="docutils literal"><span class="pre">&lt;stdio.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/">34. General utilities <code class="docutils literal"><span class="pre">&lt;stdlib.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../string/">35. String handling <code class="docutils literal"><span class="pre">&lt;string.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../tgmath/">36. Type-generic math <code class="docutils literal"><span class="pre">&lt;tgmath.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../time/">37. Date and time <code class="docutils literal"><span class="pre">&lt;time.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../wchar/">38. Extended multibyte and wide character utilities <code class="docutils literal"><span class="pre">&lt;wchar.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../wtype/">39. Wide character classification and mapping utilities <code class="docutils literal"><span class="pre">&lt;wctype.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../problems/">40. Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/">41. License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../">C Programming</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../">Docs</a> &raquo;</li>
      
    <li>12. Environment</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/env.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="environment">
<h1>12. Environment<a class="headerlink" href="#environment" title="Permalink to this headline">¶</a></h1>
<p>As last chapter was mapped to chapter 3 of specification similarly this
chapter is mapped to chapter 5 of specification. Please refer to these sections
simultaneously.</p>
<p>We store source code in two different files with two different extensions. One
regular expression for source code is *.c and the other is *.h. These files
are stored in hard disk. When compiled it may produce *.o files optionally.
Your program may also produce *.a, *.so, a.out (this name may be different
for you if you provide <code class="docutils literal"><span class="pre">-o</span></code> switch to gcc. At least one *.a or *.so or
a.out or its equivalent will be produced on unix systems. On Windows systems
you may produce *.lib, *.dll or *.exe. *.lib, *.dll and *.exe map
directly to their counterparts in Unix as *.a, *.so and a.out. These files are
called static library, dynamic library, and executables respectively.</p>
<p>An implementation translates C source files and executes C programs in two data-
processing-system environments, which will be called the <em>translation environment</em>
and the <em>execution environment</em> in this International Standard. Their
characteristics define and constrain the results of executing conforming C programs
constructed according to the syntactic and semantic rules for conforming
implementations.</p>
<p>Just to ease the words translation environment is the machine where the program is
being compiled and execution environment is the machine where the executables
are/will be executed.</p>
<div class="section" id="conceptual-model">
<h2>12.1. Conceptual Model<a class="headerlink" href="#conceptual-model" title="Permalink to this headline">¶</a></h2>
<div class="section" id="translation-environment">
<h3>12.1.1. Translation Environment<a class="headerlink" href="#translation-environment" title="Permalink to this headline">¶</a></h3>
<div class="section" id="program-structure">
<span id="id1"></span><h4>12.1.1.1. Program Structure<a class="headerlink" href="#program-structure" title="Permalink to this headline">¶</a></h4>
<p>A C program need not all be translated at the same time. The text of the
program is kept in units called <em>source files,</em> (or <em>preprocessing files</em>) in
International Standard. A source file together with all the headers and
source files included via the preprocessing directive <code class="docutils literal"><span class="pre">#include</span></code> is known as
a <em>preprocessing translation unit.</em> After preprocessing, a preprocessing
translation unit is called a <em>translation unit.</em> Previously translated
translation units may be preserved individually or in libraries. The separate
translation units of a program communicate by (for example) calls to functions
whose identifiers have external linkage, manipulation of objects whose
identifiers have external linkage, or manipulation of data files. Translation
units may be separately translated and then later linked to produce an
executable program.</p>
<p>A normal C file is <em>preprocessing translation unit.</em> while a file produced by output
of <code class="docutils literal"><span class="pre">gcc</span> <span class="pre">-E</span> <span class="pre">filename.c</span></code> is a <em>translation unit</em>. For example, you can have two
source files and three headers. <code class="docutils literal"><span class="pre">par1.c,</span> <span class="pre">part2.c,</span> <span class="pre">part1.h,</span> <span class="pre">part2.h</span></code> and
<code class="docutils literal"><span class="pre">common.h</span></code>. Now these may be individually compiled to <code class="docutils literal"><span class="pre">part1.o</span></code> and <code class="docutils literal"><span class="pre">part2.o</span></code>
and then linked to have a final program <code class="docutils literal"><span class="pre">output</span></code>.</p>
<p><strong>Forward references</strong>: linkages of identifiers (<a class="reference internal" href="../lang/#id2"><span>Linkages of identifiers</span></a>), external definitions
(<a class="reference internal" href="../lang/#id325"><span>External definitions</span></a>), preprocessing directives (<a class="reference internal" href="../macros/#macros"><span>Preprocessing Directives</span></a>).</p>
</div>
<div class="section" id="translation-phases">
<span id="index-0"></span><h4>12.1.1.2. Translation Phases<a class="headerlink" href="#translation-phases" title="Permalink to this headline">¶</a></h4>
<p>The precedence among the syntax rules of translation is specified by the
following phases. <a class="footnote-reference" href="#id5" id="id2">[1]</a></p>
<ol class="arabic">
<li><p class="first">Physical source file multibyte characters are mapped, in an
implementation-defined-manner, to the source character set (introducing
newline characters for end-of-line indicators) if necessary. Trigraph
sequences are replaced by corresponding single-character internal
representations.</p>
<p>Typically source file reside on HDD in source character set described in
<a class="reference internal" href="#id30"><span>Character Sets</span></a>. Sometimes they may also reside in other storage mediums also
for example, floppy disk, USB drive etc. Implementation defines how multibyte
characters will map to source character set. Different operating systems
typically stored end-of-line in different ways. All these are converted to
newline characters. Trigraph sequences are converted to their equivalents.
For example, consider following:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">printf</span><span class="p">(</span><span class="s">&quot;??&lt;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>process it with command <code class="docutils literal"><span class="pre">gcc</span> <span class="pre">-E</span> <span class="pre">-trigraphs</span> <span class="pre">test.c</span></code> to get following:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp"># 1 &quot;test.c&quot;</span>
<span class="cp"># 1 &quot;&lt;built-in&gt;&quot;</span>
<span class="cp"># 1 &quot;&lt;command-line&gt;&quot;</span>
<span class="cp"># 1 &quot;test.c&quot;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;{</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Each instance of a backslash character (\) immediately followed by a
new-line character is deleted, splicing physical source lines to form logical
source lines. Only the last backslash on any physical source line shall be
eligible for being part of such a splice. A source file that is not empty
shall end in a new-line character, which shall not be immediately preceded by
a backslash character before any such splicing takes place.</p>
<p>Consider following:</p>
<p>processing it though preprocessor like <code class="docutils literal"><span class="pre">gcc</span> <span class="pre">-E</span> <span class="pre">test.c</span></code> will yield</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp"># 1 &quot;test.c&quot;</span>
<span class="cp"># 1 &quot;&lt;built-in&gt;&quot;</span>
<span class="cp"># 1 &quot;&lt;command-line&gt;&quot;</span>
<span class="cp"># 1 &quot;test.c&quot;</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;line 1 line 2&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Now let us consider two files <code class="docutils literal"><span class="pre">test1.c</span></code> and <code class="docutils literal"><span class="pre">test2.c</span></code>.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">printf</span><span class="p">(</span><span class="s">&quot;line 1&quot;</span> \
</pre></div>
</div>
<p>and</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &quot;test1.c&quot;</span>
<span class="s">&quot;line 2 \</span>
<span class="s">line 3&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>process <code class="docutils literal"><span class="pre">test2.c</span></code> to get following:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp"># 1 &quot;test1.c&quot;</span>
<span class="cp"># 1 &quot;&lt;built-in&gt;&quot;</span>
<span class="cp"># 1 &quot;&lt;command-line&gt;&quot;</span>
<span class="cp"># 1 &quot;test1.c&quot;</span>
<span class="cp"># 1 &quot;test.c&quot; 1</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;line 1&quot;</span>
<span class="cp"># 2 &quot;test1.c&quot; 2</span>
<span class="s">&quot;line 2 line 3&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>If you omit newline at end of file then <code class="docutils literal"><span class="pre">gcc</span></code> will issue you a warning.</p>
</li>
<li><p class="first">The source file is decomposed into preprocessing tokens <a class="footnote-reference" href="#id6" id="id3">[2]</a> and sequences of
white-space characters (including comments). A source file shall not end in a
partial preprocessing token or in a partial comment. Each comment is replaced
by one space character. New-line characters are retained. Whether each
nonempty sequence of white-space characters other than new-line is retained
or replaced by one space character is implementation-defined.</p>
<p>Modifying above example like:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &quot;test1.c&quot; </span><span class="c1">// a comment</span>
<span class="s">&quot;line 2 \</span>
<span class="s">line 3&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>will yield:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp"># 1 &quot;test1.c&quot;</span>
<span class="cp"># 1 &quot;&lt;built-in&gt;&quot;</span>
<span class="cp"># 1 &quot;&lt;command-line&gt;&quot;</span>
<span class="cp"># 1 &quot;test1.c&quot;</span>
<span class="cp"># 1 &quot;test.c&quot; 1</span>
<span class="n">printf</span><span class="p">(</span><span class="s">&quot;line 1&quot;</span>
<span class="cp"># 2 &quot;test1.c&quot; 2</span>
<span class="s">&quot;line 2 line 3&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>Two important points to note here are that new-lines are retained which is
important for next step and comments are replaced by one space character.
new-lines are needed to separate preprocessing directives and comments are
needed to be replaced by one character else strange things may happen. Consider
<code class="docutils literal"><span class="pre">int/*a</span> <span class="pre">comment*/main()</span></code> being rendered as <code class="docutils literal"><span class="pre">intmain()</span></code> for example. For
understanding the meaning of last sentence consider the following program:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="cp">#define makestr(a) #a</span>

  <span class="kt">char</span> <span class="o">*</span><span class="n">p</span> <span class="o">=</span> <span class="n">makestr</span><span class="p">(</span><span class="n">x</span>          <span class="n">y</span><span class="p">);</span>

  <span class="n">puts</span><span class="p">(</span><span class="n">p</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and the output is:</p>
<div class="highlight-python"><div class="highlight"><pre>x y
</pre></div>
</div>
<p>so we can clearly say that <code class="docutils literal"><span class="pre">gcc</span></code> replaces multiple whitespace characters
by one.</p>
</li>
<li><p class="first">Preprocessing directives are executed, macro invocations are expanded, and
<code class="docutils literal"><span class="pre">_Pragma</span></code> unary operator expressions are executed. If a character sequence
that matches the syntax of a universal character name is produced by token
concatenation, the behavior is undefined. A <code class="docutils literal"><span class="pre">#include</span></code> preprocessing
directive causes the named header or source file to be processed from phase 1
through phase 4, recursively. All preprocessing directives are then deleted.</p>
<p>For example:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#define MAX 5</span>

<span class="cp">#define MIN(a,b) ((a)&lt;(b)?(a):(b))</span>

<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="n">MAX</span><span class="p">)</span>

<span class="n">printf</span><span class="p">(</span><span class="o">%</span><span class="n">d</span><span class="p">,</span> <span class="n">MIN</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span><span class="mi">7</span><span class="p">));</span>
</pre></div>
</div>
<p>will become:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp"># 1 &quot;test.c&quot;</span>
<span class="cp"># 1 &quot;&lt;built-in&gt;&quot;</span>
<span class="cp"># 1 &quot;&lt;command-line&gt;&quot;</span>
<span class="cp"># 1 &quot;test.c&quot;</span>




<span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="mi">5</span><span class="p">)</span>

<span class="n">printf</span><span class="p">(</span><span class="o">%</span><span class="n">d</span><span class="p">,</span> <span class="p">((</span><span class="mi">5</span><span class="p">)</span><span class="o">&lt;</span><span class="p">(</span><span class="mi">7</span><span class="p">)</span><span class="o">?</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">:</span><span class="p">(</span><span class="mi">7</span><span class="p">)));</span>
</pre></div>
</div>
<p>The <code class="docutils literal"><span class="pre">#include</span></code> preprocessing directives are processed in-depth first order.
Once a header has been fully processed, processing resumes in the file that
included it. 15 levels of nesting can be done for header files(<a class="reference internal" href="#id35"><span>Translation limits</span></a>)
Before processing the header, the macros <code class="docutils literal"><span class="pre">__FILE__</span></code> and <code class="docutils literal"><span class="pre">__LINE__</span></code> are set
(and they are reset when processing resumes in the file containing the header).</p>
</li>
<li><p class="first">Each source character set member and escape sequence in character constants
and string literals is converted to the corresponding member of the execution
character set; if there is no corresponding member, it is converted to an
implementation-defined member other than the null (wide) character. <a class="footnote-reference" href="#id7" id="id4">[3]</a></p>
<p>For most of the machines both source and execution characters sets are ASCII
while some mainframes use EBCDIC as their character set.</p>
</li>
<li><p class="first">Adjacent string literal tokens are concatenated.</p>
<p>For example, consider:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>

<span class="cp">#define STR1 &quot;hello &quot;</span>
<span class="cp">#define STR2 &quot;world&quot;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">puts</span><span class="p">(</span><span class="n">STR1</span> <span class="n">STR2</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and the output is:</p>
<div class="highlight-python"><div class="highlight"><pre>hello world
</pre></div>
</div>
<p>Note that this rule only applies to string literals not to character array
or pointers because they contain null terminating character.</p>
</li>
<li><p class="first">White-space characters separating tokens are no longer significant. Each
preprocessing token is converted into a token. The resulting tokens are
syntactically and semantically analyzed and translated as a translation unit.</p>
</li>
<li><p class="first">All external object and function references are resolved. Library components
are linked to satisfy external references to functions and objects not
defined in the current translation. All such translator output is collected
into a program image which contains information needed for execution in its
execution environment.</p>
<p>These steps are typically carried out by the linker <code class="docutils literal"><span class="pre">ld</span></code>.</p>
</li>
</ol>
<p><strong>Forward references:</strong> universal character names (<a class="reference internal" href="../lang/#id103"><span>Universal character names</span></a>), lexical elements
(<a class="reference internal" href="../lang/#id103"><span>Universal character names</span></a>), preprocessing directives (<a class="reference internal" href="../macros/#macros"><span>Preprocessing Directives</span></a>), trigraph sequences
(<a class="reference internal" href="#id31"><span>Trigraph sequences</span></a>), external definitions (<a class="reference internal" href="../lang/#id325"><span>External definitions</span></a>).</p>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[1]</a></td><td>Implementations behave as if these separate phases occur, even though
many are typically folded together in practice.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[2]</a></td><td>the process of dividing a source file’s characters into preprocessing
tokens is context-dependent. For example, see the handling of <code class="docutils literal"><span class="pre">&lt;</span></code> within a
<code class="docutils literal"><span class="pre">#include</span></code> preprocessing directive.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id7" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[3]</a></td><td>An implementation need not convert all non-corresponding source
characters to the same execution character.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="diagnostics">
<span id="index-1"></span><h4>12.1.1.3. Diagnostics<a class="headerlink" href="#diagnostics" title="Permalink to this headline">¶</a></h4>
<p>A conforming implementation shall produce at least one diagnostic message
(identified in an implementation-defined manner) if a preprocessing translation
unit or translation unit contains a violation of any syntax rule or constraint,
even if the behavior is also explicitly specified as undefined or
implementation-defined. Diagnostic messages need not be produced in other
circumstances. <a class="footnote-reference" href="#id9" id="id8">[4]</a></p>
<p>Note that it is a requirement imposed on implementation. Nothing about what these
messages will contain. Implementations are also free to provide more than one message
to assist the programmer locate the source of error and by other means as well like
pointing out the line number and column number in program text.</p>
<table class="docutils footnote" frame="void" id="id9" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id8">[4]</a></td><td>The intent is that an implementation should identify the nature of, and
where possible localize, each violation. Of course, an implementation is free to
produce any number of diagnostics as long as a valid program is still correctly
translated. It may also successfully translate an invalid program.</td></tr>
</tbody>
</table>
</div>
</div>
<div class="section" id="execution-environment">
<span id="index-2"></span><h3>12.1.2. Execution Environment<a class="headerlink" href="#execution-environment" title="Permalink to this headline">¶</a></h3>
<p>Two execution environments are defined: <em>freestanding</em> and <em>hosted</em>. In both
cases, <em>program startup</em> occurs when a designated C function is called by the
execution environment. All objects with static storage duration shall be
<em>initialized</em> (set to their initial values) before program startup. The manner
and timing of such initialization are otherwise unspecified. <em>Program
termination</em> returns control to the execution environment.</p>
<p><em>freestanding</em> typically means embedded systems though not in standard.</p>
<p><strong>Forward references:</strong> storage durations of objects (4.2.4), initialization
(4.7.8).</p>
<div class="section" id="freestanding-environment">
<span id="index-3"></span><h4>12.1.2.1. Freestanding Environment<a class="headerlink" href="#freestanding-environment" title="Permalink to this headline">¶</a></h4>
<p>In a freestanding environment (in which C program execution may take place
without any benefit of an operating system), the name and type of the function
called at program startup are implementation-defined. Any library facilities
available to a freestanding program, other than the minimal set required by
clause 4, are implementation-defined.</p>
<p>The effect of program termination in a freestanding environment is
implementation-defined.</p>
<p>For example, consider the BIOS of PC which runs without an operating system.
The startup function name need not be <code class="docutils literal"><span class="pre">main</span></code>. Since, such freestanding systems
have scarce resources the requirement for conformance is only limited to a minimal
set of library facilities.  Sometimes it may not be even possible to stop
the program running in a freestanding environment. Consider a PC without
an operating system. BIOS will take over and how will it terminate. You will
need to power off the system manually.</p>
</div>
<div class="section" id="hosted-environment">
<span id="index-4"></span><h4>12.1.2.2. Hosted Environment<a class="headerlink" href="#hosted-environment" title="Permalink to this headline">¶</a></h4>
<p>A hosted environment need not be provided, but shall conform to the following
specifications if present.</p>
<p><strong>Program Startup</strong></p>
<p>The function called at program startup is named <code class="docutils literal"><span class="pre">main</span></code>. The
implementation declares no prototype for this function. It shall be defined
with a return type of <code class="docutils literal"><span class="pre">int</span></code> and with no parameters:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
</pre></div>
</div>
<p>or with two parameters (referred to here as <code class="docutils literal"><span class="pre">argc</span></code> and <code class="docutils literal"><span class="pre">argv</span></code>, though any
names may be used, as they are local to the function in which they are
declared):</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span> <span class="p">{</span> <span class="cm">/* ... */</span> <span class="p">}</span>
</pre></div>
</div>
<p>or equivalent; <a class="footnote-reference" href="#id11" id="id10">[5]</a> or in some other implementation defined manner. The function
<code class="docutils literal"><span class="pre">main</span></code> must have external linkage. Also, the implementation or compiler should
not have <code class="docutils literal"><span class="pre">main</span></code> function in any of the headers or libraries. Some implementations
also provide a third argument called environment pointer or <code class="docutils literal"><span class="pre">envp</span></code> which contains
environment variables of the systems.</p>
<p>If they are declared, the parameters to the <code class="docutils literal"><span class="pre">main</span></code> function shall obey the
following constraints:</p>
<ul class="simple">
<li>The value of <code class="docutils literal"><span class="pre">argc</span></code> shall be nonnegative.</li>
<li><code class="docutils literal"><span class="pre">argv[argc]</span></code> shall be a null pointer.</li>
<li>If the value of argc is greater than zero, the array members <code class="docutils literal"><span class="pre">argv[0]</span></code>
through <code class="docutils literal"><span class="pre">argv[argc-1]</span></code> inclusive shall contain pointers to strings, which
are given implementation-defined values by the host environment prior to
program startup. The intent is to supply to the program information
determined prior to program startup from elsewhere in the hosted
environment. If the host environment is not capable of supplying strings
with letters in both uppercase and lowercase, the implementation shall
ensure that the strings are received in lowercase.</li>
<li>If the value of argc is greater than zero, the string pointed to by
<code class="docutils literal"><span class="pre">argv[0]</span></code> represents the <em>program name</em>; <code class="docutils literal"><span class="pre">argv[0][0]</span></code> shall be the null
character if the program name is not available from the host environment.
If the value of <code class="docutils literal"><span class="pre">argc</span></code> is greater than one, the strings pointed to by
<code class="docutils literal"><span class="pre">argv[1]</span></code> through <code class="docutils literal"><span class="pre">argv[argc-1]</span></code> represent the <em>program parameters</em>.</li>
<li>The parameters <code class="docutils literal"><span class="pre">argc</span></code> and <code class="docutils literal"><span class="pre">argv</span></code> and the strings pointed to by the
<code class="docutils literal"><span class="pre">argv</span></code> array shall be modifiable by the program, and retain their
last-stored values between program startup and program termination.</li>
</ul>
<p>Let us see a program to summarize this:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">*</span><span class="n">argv</span><span class="p">[])</span>
<span class="p">{</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="n">i</span><span class="o">&lt;</span><span class="n">argc</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%s</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">argv</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>

  <span class="k">if</span><span class="p">(</span><span class="n">argv</span><span class="p">[</span><span class="n">argc</span><span class="p">]</span><span class="o">==</span><span class="nb">NULL</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;argv[argc] is NULL pointer.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and the output is:</p>
<div class="highlight-python"><div class="highlight"><pre>./a.out
1
2
3
4
5 6
argv[argc] is NULL pointer.
</pre></div>
</div>
<table class="docutils footnote" frame="void" id="id11" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id10">[5]</a></td><td>Thus, int can be replaced by a typedef name defined as <code class="docutils literal"><span class="pre">int</span></code>, or the
type of argv can be written as <code class="docutils literal"><span class="pre">char</span> <span class="pre">**</span> <span class="pre">argv</span></code>, and so on.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="program-execution">
<span id="id12"></span><span id="index-5"></span><h4>12.1.2.3. Program Execution<a class="headerlink" href="#program-execution" title="Permalink to this headline">¶</a></h4>
<p>In a hosted environment, a program may use all the functions, macros, type
definitions, and objects described in the library clause (clause 7).</p>
<p id="index-6"><strong>Program Termination</strong></p>
<p>If the return type of the <code class="docutils literal"><span class="pre">main</span></code> function is a type compatible with <code class="docutils literal"><span class="pre">int</span></code>,
a return from the initial call to the <code class="docutils literal"><span class="pre">main</span></code> function is equivalent to
calling the <code class="docutils literal"><span class="pre">exit</span></code> function with the value returned by the <code class="docutils literal"><span class="pre">main</span></code> function
as its argument; <a class="footnote-reference" href="#id14" id="id13">[6]</a> reaching the <strong>}</strong> that terminates the <code class="docutils literal"><span class="pre">main</span></code> function
returns a value of 0. If the return type is not compatible with <code class="docutils literal"><span class="pre">int</span></code>, the
termination status returned to the host environment is unspecified.</p>
<table class="docutils footnote" frame="void" id="id14" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id13">[6]</a></td><td>the lifetimes of objects with automatic storage duration declared in
<code class="docutils literal"><span class="pre">main</span></code> will have ended in the former case, even where they would not
have in the latter.</td></tr>
</tbody>
</table>
<p>Forward references: definition of terms (<a class="reference internal" href="../std/#id2"><span>Definitions of terms</span></a>), the exit function (<a class="reference internal" href="../stdlib/#id14"><span>The exit function</span></a>).</p>
</div>
<div class="section" id="index-7">
<span id="id15"></span><h4>12.1.2.4. Program Execution<a class="headerlink" href="#index-7" title="Permalink to this headline">¶</a></h4>
<ol class="arabic">
<li><p class="first">The semantic descriptions in this International Standard describe the
behavior of an abstract machine in which issues of optimization are
irrelevant.</p>
<p>Optimization is very important from compilers aspect. However, it is of
no concern for standard. The abstract machine in picture here has never been
fully treated in the specification. There has been only one formally
verified compiler with a subset of C. <a class="reference internal" href="#blazy" id="id16">[Blazy]</a></p>
</li>
<li><p class="first">Accessing a volatile object, modifying an object, modifying a file, or
calling a function that does any of those operations are all <em>side effects</em>,
<a class="footnote-reference" href="#id21" id="id17">[7]</a> which are changes in the state of the execution environment. Evaluation
of an expression may produce side effects. At certain specified points in
the execution sequence called <em>sequence points</em>, all side effects of
previous evaluations shall be complete and no side effects of subsequent
evaluations shall have taken place. (A summary of the sequence points is
given in appendix C).</p>
<p>There is hardly anything you can do without causing side effects. No useful
program can be written without causing side effects. The C library treats all
I/O as operations on files. The state of a program in execution includes
information about current flow of control. Access of a volatile object does not
guarantee a change in state, however, it has to be treated as side effect.</p>
<p>Functional language like Lisp, Erlang, Haskell etc designed to be side effect
free. This helps in proving mathematical properties of a program.</p>
<p>Expressions may also be evaluated for its result value. Consider following:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Enter an integer.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
  <span class="n">scanf</span><span class="p">(</span><span class="s">&quot;%d&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">i</span><span class="p">);</span>

  <span class="k">if</span><span class="p">(</span><span class="n">i</span><span class="o">%</span><span class="mi">2</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Number entered is intger.</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>here you can see that the value of expression <code class="docutils literal"><span class="pre">i%2</span></code> can alter the flow of
program. The definition of sequence points is given here and possible sequence
points are discussed later in appendix C.</p>
</li>
<li><p class="first"><em>Sequenced before</em> is an asymmetric, transitive, pair-wise relation between
evaluations executed by a single thread, which induces a partial order among
those evaluations. Given any two evaluations <em>A</em> and <em>B</em>, if <em>A</em> is
sequenced before <em>B</em>, then the execution of <em>A</em> shall precede the execution
of <em>B</em>. (Conversely, if <em>A</em> is sequenced before <em>B</em>, then <em>B</em> is <em>sequenced
after A</em>.) If <em>A</em> is not sequenced before or after <em>B</em>, then <em>A</em> and <em>B</em> are
<em>unsequenced</em>. Evaluations <em>A</em> and <em>B</em> are indeterminately sequenced when
<em>A</em> is sequenced either before or after <em>B</em>, but it is unspecified
which. <a class="footnote-reference" href="#id22" id="id18">[8]</a>) The presence of a sequence point between the evaluation of
expressions <em>A</em> and <em>B</em> implies that every value computation and
side effect associated with <em>A</em> is sequenced before every value computation
and side effect associated with <em>B</em>. (A summary of the sequence points is
given in annex :math:<a href="#id19"><span class="problematic" id="id20">`</span></a>S(text{iso.C}).)</p>
</li>
<li><p class="first">In the abstract machine, all expressions are evaluated as specified by the
semantics. An actual implementation need not evaluate part of an expression
if it can deduce that its value is not used and that no needed side effects
are produced (including any caused by calling a function or accessing a
volatile object).</p>
<p>The directions from specification here allow the implementation to optimize
the machine code as they want. Note that this may result to certain items
not discussed in specification. Any code which is translated and part of
final machine code, but is never executed, is known as <em>dead code</em>. Similarly,
a piece of code, which does not affect output of a program, is known as
<em>redundant code</em>.</p>
</li>
<li><p class="first">When the processing of the abstract machine is interrupted by receipt of a
signal, only the values of objects as of the previous sequence point may be
relied on. Objects that may be modified between the previous sequence point
and the next sequence point need not have received their correct values yet.</p>
<p>As you may know about modern processors have pipelines so before a signal is
pipelined more sequence points may be pipelined, however, we cannot rely on
that.</p>
</li>
<li><p class="first">The least requirements on a conforming implementation are:</p>
<ul class="simple">
<li>At sequence points, volatile objects are stable in the sense that previous
accesses are complete and subsequent accesses have not yet occurred.</li>
<li>At program termination, all data written into files shall be identical to
the result that execution of the program according to the abstract
semantics would have produced.</li>
<li>The input and output dynamics of interactive devices shall take place as
specified in <a class="reference internal" href="../stdio/#id8"><span>Files</span></a>. The intent of these requirements is that unbuffered
or line-buffered output appear as soon as possible, to ensure that
prompting messages actually appear prior to a program waiting for input.</li>
</ul>
</li>
<li><p class="first">What constitutes an interactive device is implementation-defined.</p>
</li>
<li><p class="first">More stringent correspondences between abstract and actual semantics may be
defined by each implementation.</p>
</li>
<li><p class="first">EXAMPLE 1 An implementation might define a one-to-one correspondence between
abstract and actual semantics: at every sequence point, the values of the
actual objects would agree with those specified by the abstract semantics.
The keyword <code class="docutils literal"><span class="pre">volatile</span></code> would then be redundant.</p>
<p><code class="docutils literal"><span class="pre">volatile</span></code> can only be redundant if the implementation is able to tell the
order of evaluation of an expression containing <code class="docutils literal"><span class="pre">volatile</span></code> objects.</p>
</li>
<li><p class="first">Alternatively, an implementation might perform various optimizations within
each translation unit, such that the actual semantics would agree with the
abstract semantics only when making function calls across translation unit
boundaries. In such an implementation, at the time of each function entry
and function return where the calling function and the called function are
in different translation units, the values of all externally linked objects
and of all objects accessible via pointers therein would agree with the abstract
semantics. Furthermore, at the time of each such function entry the values
of the parameters of the called function and of all objects accessible via
pointers therein would agree with the abstract semantics. In this type of
implementation, objects referred to by interrupt service routines activated
by the <code class="docutils literal"><span class="pre">signal</span></code> function would require explicit specification of <code class="docutils literal"><span class="pre">volatile</span></code>
storage, as well as other implementation-defined restrictions.</p>
<p>Requirement that the code declare all object accessed by interrupt service
routines as <code class="docutils literal"><span class="pre">volatile</span></code> is difficult to achieve in practice because such
routines can be invoked in many ways.</p>
</li>
<li><p class="first">EXAMPLE 2 In executing the fragment</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">char</span> <span class="n">c1</span><span class="p">,</span> <span class="n">c2</span><span class="p">;</span>
<span class="cm">/* ... */</span>
<span class="n">c1</span> <span class="o">=</span> <span class="n">c1</span> <span class="o">+</span> <span class="n">c2</span><span class="p">;</span>
</pre></div>
</div>
<p>the &#8220;integer promotions&#8221; require that the abstract machine promote the value
of each variable to <code class="docutils literal"><span class="pre">int</span></code> size and then add the two <code class="docutils literal"><span class="pre">ints</span></code> and truncate the
sum. Provided the addition of two <code class="docutils literal"><span class="pre">chars</span></code> can be done without overflow, or
with overflow wrapping silently to produce the correct result, the actual
execution need only produce the same result, possibly omitting the promotions.</p>
</li>
<li><p class="first">EXAMPLE 3 Similarly, in the fragment</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">float</span> <span class="n">f1</span><span class="p">,</span> <span class="n">f2</span><span class="p">;</span>
<span class="kt">double</span> <span class="n">d</span><span class="p">;</span>
<span class="cm">/* ... */</span>
<span class="n">f1</span> <span class="o">=</span> <span class="n">f2</span> <span class="o">*</span> <span class="n">d</span><span class="p">;</span>
</pre></div>
</div>
<p>the multiplication may be executed using single-precision arithmetic if the
implementation can ascertain that the result would be the same as if it were
executed using double-precision arithmetic (for example, if <code class="docutils literal"><span class="pre">d</span></code> were replaced
by the constant <code class="docutils literal"><span class="pre">2.0</span></code>, which has type <code class="docutils literal"><span class="pre">double</span></code>).</p>
</li>
<li><p class="first">EXAMPLE 4 Implementations employing wide registers have to take care to honor
appropriate semantics. Values are independent of whether they are represented
in a register or in memory. For example, an implicit spilling of a register is
not permitted to alter the value. Also, an explicit store and load is required
to round to the precision of the storage type. In particular, casts and
assignments are required to perform their specified conversion. For the fragment</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">double</span> <span class="n">d1</span><span class="p">,</span> <span class="n">d2</span><span class="p">;</span>
<span class="kt">float</span> <span class="n">f</span><span class="p">;</span>
<span class="n">d1</span> <span class="o">=</span> <span class="n">f</span> <span class="o">=</span> <span class="n">expression</span><span class="p">;</span>
<span class="n">d2</span> <span class="o">=</span> <span class="p">(</span><span class="kt">float</span><span class="p">)</span> <span class="n">expression</span><span class="p">;</span>
</pre></div>
</div>
<p>the values assigned to <code class="docutils literal"><span class="pre">d1</span></code> and <code class="docutils literal"><span class="pre">d2</span></code> are required to have been converted
to <code class="docutils literal"><span class="pre">float</span></code>.</p>
</li>
<li><p class="first">EXAMPLE 5 Rearrangement for floating-point expressions is often restricted
because of limitations in precision as well as range. The implementation
cannot generally apply the mathematical associative rules for addition or
multiplication, nor the distributive rule, because of roundoff error, even
in the absence of overflow and underflow. Likewise, implementations cannot
generally replace decimal constants in order to rearrange expressions. In
the following fragment, rearrangements suggested by mathematical rules for real
numbers are often not valid (see F.8).</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">double</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z</span><span class="p">;</span>
<span class="cm">/* ... */</span>
<span class="n">x</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="n">z</span><span class="p">;</span> <span class="c1">// not equivalent to x *= y * z;</span>
<span class="n">z</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span> <span class="o">+</span> <span class="n">y</span><span class="p">;</span> <span class="c1">// not equivalent to z = x;</span>
<span class="n">z</span> <span class="o">=</span> <span class="n">x</span> <span class="o">+</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span><span class="p">;</span>   <span class="c1">// not equivalent to z = x * (1.0 + y);</span>
<span class="n">y</span> <span class="o">=</span> <span class="n">x</span> <span class="o">/</span> <span class="mf">5.0</span><span class="p">;</span>     <span class="c1">// not equivalent to y = x * 0.2;</span>
</pre></div>
</div>
</li>
<li><p class="first">EXAMPLE 6 To illustrate the grouping behavior of expressions, in the following fragment</p>
<div class="highlight-c"><div class="highlight"><pre><span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>
<span class="cm">/* ... */</span>
<span class="n">a</span> <span class="o">=</span> <span class="n">a</span> <span class="o">+</span> <span class="mi">32760</span> <span class="o">+</span> <span class="n">b</span> <span class="o">+</span> <span class="mi">5</span><span class="p">;</span>
</pre></div>
</div>
<p>the expression statement behaves exactly the same as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="p">(((</span><span class="n">a</span> <span class="o">+</span> <span class="mi">32760</span><span class="p">)</span> <span class="o">+</span> <span class="n">b</span><span class="p">)</span> <span class="o">+</span> <span class="mi">5</span><span class="p">);</span>
</pre></div>
</div>
<p>due to the associativity and precedence of these operators. Thus, the result of the
sum <code class="docutils literal"><span class="pre">(a</span> <span class="pre">+</span> <span class="pre">32760)</span></code> is next added to <code class="docutils literal"><span class="pre">b</span></code>, and that result is then added to <code class="docutils literal"><span class="pre">5</span></code>
which results in the value assigned to <code class="docutils literal"><span class="pre">a</span></code>. On a machine in which overflows produce
an explicit trap and in which the range of values representable by an <code class="docutils literal"><span class="pre">int</span></code> is
<code class="docutils literal"><span class="pre">[-32768,</span> <span class="pre">+32767]</span></code>, the implementation cannot rewrite this expression as
<code class="docutils literal"><span class="pre">a</span> <span class="pre">=</span> <span class="pre">((a</span> <span class="pre">+</span> <span class="pre">b)</span> <span class="pre">+</span> <span class="pre">32765);</span></code> since if the values for <code class="docutils literal"><span class="pre">a</span></code> and <code class="docutils literal"><span class="pre">b</span></code> were, respectively,
<code class="docutils literal"><span class="pre">-32754</span></code> and <code class="docutils literal"><span class="pre">-15</span></code>, the sum <code class="docutils literal"><span class="pre">a</span> <span class="pre">+</span> <span class="pre">b</span></code> would produce a trap while the original
expression would not; nor can the expression be rewritten either as:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="p">((</span><span class="n">a</span> <span class="o">+</span> <span class="mi">32765</span><span class="p">)</span> <span class="o">+</span> <span class="n">b</span><span class="p">);</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="p">(</span><span class="n">a</span> <span class="o">+</span> <span class="p">(</span><span class="n">b</span> <span class="o">+</span> <span class="mi">32765</span><span class="p">));</span>
</pre></div>
</div>
<p>since the values for <code class="docutils literal"><span class="pre">a</span></code> and <code class="docutils literal"><span class="pre">b</span></code> might have been, respectively, <code class="docutils literal"><span class="pre">4</span></code> and <code class="docutils literal"><span class="pre">-8</span></code>
or <code class="docutils literal"><span class="pre">-17</span></code> and <code class="docutils literal"><span class="pre">12</span></code>. However, on a machine in which overflow silently generates
some value and where positive and negative overflows cancel, the above expression
statement can be rewritten by the implementation in any of the above ways because the
same result will occur.</p>
</li>
<li><p class="first">EXAMPLE 7 The grouping of an expression does not completely determine its evaluation.
In the following fragment</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="kt">int</span> <span class="n">sum</span><span class="p">;</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span>
<span class="cm">/* ... */</span>
<span class="n">sum</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">-</span> <span class="sc">&#39;0&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="o">++</span> <span class="o">=</span> <span class="n">getchar</span><span class="p">());</span>
</pre></div>
</div>
<p>the expression statement is grouped as if it were written as:</p>
<div class="highlight-python"><div class="highlight"><pre>sum = (((sum * 10) - &#39;0&#39;) + ((*(p++)) = (getchar())));
</pre></div>
</div>
<p>but the actual increment of p can occur at any time between the previous sequence
point and the next sequence point (the ;), and the call to <code class="docutils literal"><span class="pre">getchar</span></code> can occur
at any point prior to the need of its returned value.</p>
</li>
<li><p class="first">EXAMPLE 7 The grouping of an expression does not completely determine its
evaluation. In the following fragment</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="kt">int</span> <span class="n">sum</span><span class="p">;</span>
<span class="kt">char</span> <span class="o">*</span><span class="n">p</span><span class="p">;</span>
<span class="cm">/* ... */</span>
<span class="n">sum</span> <span class="o">=</span> <span class="n">sum</span> <span class="o">*</span> <span class="mi">10</span> <span class="o">-</span> <span class="sc">&#39;0&#39;</span> <span class="o">+</span> <span class="p">(</span><span class="o">*</span><span class="n">p</span><span class="o">++</span> <span class="o">=</span> <span class="n">getchar</span><span class="p">());</span>
</pre></div>
</div>
<p>the expression statement is grouped as if it were written as <code class="docutils literal"><span class="pre">sum</span> <span class="pre">=</span>
<span class="pre">(((sum</span> <span class="pre">*</span> <span class="pre">10)</span> <span class="pre">-</span> <span class="pre">'0')</span> <span class="pre">+</span> <span class="pre">((*(p++))</span> <span class="pre">=</span> <span class="pre">(getchar())));</span></code> but the actual increment
of <code class="docutils literal"><span class="pre">p</span></code> can occur at any time between the previous sequence point and the
next sequence point (the <code class="docutils literal"><span class="pre">;</span></code>), and the call to <code class="docutils literal"><span class="pre">getchar</span></code> can occur at
any point prior to the need of its returned value.</p>
</li>
</ol>
<table class="docutils footnote" frame="void" id="id21" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id17">[7]</a></td><td>The IEC 60559 standard for binary floating-point arithmetic requires
certain user-accessible status flags and control modes. Floating-point
operations implicitly set the status flags; modes affect result values of
floating-point operations. Implementations that support such floating-point
state are required to regard changes to it as side effects - see appendix for
details. The floating-point environment library &lt;fenv.h&gt; provides a
programming facility for indicating when these side effects matter, freeing
the implementations in other cases.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id22" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id18">[8]</a></td><td>The executions of unsequenced evaluations can
interleave. Indeterminately sequenced evaluations cannot interleave, but
can be executed in any order.</td></tr>
</tbody>
</table>
<p><strong>Forward references:</strong> expressions (<a class="reference internal" href="../lang/#id130"><span>Expressions</span></a>), type qualifiers (<a class="reference internal" href="../lang/#id249"><span>Type qualifiers</span></a>),
statements (<a class="reference internal" href="../lang/#id299"><span>Statements and blocks</span></a>), the signal function (<a class="reference internal" href="../signal/#id3"><span>The signal function</span></a>), files (<a class="reference internal" href="../stdio/#id8"><span>Files</span></a>).</p>
<table class="docutils citation" frame="void" id="blazy" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id16">[Blazy]</a></td><td>Sandrine Blazy, Zaynah Dargaye, Xavier Leroy, Formal Verification of
a C Compiler Front-end FM&#8216;06: 14th Symposium on Formal Methods 4085 (2006) pp.460-475</td></tr>
</tbody>
</table>
</div>
</div>
</div>
<div class="section" id="multi-threaded-executions-and-data-races">
<h2>12.2. Multi-threaded executions and data races<a class="headerlink" href="#multi-threaded-executions-and-data-races" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Under a hosted implementation, a program can have more than one <em>thread of
execution</em> (or <em>thread</em>) running concurrently. The execution of each thread
proceeds as defined by the remainder of this standard. The execution of the
entire program consists of an execution of all of its threads. <a class="footnote-reference" href="#id26" id="id23">[9]</a> Under a
freestanding implementation, it is implementation-defined whether a program
can have more than one thread of execution.</p>
</li>
<li><p class="first">The value of an object visible to a thread <em>T</em> at a particular point is the
initial value of the object, a value stored in the object by <em>T</em> , or a
value stored in the object by another thread, according to the rules below.</p>
</li>
<li><p class="first">NOTE 1 In some cases, there may instead be undefined behavior. Much of this
section is motivated by the desire to support atomic operations with
explicit and detailed visibility constraints. However, it also implicitly
supports a simpler view for more restricted programs.</p>
</li>
<li><p class="first">Two expression evaluations conflict if one of them modifies a memory
location and the other one reads or modifies the same memory location.</p>
</li>
<li><p class="first">The library defines a number of <em>atomic operations</em> (7.17) and operations on
mutexes (7.26.4) that are specially identified as synchronization
operations. These operations play a special role in making assignments in
one thread visible to another. A <em>synchronization operation</em> on one or more
memory locations is either an <em>acquire operation, a release operation,</em> both
an acquire and release operation, or a <em>consume operation</em>. A
synchronization operation without an associated memory location is a <em>fence</em>
and can be either an acquire fence, a release fence, or both an acquire and
release fence. In addition, there are <em>relaxed atomic operations,</em> which are
not synchronization operations, and atomic <em>read-modify-write operations,</em>
which have special characteristics.</p>
</li>
<li><p class="first">NOTE 2 For example, a call that acquires a mutex will perform an acquire
operation on the locations composing the mutex. Correspondingly, a call that
releases the same mutex will perform a release operation on those same
locations. Informally, performing a release operation on A forces prior side
effects on other memory locations to become visible to other threads that
later perform an acquire or consume operation on A. We do not include
relaxed atomic operations as synchronization operations although, like
synchronization operations, they cannot contribute to data races.</p>
</li>
<li><p class="first">All modifications to a particular atomic object <em>M</em> occur in some particular
total order, called the <em>modification order</em> of <em>M</em>. If <em>A</em> and <em>B</em> are
modifications of an atomic object <em>M</em>, and <em>A</em> happens before <em>B</em>, then <em>A</em>
shall precede <em>B</em> in the modification order of <em>M,</em> which is defined below.</p>
</li>
<li><p class="first">NOTE 3 This states that the modification orders must respect the &#8220;happens
before&#8221; relation.</p>
</li>
<li><p class="first">NOTE 4 There is a separate order for each atomic object. There is no
requirement that these can be combined into a single total order for all
objects. In general this will be impossible since different threads
may observe modifications to different variables in inconsistent orders.</p>
</li>
<li><p class="first">A <em>release sequence</em> headed by a release operation <em>A</em> on an atomic object
<em>M</em> is a maximal contiguous sub-sequence of side effects in the
modification order of <em>M</em>, where the first operation is <em>A</em> and every
subsequent operation either is performed by the same thread that performed
the release or is an atomic read-modify-write operation.</p>
</li>
<li><p class="first">Certain library calls <em>synchronize</em> with other library calls performed by
another thread. In particular, an atomic operation <em>A</em> that performs a
release operation on an object <em>M</em> synchronizes with an atomic operation
<em>B</em> that performs an acquire operation on <em>M</em> and reads a value written by
any side effect in the release sequence headed by <em>A</em>.</p>
</li>
<li><p class="first">NOTE 5 Except in the specified cases, reading a later value does not
necessarily ensure visibility as described below. Such a requirement would
sometimes interfere with efficient implementation.</p>
</li>
<li><p class="first">NOTE 6 The specifications of the synchronization operations define when one
reads the value written by another. For atomic variables, the definition is
clear. All operations on a given mutex occur in a single total order. Each
mutex acquisition &#8220;reads the value written&#8221; by the last mutex release.</p>
</li>
<li><p class="first">An evaluation <em>A</em> carries a <em>dependency</em> <a class="footnote-reference" href="#id27" id="id24">[10]</a> to an evaluation <em>B</em> if:</p>
<ul class="simple">
<li>the value of <em>A</em> is used as an operand of <em>B</em>, unless:<ul>
<li><em>B</em> is an invocation of the <strong>kill_dependency</strong> macro,</li>
<li><em>A</em> is the left operand of a <strong>&amp;&amp;</strong> or <strong>||</strong> operator,</li>
<li><em>A</em> is the left operand of a <strong>? :</strong> operator, or</li>
<li><em>A</em> is the left operand of a <strong>,</strong> operator;</li>
</ul>
</li>
</ul>
<p>or,</p>
<ul class="simple">
<li><em>A</em> writes a scalar object or bit-field <em>M, B</em> reads from <em>M</em> the value
written by <em>A,</em> and <em>A</em> is sequenced before <em>B,</em> or</li>
<li>for some evaluation <em>X, A</em> carries a dependency to <em>X</em> and <em>X</em> carries a
dependency to <em>B</em>.</li>
</ul>
</li>
<li><p class="first">An evaluation <em>A</em> is <em>dependency-ordered before</em> <a class="footnote-reference" href="#id28" id="id25">[11]</a> an evaluation <em>B</em> if:</p>
<ul class="simple">
<li><em>A</em> performs a release operation on an atomic object <em>M</em>, and, in another
thread, <em>B</em> performs a consume operation on <em>M</em> and reads a value written
by any side effect in the release sequence headed by <em>A,</em> or</li>
<li>for some evaluation <em>X, A</em> is dependency-ordered before <em>X</em> and <em>X</em>
carries a dependency to <em>B</em>.</li>
</ul>
</li>
<li><p class="first">An evaluation <em>A inter-thread happens before</em> an evaluation <em>B</em> if <em>A</em>
synchronizes with <em>B, A</em> is dependency-ordered before <em>B,</em> or, for some
evaluation <em>X:</em></p>
<ul class="simple">
<li>A synchronizes with <em>X</em> and <em>X</em> is sequenced before <em>B,</em></li>
<li>A is sequenced before <em>X</em> and <em>X</em> inter-thread happens before <em>B,</em> or</li>
<li>A inter-thread happens before <em>X</em> and <em>X</em> inter-thread happens before
<em>B.</em></li>
</ul>
</li>
<li><p class="first">NOTE 7 The &#8220;inter-thread happens before&#8221; relation describes arbitrary
concatenations of &#8220;sequenced before&#8221;, &#8220;synchronizes with&#8221;, and
&#8220;dependency-ordered before&#8221; relationships, with two exceptions. The first
exception is that a concatenation is not permitted to end with
&#8220;dependency-ordered before&#8221; followed by &#8220;sequenced before&#8221;. The reason for
this limitation is that a consume operation participating in a
&#8220;dependency-ordered before&#8221; relationship provides ordering only with
respect to operations to which this consume operation actually carries a
dependency. The reason that this limitation applies only to the end of
such a concatenation is that any subsequent release operation will provide
the required ordering for a prior consume operation. The second exception
is that a concatenation is not permitted to consist entirely of &#8220;sequenced
before&#8221;. The reasons for this limitation are (1) to permit &#8220;inter-thread
happens before&#8221; to be transitively closed and (2) the &#8220;happens before&#8221;
relation, defined below, provides for relationships consisting entirely of
&#8220;sequenced before&#8221;.</p>
</li>
<li><p class="first">An evaluation <em>A happens before</em> an evaluation <em>B</em> if <em>A</em> is sequenced
before <em>B</em> or <em>A</em> inter-thread happens before <em>B</em>.</p>
</li>
<li><p class="first">A <em>visible side effect A</em> on an object <em>M</em> with respect to a value
computation <em>B</em> of <em>M</em> satisfies the conditions:</p>
<ul class="simple">
<li><em>A</em> happens before <em>B,</em> and</li>
<li>there is no other side effect <em>X</em> to <em>M</em> such that <em>A</em> happens before <em>X</em>
and <em>X</em> happens before <em>B</em>.</li>
</ul>
<p>The value of a non-atomic scalar object <em>M,</em> as determined by evaluation
<em>B,</em> shall be the value stored by the visible side effect <em>A</em>.</p>
</li>
<li><p class="first">NOTE 8 If there is ambiguity about which side effect to a non-atomic object
is visible, then there is a data race and the behavior is undefined.</p>
</li>
<li><p class="first">NOTE 9 This states that operations on ordinary variables are not visibly
reordered. This is not actually detectable without data races, but it is
necessary to ensure that data races, as defined here, and with suitable
restrictions on the use of atomics, correspond to data races in a simple
interleaved (sequentially consistent) execution.</p>
</li>
<li><p class="first">The <em>visible sequence of side effects</em> on an atomic object <em>M,</em> with
respect to a value computation <em>B</em> of <em>M,</em> is a maximal contiguous
sub-sequence of side effects in the modification order of <em>M,</em> where the
first side effect is visible with respect to <em>B,</em> and for every subsequent
side effect, it is not the case that <em>B</em> happens before it. The value of an
atomic object <em>M,</em> as determined by evaluation <em>B,</em> shall be the value
stored by some operation in the visible sequence of <em>M</em> with respect to
<em>B</em>. Furthermore, if a value computation <em>A</em> of an atomic object <em>M</em>
happens before a value computation <em>B</em> of <em>M,</em> and the value computed by
<em>A</em> corresponds to the value stored by side effect <em>X</em>, then the value
computed by <em>B</em> shall either equal the value computed by <em>A,</em> or be the
value stored by side effect <em>Y,</em> where <em>Y</em> follows <em>X</em> in the modification
order of <em>M</em>.</p>
</li>
<li><p class="first">NOTE 10 This effectively disallows compiler reordering of atomic operations
to a single object, even if both operations are &#8220;relaxed&#8221; loads. By doing
so, we effectively make the &#8220;cache coherence&#8221; guarantee provided by most
hardware available to C atomic operations.</p>
</li>
<li><p class="first">NOTE 11 The visible sequence depends on the &#8220;happens before&#8221; relation,
which in turn depends on the values observed by loads of atomics, which we
are restricting here. The intended reading is that there must exist an
association of atomic loads with modifications they observe that, together
with suitably chosen modification orders and the &#8220;happens before&#8221; relation
derived as described above, satisfy the resulting constraints as imposed
here.</p>
</li>
<li><p class="first">The execution of a program contains a <em>data race</em> if it contains two
conflicting actions in different threads, at least one of which is not
atomic, and neither happens before the other. Any such data race results in
undefined behavior.</p>
</li>
<li><p class="first">NOTE 12 It can be shown that programs that correctly use simple mutexes and
<code class="docutils literal"><span class="pre">memory_order_seq_cst</span> <span class="pre">operations</span></code> to prevent all data races, and use no
other synchronization operations, behave as though the operations executed
by their constituent threads were simply interleaved, with each value
computation of an object being the last value stored in that
interleaving. This is normally referred to as &#8220;sequential
consistency&#8221;. However, this applies only to data-race-free programs, and
data-race-free programs cannot observe most program transformations that do
not change single-threaded program semantics. In fact, most single-threaded
program transformations continue to be allowed, since any program that
behaves differently as a result must contain undefined behavior.</p>
</li>
<li><p class="first">NOTE 13 Compiler transformations that introduce assignments to a
potentially shared memory location that would not be modified by the
abstract machine are generally precluded by this standard, since such an
assignment might overwrite another assignment by a different thread in
cases in which an abstract machine execution would not have encountered a
data race. This includes implementations of data member assignment that
overwrite adjacent members in separate memory locations. We also generally
preclude reordering of atomic loads in cases in which the atomics in
question may alias, since this may violate the &#8220;visible sequence&#8221; rules.</p>
</li>
<li><p class="first">NOTE 14 Transformations that introduce a speculative read of a potentially
shared memory location may not preserve the semantics of the program as
defined in this standard, since they potentially introduce a data
race. However, they are typically valid in the context of an optimizing
compiler that targets a specific machine with well-defined semantics for
data races. They would be invalid for a hypothetical machine that is not
tolerant of races or provides hardware race detection.</p>
</li>
</ol>
<table class="docutils footnote" frame="void" id="id26" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id23">[9]</a></td><td>The execution can usually be viewed as an interleaving of all of the
threads. However, some kinds of atomic operations, for example, allow
executions inconsistent with a simple interleaving as described below.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id27" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id24">[10]</a></td><td>The &#8220;carries a dependency&#8221; relation is a subset of the &#8220;sequenced
before&#8221; relation, and is similarly strictly intra-thread.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id28" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id25">[11]</a></td><td>The &#8220;dependency-ordered before&#8221; relation is analogous to the
&#8220;synchronizes with&#8221; relation, but uses release/consume in place of
release/acquire.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="environmental-considerations">
<span id="id29"></span><span id="index-8"></span><h2>12.3. Environmental considerations<a class="headerlink" href="#environmental-considerations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="character-sets">
<span id="id30"></span><span id="index-9"></span><h3>12.3.1. Character Sets<a class="headerlink" href="#character-sets" title="Permalink to this headline">¶</a></h3>
<ol class="arabic">
<li><p class="first">Two sets of characters and their associated collating sequences shall be defined:
the set in  which source files are written (the <em>source character set</em>), and the
set interpreted in the execution environment (the <em>execution character set</em>). Each
set is further divided into a <em>basic character set</em>, whose contents are given by
this subclause, and a set of zero or more locale-specific members (which are not
members of the basic character set) called <em>extended characters</em>. The combined
set is also called the <em>extended character set</em>. The values of the members of
the execution character set are implementation-defined.</p>
</li>
<li><p class="first">In a character constant or string literal, members of the execution character set
shall be represented by corresponding members of the source character set or by
<em>escape sequences</em> consisting of the backslash followed by one or more
characters. A byte with all bits set to 0, called the <em>null character</em>, shall exist
in the basic execution character set; it is used to terminate a character string.</p>
</li>
<li><p class="first">Both the basic source and basic execution character sets shall have the following
members: the 26 <em>uppercase letters</em> of the Latin alphabet:</p>
<div class="highlight-python"><div class="highlight"><pre>A B C D E F G H I J K L: M N O P Q R S T U V W X Y Z
</pre></div>
</div>
<p>the 26 <em>lowercase letters</em> of the Latin alphabet:</p>
<div class="highlight-python"><div class="highlight"><pre>a b c d e f g h i j k l m n o p q r s t u v w x y z
</pre></div>
</div>
<p>the 10 decimal digits:</p>
<div class="highlight-python"><div class="highlight"><pre>0 1 2 3 4 5 6 7 8 9
</pre></div>
</div>
<p>the following 29 graphic characters:</p>
<div class="highlight-python"><div class="highlight"><pre>~ ! # % ^ &amp; * ( ) - _ = + \ | [ ] { } ; : &#39; &quot; , &lt; . &gt; / ?
</pre></div>
</div>
<p>the space character, and control characters representing horizontal tab, vertical
tab, and form feed. The representation of each member of the source and execution
basic character sets shall fit in a byte. In both the source and execution basic
character sets, the value of each character after 0 in the above list of decimal
digits shall be one greater than the value of the previous. In source files,
there shall be some way of indicating the end of each line of text; this
International Standard treats such an end-of-line indicator as if it were a single
new-line character. In the basic execution character set, there shall be control
characters representing alert, backspace, carriage return, and new line. If any
other characters are encountered in a source file (except in an identifier, a character
constant, a string literal, a header name, a comment, or a preprocessing token that
is never converted to a token), the behavior is undefined.</p>
<p>These character sets are also described in <a class="reference internal" href="../basics/#id1"><span>The C Character Set</span></a> .</p>
</li>
<li><p class="first">A <em>letter</em> is an uppercase letter or a lowercase letter as defined above; in this
International  Standard the term does not include other characters that are
letters in other alphabets.</p>
</li>
<li><p class="first">The universal character name construct provides a way to name other characters.</p>
</li>
</ol>
<p><strong>Forward references:</strong> universal character names (<a class="reference internal" href="../lang/#id103"><span>Universal character names</span></a>), character constants
(<a class="reference internal" href="../lang/#id114"><span>Character constants</span></a>), preprocessing directives (<a class="reference internal" href="../macros/#macros"><span>Preprocessing Directives</span></a>), string literals (<a class="reference internal" href="../lang/#id117"><span>String literals</span></a>),
comments (<a class="reference internal" href="../lang/#id127"><span>Comments</span></a>), string (<a class="reference internal" href="../std/#id1"><span>Introduction</span></a>).</p>
<div class="section" id="trigraph-sequences">
<span id="id31"></span><span id="index-10"></span><h4>12.3.1.1. Trigraph sequences<a class="headerlink" href="#trigraph-sequences" title="Permalink to this headline">¶</a></h4>
<p>All occurrences in a source file of the following sequences of three characters (called
trigraph sequences <a class="footnote-reference" href="#id34" id="id32">[12]</a>) are replaced with the corresponding single character.</p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="15%" />
<col width="18%" />
<col width="15%" />
<col width="18%" />
<col width="15%" />
<col width="18%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Trigraph</th>
<th class="head">Equivalent</th>
<th class="head">Trigraph</th>
<th class="head">Equivalent</th>
<th class="head">Trigraph</th>
<th class="head">Equivalent</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>??=</td>
<td>#</td>
<td>??&#8217;</td>
<td>^</td>
<td>??!</td>
<td>|</td>
</tr>
<tr class="row-odd"><td>??(</td>
<td>[</td>
<td>??)</td>
<td>]</td>
<td>??&lt;</td>
<td>{</td>
</tr>
<tr class="row-even"><td>??&gt;</td>
<td>}</td>
<td>??/</td>
<td>\</td>
<td>??-</td>
<td>~</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p>This table is also given in <a class="reference internal" href="../basics/#id1"><span>The C Character Set</span></a> .
No other trigraph sequences exist. Each <code class="docutils literal"><span class="pre">?</span></code> that does not begin one of the trigraphs listed
above is not changed.</p>
<p>EXAMPLE The following source line</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Eh???/n&quot;</span><span class="p">);</span>
</pre></div>
</div>
<p>becomes (after replacement of the trigraph sequence ??/)</p>
<div class="highlight-c"><div class="highlight"><pre><span class="n">printf</span><span class="p">(</span><span class="s">&quot;Eh?</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="multibyte-characters">
<span id="index-11"></span><h4>12.3.1.2. Multibyte characters<a class="headerlink" href="#multibyte-characters" title="Permalink to this headline">¶</a></h4>
<p>The source character set may contain multibyte characters, used to represent members of
the extended character set. The execution character set may also contain multibyte
characters, which need not have the same encoding as for the source character set. For
both character sets, the following shall hold:</p>
<ul class="simple">
<li>The basic character set shall be present and each character shall be encoded as a
single byte.</li>
<li>The presence, meaning, and representation of any additional members is locale-
specific.</li>
<li>A multibyte character set may have a <em>state-dependent encoding</em>, wherein each
sequence of multibyte characters begins in an <em>initial shift state</em> and enters other
locale-specific <em>shift states</em> when specific multibyte characters are encountered in the
sequence. While in the initial shift state, all single-byte characters retain their usual
interpretation and do not alter the shift state. The interpretation for subsequent bytes
in the sequence is a function of the current shift state.</li>
<li>A byte with all bits zero shall be interpreted as a null character independent of shift
state. Such a byte shall not occur as part of any other multibyte character.</li>
</ul>
<p>For source files, the following shall hold:</p>
<ul>
<li><p class="first">An identifier, comment, string literal, character constant, or header name shall begin
and end in the initial shift state.</p>
</li>
<li><p class="first">An identifier, comment, string literal, character constant, or header name shall consist
of a sequence of valid multibyte characters.</p>
<p>For example, accented characters fall in this category.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="character-display-semantics">
<span id="id33"></span><span id="index-12"></span><h3>12.3.2. Character display semantics<a class="headerlink" href="#character-display-semantics" title="Permalink to this headline">¶</a></h3>
<p>The <em>active position</em> is that location on a display device where the next character output by
the <em>fputc</em> function would appear. The intent of writing a printing character (as defined
by the <em>isprint</em> function) to a display device is to display a graphic representation of
that character at the active position and then advance the active position to the next
position on the current line. The direction of writing is locale-specific. If the active
position is at the final position of a line (if there is one), the behavior of the display
device is unspecified. Following escape sequences are also treated in <a class="reference internal" href="../basics/#id3"><span>Escape Sequences</span></a>.</p>
<p>Alphabetic escape sequences representing nongraphic characters in the execution
character set are intended to produce actions on display devices as follows:</p>
<p><code class="docutils literal"><span class="pre">\a</span></code> (<em>alert</em>) Produces an audible or visible alert without changing the active position.</p>
<p><code class="docutils literal"><span class="pre">\b</span></code> (<em>backspace</em>) Moves the active position to the previous position on the current
line. If the active position is at the initial position of a line, the behavior of
the display device is unspecified.</p>
<p><code class="docutils literal"><span class="pre">\f</span></code> (<em>form feed</em>) Moves the active position to the initial position at the start of
the next logical page.</p>
<p><code class="docutils literal"><span class="pre">\n</span></code> (<em>new line</em>) Moves the active position to the initial position of the next line.</p>
<p><code class="docutils literal"><span class="pre">\r</span></code> (<em>carriage return</em>) Moves the active position to the initial position of the
current line.</p>
<p><code class="docutils literal"><span class="pre">\t</span></code> (<em>horizontal tab</em>) Moves the active position to the next horizontal tabulation
position on the current line. If the active position is at or past the last
defined horizontal tabulation position, the behavior of the display device is
unspecified.</p>
<p><code class="docutils literal"><span class="pre">\v</span></code> (<em>vertical tab</em>) Moves the active position to the initial position of the next
vertical tabulation position. If the active position is at or past the last
defined vertical tabulation position, the behavior of the display device is
unspecified.</p>
<p>Each of these escape sequences shall produce a unique implementation-defined value
which can be stored in a single char object. The external representations in a text file
need not be identical to the internal representations, and are outside the scope of this
International Standard.</p>
<p><strong>Forward references:</strong> the <code class="docutils literal"><span class="pre">isprint</span></code> function (<a class="reference internal" href="../ctypes/#id4"><span>The isprint function</span></a>), the <code class="docutils literal"><span class="pre">fputc</span></code>
function (<a class="reference internal" href="../stdio/#id67"><span>The fputc function</span></a>).</p>
<table class="docutils footnote" frame="void" id="id34" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id32">[12]</a></td><td>The trigraph sequences enable the input of characters that are not defined in
the Invariant Code Set as described in ISO/IEC 646, which is a subset of the seven-bit
US ASCII code set.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="signals-and-interrupts">
<span id="index-13"></span><h3>12.3.3. Signals and interrupts<a class="headerlink" href="#signals-and-interrupts" title="Permalink to this headline">¶</a></h3>
<p>Functions shall be implemented such that they may be interrupted at any time by a signal,
or may be called by a signal handler, or both, with no alteration to earlier, but still
active, invocations’ control flow (after the interruption), function return values, or
objects with automatic storage duration. All such objects shall be maintained outside
the function image (the instructions that compose the executable representation of a
function) on a per-invocation basis.</p>
</div>
<div class="section" id="environmental-limits">
<h3>12.3.4. Environmental limits<a class="headerlink" href="#environmental-limits" title="Permalink to this headline">¶</a></h3>
<p>Both the translation and execution environments constrain the implementation of
language translators and libraries. The following summarizes the language-related
environmental limits on a conforming implementation; the library-related limits are
discussed in chapter 13 onwards.</p>
<div class="section" id="translation-limits">
<span id="id35"></span><h4>12.3.4.1. Translation limits<a class="headerlink" href="#translation-limits" title="Permalink to this headline">¶</a></h4>
<p>The implementation shall be able to translate and execute at least one program that
contains at least one instance of every one of the following limits: <a class="footnote-reference" href="#id38" id="id36">[13]</a></p>
<ul class="simple">
<li>127 nesting levels of blocks</li>
<li>63 nesting levels of conditional inclusion</li>
<li>12 pointer, array, and function declarators (in any combinations) modifying an
arithmetic, structure, union, or incomplete type in a declaration</li>
<li>63 nesting levels of parenthesized declarators within a full declarator</li>
<li>63 nesting levels of parenthesized expressions within a full expression</li>
<li>63 significant initial characters in an internal identifier or a macro name (each
universal character name or extended source character is considered a single
character)</li>
<li>31 significant initial characters in an external identifier (each universal
character name specifying a short identifier of 0000FFFF or less is considered
6 characters, each universal character name specifying a short identifier of
00010000 or more is considered 10 characters, and each extended source character
is considered the same number of characters as the corresponding universal
character name, if any) <a class="footnote-reference" href="#id39" id="id37">[14]</a></li>
<li>4095 external identifiers in one translation unit</li>
<li>511 identifiers with block scope declared in one block</li>
<li>4095 macro identifiers simultaneously defined in one preprocessing translation unit</li>
<li>127 parameters in one function definition</li>
<li>127 arguments in one function call</li>
<li>127 parameters in one macro definition</li>
<li>127 arguments in one macro invocation</li>
<li>4095 characters in a logical source line</li>
<li>4095 characters in a character string literal or wide string literal (after
concatenation)</li>
<li>65535 bytes in an object (in a hosted environment only)</li>
<li>15 nesting levels for <code class="docutils literal"><span class="pre">#include</span></code> files</li>
<li>1023 <code class="docutils literal"><span class="pre">case</span></code> labels for a <code class="docutils literal"><span class="pre">switch</span></code> statement (excluding those for any nested
<code class="docutils literal"><span class="pre">switch</span></code> statements)</li>
<li>1023 members in a single structure or union</li>
<li>1023 enumeration constants in a single enumeration</li>
<li>63 levels of nested structure or union definitions in a single struct-declaration-list</li>
</ul>
<table class="docutils footnote" frame="void" id="id38" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id36">[13]</a></td><td>Implementations should avoid imposing fixed translation limits whenever possible.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id39" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id37">[14]</a></td><td>See &#8220;future language directions&#8221; (<a class="reference internal" href="../lang/#id335"><span>External names</span></a>)</td></tr>
</tbody>
</table>
</div>
<div class="section" id="numerical-limits">
<span id="id40"></span><span id="ref1"></span><h4>12.3.4.2. Numerical limits<a class="headerlink" href="#numerical-limits" title="Permalink to this headline">¶</a></h4>
<p>An implementation is required to document all the limits specified in this subclause,
which are specified in the headers <code class="docutils literal"><span class="pre">&lt;limits.h&gt;</span></code> and <code class="docutils literal"><span class="pre">&lt;float.h&gt;</span></code>. Additional limits
are specified in <code class="docutils literal"><span class="pre">&lt;stdint.h&gt;</span></code>.</p>
<p><strong>Forward references:</strong> integer types &lt;stdint.h&gt; (<a class="reference internal" href="../stdint/#stdint"><span>Integer types &lt;stdint.h&gt;</span></a>).</p>
<p><strong>Sizes of integer types &lt;limits.h&gt;</strong></p>
<p>The values given below shall be replaced by constant expressions suitable for use in
<code class="docutils literal"><span class="pre">#if</span></code> preprocessing directives. Moreover, except for <code class="docutils literal"><span class="pre">CHAR_BIT</span></code> and <code class="docutils literal"><span class="pre">MB_LEN_MAX</span></code>,
the following shall be replaced by expressions that have the same type as would an
expression that is an object of the corresponding type converted according to the integer
promotions. Their implementation-defined values shall be equal or greater in magnitude
(absolute value) to those shown, with the same sign.</p>
<ul>
<li><p class="first">number of bits for smallest object that is not a bit-field (byte)</p>
<p><code class="docutils literal"><span class="pre">CHAR_BIT</span></code> 8</p>
</li>
<li><p class="first">minimum value for an object of type <code class="docutils literal"><span class="pre">signed</span> <span class="pre">char</span></code></p>
<p><code class="docutils literal"><span class="pre">SCHAR_MIN</span></code> -127 // <span class="math">\(-(2^7 - 1)\)</span></p>
</li>
<li><p class="first">maximum value for an object of type <code class="docutils literal"><span class="pre">signed</span> <span class="pre">char</span></code></p>
<p><code class="docutils literal"><span class="pre">SCHAR_MAX</span></code> +127 // <span class="math">\(2^7 - 1\)</span></p>
</li>
<li><p class="first">maximum value for an object of type <code class="docutils literal"><span class="pre">unsigned</span> <span class="pre">char</span></code></p>
<p><code class="docutils literal"><span class="pre">UCHAR_MAX</span></code> 255 // <span class="math">\(2^8 - 1\)</span></p>
</li>
<li><p class="first">minimum value for an object of type <code class="docutils literal"><span class="pre">char</span></code></p>
<p><code class="docutils literal"><span class="pre">CHAR_MIN</span></code> <em>see below</em></p>
</li>
<li><p class="first">maximum value for an object of type <code class="docutils literal"><span class="pre">char</span></code></p>
<p><code class="docutils literal"><span class="pre">CHAR_MAX</span></code> <em>see below</em></p>
</li>
<li><p class="first">maximum number of bytes in a multibyte character, for any supported locale</p>
<p><code class="docutils literal"><span class="pre">MB_LEN_MAX</span></code> 1</p>
</li>
<li><p class="first">minimum value for an object of type <code class="docutils literal"><span class="pre">short</span> <span class="pre">int</span></code></p>
<p><code class="docutils literal"><span class="pre">SHRT_MIN</span></code> -32767 // <span class="math">\(-(2^{15} - 1)\)</span></p>
</li>
<li><p class="first">maximum value for an object of type <code class="docutils literal"><span class="pre">short</span> <span class="pre">int</span></code></p>
<p><code class="docutils literal"><span class="pre">SHRT_MAX</span></code> +32767 // <span class="math">\(2^{15} - 1\)</span></p>
</li>
<li><p class="first">maximum value for an object of type <code class="docutils literal"><span class="pre">unsigned</span> <span class="pre">short</span> <span class="pre">int</span></code></p>
<p><code class="docutils literal"><span class="pre">USHRT_MAX</span></code> 65535 // <span class="math">\(2^{16} - 1\)</span></p>
</li>
<li><p class="first">minimum value for an object of type <code class="docutils literal"><span class="pre">int</span></code></p>
<p><code class="docutils literal"><span class="pre">INT_MIN</span></code> -32767 // <span class="math">\(-(2^{15} - 1)\)</span></p>
</li>
<li><p class="first">maximum value for an object of type <code class="docutils literal"><span class="pre">int</span></code></p>
<p><code class="docutils literal"><span class="pre">INT_MAX</span></code> +32767 // <span class="math">\(2^{15} - 1\)</span></p>
</li>
<li><p class="first">maximum value for an object of type <code class="docutils literal"><span class="pre">unsigned</span> <span class="pre">int</span></code></p>
<p><code class="docutils literal"><span class="pre">UINT_MAX</span></code> 65535 // <span class="math">\(2^{16} - 1\)</span></p>
</li>
<li><p class="first">minimum value for an object of type <code class="docutils literal"><span class="pre">long</span> <span class="pre">int</span></code></p>
<p><code class="docutils literal"><span class="pre">LONG_MIN</span></code> -2147483647 // <span class="math">\(-(2^{31} - 1)\)</span></p>
</li>
<li><p class="first">maximum value for an object of type <code class="docutils literal"><span class="pre">long</span> <span class="pre">int</span></code></p>
<p><code class="docutils literal"><span class="pre">LONG_MAX</span></code> +2147483647 // <span class="math">\(2^{31} - 1\)</span></p>
</li>
<li><p class="first">maximum value for an object of type <code class="docutils literal"><span class="pre">unsigned</span> <span class="pre">long</span> <span class="pre">int</span></code></p>
<p><code class="docutils literal"><span class="pre">ULONG_MAX</span></code> 4294967295 // <span class="math">\(2^{32} - 1\)</span></p>
</li>
<li><p class="first">minimum value for an object of type <code class="docutils literal"><span class="pre">long</span> <span class="pre">long</span> <span class="pre">int</span></code></p>
<p><code class="docutils literal"><span class="pre">LLONG_MIN</span></code> -9223372036854775807 // <span class="math">\(-(2^{63} - 1)\)</span></p>
</li>
<li><p class="first">maximum value for an object of type <code class="docutils literal"><span class="pre">long</span> <span class="pre">long</span> <span class="pre">int</span></code></p>
<p><code class="docutils literal"><span class="pre">LLONG_MAX</span></code> +9223372036854775807 // <span class="math">\(2^{63} - 1\)</span></p>
</li>
<li><p class="first">maximum value for an object of type <code class="docutils literal"><span class="pre">unsigned</span> <span class="pre">long</span> <span class="pre">long</span> <span class="pre">int</span></code></p>
<p><code class="docutils literal"><span class="pre">ULLONG_MAX</span></code> 18446744073709551615 // <span class="math">\(2^{64} - 1\)</span></p>
</li>
</ul>
<p>If the value of an object of type <code class="docutils literal"><span class="pre">char</span></code> is treated as a signed integer when used
in an expression, the value of <code class="docutils literal"><span class="pre">CHAR_MIN</span></code> shall be the same as that of <code class="docutils literal"><span class="pre">SCHAR_MIN</span></code>
and the value of <code class="docutils literal"><span class="pre">CHAR_MAX</span></code> shall be the same as that of <code class="docutils literal"><span class="pre">SCHAR_MAX</span></code>. Otherwise,
the value of <code class="docutils literal"><span class="pre">CHAR_MIN</span></code> shall be 0 and the value of <code class="docutils literal"><span class="pre">CHAR_MAX</span></code> shall be the same
as that of <code class="docutils literal"><span class="pre">UCHAR_MAX</span></code>. <a class="footnote-reference" href="#id42" id="id41">[15]</a> The value <code class="docutils literal"><span class="pre">UCHAR_MAX</span></code> shall equal <span class="math">\(2^{CHAR_BIT}
- 1\)</span>.</p>
<p><strong>Forward references:</strong> representations of types (<a class="reference internal" href="../lang/#id47"><span>Representation of Types</span></a>), conditional inclusion
(<a class="reference internal" href="../macros/#id3"><span>Conditional Inclusion</span></a>).</p>
<table class="docutils footnote" frame="void" id="id42" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id41">[15]</a></td><td>See <a class="reference internal" href="../lang/#id21"><span>Types</span></a>.</td></tr>
</tbody>
</table>
<p><strong>Characteristics of floating types ``&lt;float.h&gt;``</strong></p>
<p>The characteristics of floating types are defined in terms of a model that describes a
representation of floating-point numbers and values that provide information about an
implementation&#8217;s floating-point arithmetic. <a class="footnote-reference" href="#id48" id="id43">[16]</a> The following parameters are used to
define the model for each floating-point type</p>
<blockquote>
<div><div class="line-block">
<div class="line"><span class="math">\(s\)</span> sign</div>
<div class="line"><span class="math">\(b\)</span> base or radix of exponent representation (an integer &gt; 1)</div>
<div class="line"><span class="math">\(e\)</span> exponent (an integer between a minimum emin and a maximum emax )</div>
<div class="line"><span class="math">\(p\)</span> precision (the number of base-b digits in the significand)</div>
<div class="line"><span class="math">\(f_k\)</span> nonnegative integers less than b (the significand digits)</div>
</div>
</div></blockquote>
<p>A <em>floating-point number (x)</em> is defined by the following model:</p>
<div class="math">
\[x = sb^e \sum_{k=1}^p f_kb^{-k},~e_{min}~\leq~e~\leq~e_{max}\]</div>
<p>In addition to normalized floating-point numbers (<span class="math">\(f_1 &gt; 0\)</span> if <span class="math">\(x \neq 0\)</span>),
floating types may be able to contain other kinds of floating-point numbers, such
as subnormal floating-point numbers (<span class="math">\(x \neq 0, e = e_{min}, f_1 = 0\)</span>) and
unnormalized floating-point numbers (<span class="math">\(x \neq 0, e &gt; e_{min} , f_1 = 0\)</span>), and
values that are not floating-point numbers, such as infinities and NaNs. A NaN is an
encoding signifying Not-a-Number. A quiet NaN propagates through almost every
arithmetic operation without raising a floating-point exception; a signaling NaN
generally raises a floating-point exception when occurring as an arithmetic operand. <a class="footnote-reference" href="#id49" id="id44">[17]</a></p>
<p>An implementation may give zero and non-numeric values (such as infinities and NaNs) a
sign or may leave them unsigned. Wherever such values are unsigned, any requirement
in this International Standard to retrieve the sign shall produce an unspecified sign, and
any requirement to set the sign shall be ignored.</p>
<p>The accuracy of the floating-point operations (<code class="docutils literal"><span class="pre">+,</span> <span class="pre">-,</span> <span class="pre">*,</span> <span class="pre">/</span></code>) and of the library
functions in <code class="docutils literal"><span class="pre">&lt;math.h&gt;</span></code> and <code class="docutils literal"><span class="pre">&lt;complex.h&gt;</span></code> that return floating-point results is
implementation-defined, as is the accuracy of the conversion between floating-point
internal representations and string representations performed by the library
functions in <code class="docutils literal"><span class="pre">&lt;stdio.h&gt;,</span> <span class="pre">&lt;stdlib.h&gt;</span></code> and <code class="docutils literal"><span class="pre">&lt;wchar.h&gt;</span></code>. The implementation may
state that the accuracy is unknown.</p>
<p>All integer values in the <code class="docutils literal"><span class="pre">&lt;float.h&gt;</span></code> header, except <code class="docutils literal"><span class="pre">FLT_ROUNDS</span></code>, shall be constant
expressions suitable for use in <code class="docutils literal"><span class="pre">#if</span></code> preprocessing directives; all floating values
shall be constant expressions. All except <code class="docutils literal"><span class="pre">DECIMAL_DIG,</span> <span class="pre">FLT_EVAL_METHOD,</span> <span class="pre">FLT_RADIX</span></code>
and <code class="docutils literal"><span class="pre">FLT_ROUNDS</span></code> have separate names for all three floating-point types. The floating-
point model representation is provided for all values except <code class="docutils literal"><span class="pre">FLT_EVAL_METHOD</span></code> and
<code class="docutils literal"><span class="pre">FLT_ROUNDS</span></code>.</p>
<p>The rounding mode for floating-point addition is characterized by the implementation-
defined value of FLT_ROUNDS: <a class="footnote-reference" href="#id50" id="id45">[18]</a></p>
<blockquote>
<div><div class="line-block">
<div class="line">-1 indeterminable</div>
<div class="line">0 toward zero</div>
<div class="line">1 to nearest</div>
<div class="line">2 toward positive infinity</div>
<div class="line">3 toward negative infinity</div>
</div>
</div></blockquote>
<p>All other values for <code class="docutils literal"><span class="pre">FLT_ROUNDS</span></code> characterize implementation-defined rounding
behavior. The four rounding methods were also described in <a class="reference internal" href="../fs/#id1"><span>Terms, Definitions and Symbols</span></a>.</p>
<p>The values of operations with floating operands and values subject to the usual
arithmetic conversions and of floating constants are evaluated to a format whose
range and precision may be greater than required by the type. The use of
evaluation formats is characterized by the implementation-defined value of
<code class="docutils literal"><span class="pre">FLT_EVAL_METHOD</span></code>: <a class="footnote-reference" href="#id51" id="id46">[19]</a></p>
<blockquote>
<div><div class="line-block">
<div class="line">-1 indeterminable;</div>
<div class="line">0 evaluate all operations and constants just to the range and precision of the
type;</div>
<div class="line">1 evaluate operations and constants of type float and double to the range and
precision of the <code class="docutils literal"><span class="pre">double</span></code> type, evaluate <code class="docutils literal"><span class="pre">long</span> <span class="pre">double</span></code> operations and constants
to the range and precision of the <code class="docutils literal"><span class="pre">long</span> <span class="pre">double</span></code> type;</div>
<div class="line">2 evaluate all operations and constants to the range and precision of the <code class="docutils literal"><span class="pre">long</span>
<span class="pre">double</span></code> type.</div>
</div>
</div></blockquote>
<p>All other negative values for <code class="docutils literal"><span class="pre">FLT_EVAL_METHOD</span></code> characterize implementation-defined
behavior.</p>
<p>The values given in the following list shall be replaced by constant expressions with
implementation-defined values that are greater or equal in magnitude (absolute value) to
those shown, with the same sign:</p>
<ul>
<li><p class="first">radix of exponent representation, <span class="math">\(b\)</span></p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">FLT_RADIX</span> <span class="pre">2</span></code></div>
</div>
</div></blockquote>
</li>
<li><p class="first">number of base-FLT_RADIX digits in the floating-point significand, <span class="math">\(p\)</span></p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">FLT_MANT_DIG</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MANT_DIG</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">LDBL_MANT_DIG</span></code></div>
</div>
</div></blockquote>
</li>
<li><p class="first">number of decimal digits, <span class="math">\(n\)</span>, such that any floating-point number in the widest
supported floating type with <span class="math">\(p_{max}\)</span> radix <span class="math">\(b\)</span> digits can be rounded to a
floating-point number with <span class="math">\(n\)</span> decimal digits and back again without change to
the value,</p>
<blockquote>
<div><div class="math">
\[\begin{split}\left\{
\begin{array}{l l}
p_{max} \log_{10} b &amp; \quad \text{if } b \text{ is a power of 10}\\
  \lceil 1 + p_{max} \log_{10} b \rceil &amp; \quad \text{otherwise}
  \end{array}\right.\end{split}\]</div>
<div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">DECIMAL_DIG</span> <span class="pre">10</span></code></div>
</div>
</div></blockquote>
</li>
<li><p class="first">number of decimal digits, :   math:<cite>q</cite>, such that any floating-point number
with <span class="math">\(q\)</span> decimal digits can be rounded into a floating-point number with
<span class="math">\(p\)</span> radix <span class="math">\(b\)</span> digits and back again without change to the <span class="math">\(q\)</span>
decimal digits,</p>
<blockquote>
<div><div class="math">
\[\begin{split}\left\{
\begin{array}{l l}
p \log_{10} b &amp; \quad \text{if } b \text{ is a power of 10}\\
\lfloor (p - 1) \log_{10} b \rfloor &amp; \quad \text{otherwise}
  \end{array}\right.\end{split}\]</div>
<div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">FLT_DIG</span> <span class="pre">6</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_DIG</span> <span class="pre">10</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">LDBL_DIG</span> <span class="pre">10</span></code></div>
</div>
</div></blockquote>
</li>
<li><p class="first">minimum negative integer such that <code class="docutils literal"><span class="pre">FLT_RADIX</span></code> raised to one less than that power is
a normalized floating-point number, <span class="math">\(e_{min}\)</span></p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">FLT_MIN_EXP</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MIN_EXP</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">LDBL_MIN_EXP</span></code></div>
</div>
</div></blockquote>
</li>
<li><p class="first">minimum negative integer such that 10 raised to that power is in the range of
normalized floating-point numbers, <span class="math">\(\lceil\log_{10}b^{e_{min}-1}\rceil\)</span></p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">FLT_MIN_10_EXP</span> <span class="pre">-37</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MIN_10_EXP</span> <span class="pre">-37</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">LDBL_MIN_10_EXP</span> <span class="pre">-37</span></code></div>
</div>
</div></blockquote>
</li>
<li><p class="first">maximum integer such that <code class="docutils literal"><span class="pre">FLT_RADIX</span></code> raised to one less than that power is a
representable finite floating-point number, <span class="math">\(e_{max}\)</span></p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">FLT_MAX_EXP</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MAX_EXP</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">LDBL_MAX_EXP</span></code></div>
</div>
</div></blockquote>
</li>
<li><p class="first">maximum integer such that 10 raised to that power is in the range of representable
finite floating-point numbers, <span class="math">\(\lfloor\log_{10}((1 - b^{-p})b^{e_{max}})\rfloor\)</span></p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">FLT_MAX_10_EXP</span> <span class="pre">+37</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MAX_10_EXP</span> <span class="pre">+37</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">LDBL_MAX_10_EXP</span> <span class="pre">+37</span></code></div>
</div>
</div></blockquote>
</li>
</ul>
<p>The values given in the following list shall be replaced by constant expressions with
implementation-defined values that are greater than or equal to those shown:</p>
<ul>
<li><p class="first">maximum representable finite floating-point number, <span class="math">\((1 - b^{-p})b^{e_{max}}\)</span></p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">FLT_MAX</span> <span class="pre">1E+37</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MAX</span> <span class="pre">1E+37</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">LDBL_MAX</span> <span class="pre">1E+37</span></code></div>
</div>
</div></blockquote>
</li>
</ul>
<p>The values given in the following list shall be replaced by constant expressions with
implementation-defined (positive) values that are less than or equal to those shown:</p>
<ul>
<li><p class="first">the difference between 1 and the least value greater than 1 that is representable in the
given floating point type, <span class="math">\(b^{1 - p}\)</span></p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">FLT_EPSILON</span> <span class="pre">1E-5</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_EPSILON</span> <span class="pre">1E-9</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">LDBL_EPSILON</span> <span class="pre">1E-9</span></code></div>
</div>
</div></blockquote>
</li>
<li><p class="first">minimum normalized positive floating-point number, <span class="math">\(b^{e_{min} - 1}\)</span></p>
<blockquote>
<div><div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">FLT_MIN</span> <span class="pre">1E-37</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MIN</span> <span class="pre">1E-37</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">LDBL_MIN</span> <span class="pre">1E-37</span></code></div>
</div>
</div></blockquote>
</li>
</ul>
<p><strong>Recommended practice</strong></p>
<p>Conversion from (at least) <code class="docutils literal"><span class="pre">double</span></code> to decimal with <code class="docutils literal"><span class="pre">DECIMAL_DIG</span></code> digits and back
should be the identity function.</p>
<p>EXAMPLE 1 The following describes an artificial floating-point representation that meets
the minimum requirements of this International Standard, and the appropriate values in a
<code class="docutils literal"><span class="pre">&lt;float.h&gt;</span></code> header for type <code class="docutils literal"><span class="pre">float</span></code>:</p>
<blockquote>
<div><blockquote>
<div><div class="math">
\[x = s 16^e \sum_{k=1}^6 f_k 16^{-k},~-31 \leq~e~\leq~+32\]</div>
</div></blockquote>
<div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">FLT_RADIX</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">16</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MANT_DIG</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">6</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_EPSILON</span>&nbsp;&nbsp;&nbsp; <span class="pre">9.53674316E-07F</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_DIG</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">6</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MIN_EXP</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">-31</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MIN</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">2.93873588E-39F</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MIN_10_EXP</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">-38</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MAX_EXP</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">+32</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MAX</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">3.40282347E+38F</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MAX_10_EXP</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">+38</span></code></div>
</div>
</div></blockquote>
<p>EXAMPLE 2 The following describes floating-point representations that also meet the
requirements for single-precision and double-precision normalized numbers in
IEC 60559, <a class="footnote-reference" href="#id52" id="id47">[20]</a> and the appropriate values in a <code class="docutils literal"><span class="pre">&lt;float.h&gt;</span></code> header for types
<code class="docutils literal"><span class="pre">float</span></code> and <code class="docutils literal"><span class="pre">double</span></code>:</p>
<blockquote>
<div><blockquote>
<div><div class="math">
\[x = s 2^e \sum_{k=1}^24 f_k 2^{-k},~-125 \leq~e~\leq~+128\]\[x = s 2^e \sum_{k=1}^53 f_k 2^{-k},~-1024 \leq~e~\leq~+1024\]</div>
</div></blockquote>
<div class="line-block">
<div class="line"><code class="docutils literal"><span class="pre">FLT_RADIX</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">2</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DECIMAL_DIG</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">17</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MANT_DIG</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">24</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_EPSILON</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">1.19209290E-07F</span></code> <em>// decimal constant</em></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_EPSILON</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">0x1P-23F</span></code> <em>// hex constant</em></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_DIG</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">6</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MIN_EXP</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">-125</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MIN</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">1.17549435E-38F</span></code> <em>// decimal constant</em></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MIN</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">0X1P-126F</span></code> <em>// hex consttant</em></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MIN_10_EXP</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">-37</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MAX_EXP</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">+128</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MAX</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">3.40282347E+38F</span></code> <em>// decimal constant</em></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MAX</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">0X1.fffffeP127F</span></code> <em>// hex constant</em></div>
<div class="line"><code class="docutils literal"><span class="pre">FLT_MAX_10_EXP</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">+38</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MANT_DIG</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">53</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_EPSILON</span> <span class="pre">2.2204460492503131E-16</span></code> <em>// deciaml constant</em></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_EPSILON</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">0X1P-52</span></code> <em>// hex constant</em></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_DIG</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">15</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MIN_EXP</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">-1021</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MIN</span>&nbsp;&nbsp;&nbsp; <span class="pre">2.2250738585072014E-308</span></code> <em>// deciaml constant</em></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MIN</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">0X1P-1022</span></code> <em>// hex constant</em></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MIN_10_EXP</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">-307</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MAX_EXP</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">+1024</span></code></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MAX</span>&nbsp;&nbsp;&nbsp; <span class="pre">1.7976931348623157E+308</span></code> <em>// decimal constant</em></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MAX</span>&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">0X1.fffffffffffffP1023</span></code> <em>// hex constant</em></div>
<div class="line"><code class="docutils literal"><span class="pre">DBL_MAX_10_EXP</span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="pre">+308</span></code></div>
</div>
</div></blockquote>
<p>If a type wider than double were supported, then <code class="docutils literal"><span class="pre">DECIMAL_DIG</span></code> would be greater than
17. For example, if the widest type were to use the minimal-width IEC 60559
double-extended format (64 bits of precision), then <code class="docutils literal"><span class="pre">DECIMAL_DIG</span></code> would be 21.</p>
<p><strong>Forward references:</strong> conditional inclusion (<a class="reference internal" href="../macros/#id3"><span>Conditional Inclusion</span></a>), complex arithmetic
<code class="docutils literal"><span class="pre">&lt;complex.h&gt;</span></code> (<a class="reference internal" href="../complex/#complex"><span>Complex arithmetic &lt;complex.h&gt;</span></a>, extended multibyte and wide character utilities
<code class="docutils literal"><span class="pre">&lt;wchar.h&gt;</span></code> (<a class="reference internal" href="../wchar/#wchar"><span>Extended multibyte and wide character utilities &lt;wchar.h&gt;</span></a>), floating-point environment <code class="docutils literal"><span class="pre">&lt;fenv.h&gt;</span></code> (<a class="reference internal" href="../fenv/#fenv"><span>Floating-point environment &lt;fenv.h&gt;</span></a>), general
utilities <code class="docutils literal"><span class="pre">&lt;stdlib.h&gt;</span></code> (<a class="reference internal" href="../stdlib/#stdlib"><span>General utilities &lt;stdlib.h&gt;</span></a>), input/output <code class="docutils literal"><span class="pre">&lt;stdio.h&gt;</span></code> (<a class="reference internal" href="../stdio/#stdio"><span>Input/output &lt;stdio.h&gt;</span></a>),
mathematics <code class="docutils literal"><span class="pre">&lt;math.h&gt;</span></code> (<a class="reference internal" href="../math/#math"><span>Mathematics &lt;math.h&gt;</span></a>).</p>
<table class="docutils footnote" frame="void" id="id48" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id43">[16]</a></td><td>The floating-point model is intended to clarify the description of each
floating-point characteristic and does not require the floating-point arithmetic
of the implementation to be identical.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id49" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id44">[17]</a></td><td>IEC 60559:1989 specifies quiet and signaling NaNs. For implementations that
do not support IEC 60559:1989, the terms quiet NaN and signaling NaN are intended
to apply to encodings with similar behavior.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id50" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id45">[18]</a></td><td>Evaluation of <code class="docutils literal"><span class="pre">FLT_ROUNDS</span></code> correctly reflects any execution-time change of
rounding mode through the function <code class="docutils literal"><span class="pre">fesetround</span></code> in <code class="docutils literal"><span class="pre">&lt;fenv.h&gt;</span></code>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id51" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id46">[19]</a></td><td>The evaluation method determines evaluation formats of expressions involving
all floating types, not just real types. For example, if <code class="docutils literal"><span class="pre">FLT_EVAL_METHOD</span></code> is 1,
then the product of two float <code class="docutils literal"><span class="pre">_Complex</span></code> operands is represented in the
<code class="docutils literal"><span class="pre">double</span> <span class="pre">_Complex</span></code> format, and its parts are evaluated to <code class="docutils literal"><span class="pre">double</span></code>.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id52" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id47">[20]</a></td><td>The floating-point model in that standard sums powers of b from zero, so
the values of the exponent limits are one less than shown here.</td></tr>
</tbody>
</table>
</div>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../lang/" class="btn btn-neutral float-right" title="13. Language" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../fs/" class="btn btn-neutral" title="11. Following Specification" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012-2015, Shiv S. Dayal.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>