

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta content="C Programming with C99" name="description" />
<meta content="Free C Book, C Programming, C99 Programming, C99 Specification" name="keywords" />
<script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-17487464-6']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>11. Following Specification &mdash; C Programming  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="C Programming  documentation" href="../"/>
        <link rel="next" title="12. Environment" href="../env/"/>
        <link rel="prev" title="10. File Input/Output" href="../fileio/"/>
<link rel="stylesheet" href="../../css/math.css" type="text/css" />


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../" class="icon icon-home"> C Programming
          

          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics/">2. Basics of C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io/">3. Console I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oae/">4. Operators and Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cf/">5. Control Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ap/">6. Arrays and Pointers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../func/">7. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../su/">8. Structures and Unions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../strings/">9. Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fileio/">10. File Input/Output</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">11. Following Specification</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#terms-definitions-and-symbols">11.1. Terms, Definitions and Symbols</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../env/">12. Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lang/">13. Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../macros/">14. Preprocessing Directives</a></li>
<li class="toctree-l1"><a class="reference internal" href="../std/">15. The C Standard Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../assert/">16. Diagnostics <code class="docutils literal"><span class="pre">&lt;assert.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../complex/">17. Complex arithmetic <code class="docutils literal"><span class="pre">&lt;complex.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ctypes/">18. Character Handling <code class="docutils literal"><span class="pre">&lt;ctype.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../errno/">19. Errors <code class="docutils literal"><span class="pre">&lt;errno.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../fenv/">20. Floating-point environment <code class="docutils literal"><span class="pre">&lt;fenv.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../float/">21. Characteristics of floating types <code class="docutils literal"><span class="pre">&lt;float.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../inttypes/">22. Format conversion of integer types <code class="docutils literal"><span class="pre">&lt;inttypes.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../iso646/">23. Alternative spellings <code class="docutils literal"><span class="pre">&lt;iso646.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../limits/">24. Sizes of integer types <code class="docutils literal"><span class="pre">&lt;limits.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../locale/">25. Localization &lt;locale.h&gt;</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math/">26. Mathematics <code class="docutils literal"><span class="pre">&lt;math.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../setjmp/">27. Nonlocal jumps <code class="docutils literal"><span class="pre">&lt;setjmp.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../signal/">28. Signal handling <code class="docutils literal"><span class="pre">&lt;signal.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdarg/">29. Variable arguments <code class="docutils literal"><span class="pre">&lt;stdarg.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdbool/">30. Boolean type and values <code class="docutils literal"><span class="pre">&lt;stdbool.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stddef/">31. Common definitions <code class="docutils literal"><span class="pre">&lt;stddef.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdint/">32. Integer types <code class="docutils literal"><span class="pre">&lt;stdint.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdio/">33. Input/output <code class="docutils literal"><span class="pre">&lt;stdio.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/">34. General utilities <code class="docutils literal"><span class="pre">&lt;stdlib.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../string/">35. String handling <code class="docutils literal"><span class="pre">&lt;string.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../tgmath/">36. Type-generic math <code class="docutils literal"><span class="pre">&lt;tgmath.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../time/">37. Date and time <code class="docutils literal"><span class="pre">&lt;time.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../wchar/">38. Extended multibyte and wide character utilities <code class="docutils literal"><span class="pre">&lt;wchar.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../wtype/">39. Wide character classification and mapping utilities <code class="docutils literal"><span class="pre">&lt;wctype.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../problems/">40. Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/">41. License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../">C Programming</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../">Docs</a> &raquo;</li>
      
    <li>11. Following Specification</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/fs.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="following-specification">
<h1>11. Following Specification<a class="headerlink" href="#following-specification" title="Permalink to this headline">Â¶</a></h1>
<p>At this point of time I would like to look back and refer to C11 specification
n1570.pdf, which, is the C11 specification with me. Threading is not yet
implemented in any compiler so we will have to wait for compilers to support it
before we can study it.
I will try to follow the organization of content given in the specification.
This treatment of C99 is very tightly coupled with compiler(gcc) and
specification. If someone says that a book can be written by ignoring any of
these two then I will be the last person to believe that.:P
However, note that I will not include all the contents of specification and will
exclude some of very obvious and trivial sections/subsections. The following
terms, definitions and symbols have come from specification, however, some are
omitted for the sake of conciseness. When I will repeat the specification at
times I will do a verbatim copy just for quick reference and then add an
explanation to that. Believe me you can learn most of the language just by
studying the specification itself. Chapter no. 2, 3 and 4 will have material
which may have redundant material discussed elsewhere in the book. Note that
specification is directed more at compiler writers rather than at developers.
However, it still covers a lot of ground and is also helpful to understand the
nature of different compilers as where they can go in different directions.</p>
<div class="section" id="terms-definitions-and-symbols">
<span id="id1"></span><h2>11.1. Terms, Definitions and Symbols<a class="headerlink" href="#terms-definitions-and-symbols" title="Permalink to this headline">Â¶</a></h2>
<ol class="arabic" id="index-0">
<li><p class="first">access: &lt;execution-time action&gt; to read or modify the value of an object.</p>
<p>NOTE 1: Where only one of these two actions is meant, &#8220;read&#8221; or
&#8220;modify&#8221; is used.</p>
<p>NOTE 2: &#8220;Modify&#8221; includes the case where the new value being stored is
the same as the previous value.</p>
<p>NOTE 3: Expressions that are not evaluated do not access objects.</p>
<p>There are two parts of any program. Data and instruction. Programs
are stored in file on some non-volatile storage for example, hard disk drive,
CD, DVD, tape drive. When they are executed from non-volatile storage they
are transferred to some volatile storage typically RAM (Random Access Memory)
of the computer. When a program is executed it becomes a living entity
capable of doing something and sometimes also referred as process. So when
the contents of RAM (henceforth referred as memory) is either read or written
(it does not matter whether the value is same or new) to then it is defined
as access. Here  point to be noted is that the expressions which will not be
evaluated do not access objects.</p>
<p>There are certain issues wit the term
read and modify. One can ask it it the case that multiplication or division
of a number with 1 modifies it or addition or subtraction of a number with 0
modifies it. The answer is yes on all these accounts. Similarly, you can
ask if a bit-field is accessed then is it the case that the bit-fields
sharing the storage in memory are also accessed. My answer would be yes.
The reason is there is no way to get address of an individual bit and we
get at least 32-bits in one fetch cycle on a 32-bit processor.</p>
<p>There can be various reasons why an expression is not evaluated. For
example:</p>
<ul class="simple">
<li>being part of a statement which is not executed probably because of
conditional compilation,</li>
<li>being part of a sub-expression whose evaluation is conditional on other
sub-expressions within a full expression; this means the above point, and</li>
<li>being an operand of the <code class="docutils literal"><span class="pre">sizeof</span></code> operator. <code class="docutils literal"><span class="pre">sizeof</span></code> operator never
evaluates its operand or try to access them. It just computes their
sizes and pass it along.</li>
</ul>
<p>Also, consider the following program:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">a</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">b</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">c</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">d</span><span class="o">=</span><span class="mi">4</span><span class="p">;</span>

  <span class="n">a</span> <span class="o">=</span> <span class="n">c</span> <span class="o">+</span> <span class="n">d</span><span class="p">;</span>
  <span class="n">b</span> <span class="o">=</span> <span class="n">c</span> <span class="o">+</span> <span class="n">d</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>In this code it is not necessary that data for <code class="docutils literal"><span class="pre">c</span></code> and <code class="docutils literal"><span class="pre">d</span></code> will be
accessed for second addition.</p>
<p>Also consider the following program:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
  <span class="k">volatile</span> <span class="kt">int</span> <span class="nl">x1</span><span class="p">:</span><span class="mi">3</span><span class="p">;</span>
  <span class="k">volatile</span> <span class="kt">int</span> <span class="nl">x2</span><span class="p">:</span><span class="mi">3</span><span class="p">;</span>
  <span class="k">volatile</span> <span class="kt">int</span> <span class="nl">x3</span><span class="p">:</span><span class="mi">4</span><span class="p">;</span>
  <span class="k">volatile</span> <span class="kt">int</span> <span class="nl">x4</span><span class="p">:</span><span class="mi">1</span><span class="p">;</span>
<span class="p">}</span> <span class="n">S</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">7</span><span class="p">;</span>
  <span class="n">S</span> <span class="n">s</span><span class="p">;</span>

  <span class="n">i</span> <span class="o">=</span> <span class="n">s</span><span class="p">.</span><span class="n">x2</span><span class="p">;</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Now depending on whether system is little-endian or big-endian the storage
of x2 and x3 will be in different bytes. Also, this will change the way
bytes are accessed when x2 is referred in memory. Many combinations are
possible depending on processor architecture.</p>
</li>
</ol>
<ol class="arabic" id="index-1" start="2">
<li><p class="first">alignment: requirement that objects of a particular type be located on
storage boundaries with addresses that are particular multiples of a byte
address.</p>
<p>Say your program requires x bytes of memory then it will not be
always given x bytes but something more. Say an object requires y bytes then
it will be always greater or equal to y bytes. This is required so that
objects are always located on storage boundaries that are particular
multiples of byte address. The reason for this alignment lies in the
efficiency of the operating system as a whole. As we know that on 32-bit
systems data bus is 32 bits similarly on 64-bit systems it is 64 bits. This
means in one fetch cycle (read up on this on some microprocessor or computer
architecture book) only 32-bits can be fetched. 32-bits means 4 bytes.
Oops! I did not tell you about bits and bytes conversion. Not even nibble.
However, since 4 bytes can be fetched in one cycle compiler tries to optimize
the data in group of 4 bytes. Given below are some examples.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cm">/* Description: Demonstration of structure padding and memory alignment.*/</span>

<span class="cp">#include &lt;stdio.h&gt;</span>

<span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="n">a</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">b</span><span class="p">;</span>
<span class="p">}</span><span class="n">A</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="n">a</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">b</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">c</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">d</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">e</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">f</span><span class="p">;</span>
<span class="p">}</span><span class="n">B</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="n">x</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">y</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">z</span><span class="p">;</span>
<span class="p">}</span><span class="n">C</span><span class="p">;</span>

<span class="k">typedef</span> <span class="k">struct</span>
<span class="p">{</span>
  <span class="kt">char</span> <span class="n">x</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">z</span><span class="p">;</span>
  <span class="kt">char</span> <span class="n">y</span><span class="p">;</span>
<span class="p">}</span><span class="n">D</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">A</span> <span class="n">a</span><span class="p">;</span>
  <span class="n">B</span> <span class="n">b</span><span class="p">;</span>
  <span class="n">C</span> <span class="n">c</span><span class="p">;</span>
  <span class="n">D</span> <span class="n">d</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Size of structure %c is %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="sc">&#39;A&#39;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">a</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Size of structure %c is %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="sc">&#39;B&#39;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">b</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Size of structure %c is %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="sc">&#39;C&#39;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">c</span><span class="p">));</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;Size of structure %c is %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span><span class="sc">&#39;D&#39;</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">d</span><span class="p">));</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>the output is:</p>
<div class="highlight-python"><div class="highlight"><pre>Size of structure A is 8
Size of structure B is 16
Size of structure C is 8
Size of structure D is 12
</pre></div>
</div>
<p>Now let me ask you a question that how come size of <code class="docutils literal"><span class="pre">C</span></code> is 8 while size of
<code class="docutils literal"><span class="pre">D</span></code> is 12 while both structures contain same no. of similar elements. The answer
lies in the order of elements. Further let us consider the following program:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>

<span class="k">typedef</span> <span class="k">struct</span> <span class="p">{</span>
  <span class="kt">char</span> <span class="n">c</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">j</span><span class="p">;</span>
<span class="p">}</span><span class="n">t</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">t</span> <span class="n">s1</span><span class="p">;</span>

  <span class="n">s1</span><span class="p">.</span><span class="n">j</span> <span class="o">=</span> <span class="mi">4</span><span class="p">;</span>
  <span class="n">s1</span><span class="p">.</span><span class="n">c</span> <span class="o">=</span> <span class="mi">5</span><span class="p">;</span>

  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%p %p&quot;</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">s1</span><span class="p">.</span><span class="n">j</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">s1</span><span class="p">.</span><span class="n">c</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and the output is:</p>
<div class="highlight-python"><div class="highlight"><pre>0xbfc98f7c 0xbfc98f78
</pre></div>
</div>
<p>Now if you notice <code class="docutils literal"><span class="pre">0xbfc98f7c</span> <span class="pre">%</span> <span class="pre">4</span></code> is 0 which is our alignment requirement. So,
now you can see why structure <code class="docutils literal"><span class="pre">C</span></code> and <code class="docutils literal"><span class="pre">D</span></code> have different sizes.</p>
<p>Another point worth noting is that certain processors allocate arrays on
word boundaries which are power of 2. For example, a character array
requiring x bytes will actually n bytes where x is not power of 2 and n is
next power of 2 which is greater than x. Such optimizations are quite common
in computers and you need to be aware of it to write efficient programs
because you cannot make any assumptions about behavior of processor.</p>
</li>
</ol>
<span class="target" id="index-2"></span><ol class="arabic" id="index-3" start="3">
<li><p class="first">argument:</p>
<p>actual argument</p>
<p>actual parameter (deprecated)</p>
<p>expression in the comma-separated list bounded by the parentheses in a function
call expression, or a sequence of preprocessing tokens in the comma-separated
list bounded by the parentheses in a function-like macro invocation.</p>
<p>Sometimes they are also called actual parameters(in function definition) but as
you can see
in specification ISO/IEC 9899:TC2 Section 3.3 this term is being deprecated.
A function can have zero or more actual arguments and if they are more than
one then each of them will be separated by a comma. These also apply to
macros that is preprocessor directives when invoked like a function.</p>
</li>
</ol>
<ol class="arabic" id="index-4" start="4">
<li><p class="first">behavior: external appearance or action</p>
<p>By this term <code class="docutils literal"><span class="pre">behavior</span></code> the specification tries to categorize certain behavior
which do not fall in other categories. For example, there are four more types of
behaviors namely implementation-defined behavior, locale-specific behavior,
undefined behavior and unspecified behavior. The term <code class="docutils literal"><span class="pre">behavior</span></code> categorizes
external and those behaviors which do not fall under these four categories.
External behavior includes mouse, keyboard and such.</p>
</li>
</ol>
<ol class="arabic" id="index-5" start="5">
<li><p class="first">implementation-defined behavior: unspecified behavior where each implementation
documents how the choice is made.</p>
<p>EXAMPLE An example of implementation-defined behavior is the propagation of the
high-order bit when a signed integer is shifted right.</p>
<p>When specification does not specify how a
particular element of language should be implemented then programs use their
logic to implement these things and sometimes it depends on hardware as well.
Behavior of such elements is called implementation-defined-behavior. A full list
of such behaviors is typically provided by the compiler. Consider the
following example:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span>
<span class="p">{</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;%d %d</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="o">&gt;&gt;</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="o">&gt;&gt;</span><span class="mi">1</span><span class="p">);</span>

  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and the output is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="o">-</span><span class="mi">1</span> <span class="o">-</span><span class="mi">1</span>
</pre></div>
</div>
</li>
</ol>
<ol class="arabic" id="index-6" start="6">
<li><p class="first">locale-specific behavior: behavior that depends on local conventions of
nationality, culture, and language that each implementation documents</p>
<p>EXAMPLE An example of locale-specific behavior is whether the <code class="docutils literal"><span class="pre">islower</span></code> function
returns true for characters other than the 26 lowercase Latin letters.</p>
<p>Any behavior which changes when locale of the program changes will come under
this category. The character e-acute is a lowercase letter in a Latin-1 locale,
but not in the &#8220;C&#8221; locale. A full list of such behaviors is typically provided by
the compiler.</p>
</li>
</ol>
<ol class="arabic" id="index-7" start="7">
<li><p class="first">undefined behavior: behavior, upon use of a non-portable or erroneous program
construct or of erroneous data, for which International Standard imposes
no requirements.</p>
<p>NOTE: Possible undefined behavior ranges from ignoring the situation completely
with unpredictable results, to behaving during translation or program execution
in a documented manner characteristic of the environment (with or without the
issuance of a diagnostic message), to terminating a translation or execution
(with the issuance of a diagnostic message).</p>
<p>EXAMPLE An example of undefined behavior is the behavior on integer overflow.</p>
<p>We will see more examples of these undefined behaviors as we go through the
specification.</p>
<p>It is very easy to say undefined behavior for specification but when a
compiler programmer writes a compiler he cannot really say that our program
is causing undefined behavior. Sometimes it will emit a warning but
sometimes it will silently compile the program. However, then output of two
compilers may not match. Even output of two different version of compilers
may not match.</p>
</li>
</ol>
<ol class="arabic" id="index-8" start="8">
<li><p class="first">unspecified behavior: use of an unspecified value, or other behavior where this
International Standard provides two or more possibilities and imposes no further
requirements on which is chosen in any instance.</p>
<p>EXAMPLE An example of unspecified behavior is the order in which the arguments
to a function are evaluated.</p>
<p>We will more of these as we progress and list of all such behaviors is given in
the appendix.</p>
<p>It is different than undefined behavior but compiler writers are still free
to to implement as they see fit.</p>
</li>
</ol>
<ol class="arabic" id="index-9" start="9">
<li><p class="first">bit: unit of data storage in the execution environment large enough to hold an
object that may have one of two values.</p>
<p>NOTE It need not be possible to express the address of each individual bit of an
object.</p>
<p>The term bit was first coined by John Wilder Tukey who also coined the term
software, best known for his work on fast Fourier transform(FFT). Note that
base-2 is not the most efficient way to store the numbers but it is base-e. You
can read about more on it in. <a class="reference internal" href="#hayes" id="id2">[Hayes]</a> Those who are
from electronics background know that transistors operate in cut-off(very low
voltage, high current) and saturation(high voltage, low current). These two
states consume very less power. The other two states are active and
reverse-active. However, power consumption is more. Therefore, just to save power
there is a trade-off between compactness and power consumption. Usually, popular
compilers like gcc or gcc do not provide mechanism to sequence of bits.
However, there is a compiler which allows bit-level addressing in registers if
not memory. <a class="reference internal" href="#wegner" id="id3">[Wegner]</a> There are processors where data is not byte-aligned and
some bit-level addressing is available as shown in <a class="reference internal" href="#nie" id="id4">[Nie]</a> .</p>
</li>
</ol>
<ol class="arabic" id="index-10" start="10">
<li><p class="first">byte: addressable unit of data storage large enough to hold any member of the
basic character set of the execution environment.</p>
<p>NOTE 1: It is possible to express the address of each individual byte of an
object uniquely.</p>
<p>NOTE 2: A byte is composed of a contiguous sequence of bits, the number of
which is implementation-defined. The least significant bit is called the
<em>low-order bit</em>; the most significant bit is called the <em>high-order bit</em>.</p>
<p>As most of programmers will know that a byte is 8 bits. However, the term for
8 bits is <em>octet</em> as the term for 4 bits is <em>nibble</em>. This term is now so common
for 8 bits that they are used interchangeably. Note that byte and <code class="docutils literal"><span class="pre">char</span></code> are
different. byte is used to denote the storage while <code class="docutils literal"><span class="pre">char</span></code> is used to denote
the type. We can say a 32-bit integer occupies 4 bytes but we cannot say the
same in terms of <code class="docutils literal"><span class="pre">char</span></code>. <a class="reference internal" href="#posix" id="id5">[POSIX]</a> defines a byte as an octet.</p>
<p>Considering an integer which is a multi-byte type can have its bytes
individually addressed. Even though it says that numbers of bits is
implementation-defined on most systems this number is governed by
<code class="docutils literal"><span class="pre">CHAR_BIT</span></code> macro which has a value of 8.</p>
</li>
</ol>
<ol class="arabic" id="index-11" start="11">
<li><p class="first">character: Member of a set of elements used for the organization, control,
or representation of data.</p>
<p>There are many character sets each capable of representing one language in this
world. Sometimes they fit in a single byte while sometimes they do not and then
we need more bytes to represent that kind of language.</p>
<ol class="upperroman simple">
<li>single-byte character: Bit representation that fits in a byte.</li>
<li>multi-byte character: Sequence of one or more bytes representing a
member of the extended character set of either the source or the
execution environment.</li>
<li>wide Character: Bit representation that fits in an object of type
<code class="docutils literal"><span class="pre">wchar_t</span></code>, capable of representing any character in the current
locale.</li>
</ol>
<p>A character is one the most primitive types of C programming language. On
most machines its size is 1 byte. Even though <code class="docutils literal"><span class="pre">void</span></code> has also a size of
1 byte it is known as incomplete type and cannot be used to create an
object.</p>
</li>
</ol>
<ol class="arabic" id="index-12" start="12">
<li><p class="first">constraint: Restriction, either syntactic or semantic, by which the
exposition of language elements is to be interpreted.</p>
<p>There are certain restrictions imposed by the language through the standard
which programmers must adhere to. Violation of these restrictions may lead to
diagnostic messages being issued from the compiler. We will see such constraints
throughout the standard.</p>
</li>
</ol>
<ol class="arabic" id="index-13" start="13">
<li><p class="first">correctly rounded result: Representation in the result format that is
nearest in value, subject to the effective rounding mode, to what the result
would be given unlimited range and precision.</p>
<p>This is something which is very much related to floating-point numbers. Consider
two representable numbers <code class="docutils literal"><span class="pre">a</span></code> and <code class="docutils literal"><span class="pre">b</span></code>. Now there can be infinite numbers
between these two. However, there will be exactly one number which will lie in
between them. If this number is not representable as per floating-point
specification then the rounding of this number will depend on the current
rounding mode in effect. IEEE specifies four rounding modes for rounding
floating-point numbers. They are: <code class="docutils literal"><span class="pre">rd_near</span></code> (for rounding to the nearest),
<code class="docutils literal"><span class="pre">rd_zero</span></code> (for rounding to zero), <code class="docutils literal"><span class="pre">rd_minf</span></code> (for rounding to minus infinity)
and <code class="docutils literal"><span class="pre">rd_pinf</span></code> (for rounding to plus infinity). Consider the following program
which shows all four rounding modes in action.</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#include &lt;stdio.h&gt;</span>
<span class="cp">#include &lt;stdlib.h&gt;</span>
<span class="cp">#include &lt;fenv.h&gt;</span>

<span class="kt">int</span> <span class="nf">main</span> <span class="p">(</span><span class="kt">int</span> <span class="n">argc</span><span class="p">,</span> <span class="kt">char</span> <span class="o">**</span><span class="n">argv</span><span class="p">)</span>
<span class="p">{</span>
  <span class="kt">float</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">z1</span><span class="p">,</span> <span class="n">z2</span><span class="p">;</span>

  <span class="n">x</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">;</span>
  <span class="n">y</span> <span class="o">=</span> <span class="mf">1.0e-20</span><span class="p">;</span>

  <span class="n">fesetround</span><span class="p">(</span><span class="n">FE_TONEAREST</span><span class="p">);</span>
  <span class="n">z1</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">;</span> <span class="n">z2</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="n">x</span><span class="p">;</span> <span class="n">z1</span> <span class="o">=</span> <span class="n">z1</span> <span class="o">-</span> <span class="n">x</span><span class="p">;</span> <span class="n">z2</span> <span class="o">=</span> <span class="n">z2</span> <span class="o">+</span> <span class="n">x</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;near, z1 = %17.10e, z2 = %17.10e </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">z1</span><span class="p">,</span> <span class="n">z2</span><span class="p">);</span>

  <span class="n">fesetround</span><span class="p">(</span><span class="n">FE_UPWARD</span><span class="p">);</span>
  <span class="n">z1</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">;</span> <span class="n">z2</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="n">x</span><span class="p">;</span> <span class="n">z1</span> <span class="o">=</span> <span class="n">z1</span> <span class="o">-</span> <span class="n">x</span><span class="p">;</span> <span class="n">z2</span> <span class="o">=</span> <span class="n">z2</span> <span class="o">+</span> <span class="n">x</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;minf, z1 = %17.10e, z2 = %17.10e </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">z1</span><span class="p">,</span> <span class="n">z2</span><span class="p">);</span>

  <span class="n">fesetround</span><span class="p">(</span><span class="n">FE_DOWNWARD</span><span class="p">);</span>
  <span class="n">z1</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">;</span> <span class="n">z2</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="n">x</span><span class="p">;</span> <span class="n">z1</span> <span class="o">=</span> <span class="n">z1</span> <span class="o">-</span> <span class="n">x</span><span class="p">;</span> <span class="n">z2</span> <span class="o">=</span> <span class="n">z2</span> <span class="o">+</span> <span class="n">x</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;pinf, z1 = %17.10e, z2 = %17.10e </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">z1</span><span class="p">,</span> <span class="n">z2</span><span class="p">);</span>

  <span class="n">fesetround</span><span class="p">(</span><span class="n">FE_TOWARDZERO</span><span class="p">);</span>
  <span class="n">z1</span> <span class="o">=</span> <span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">;</span> <span class="n">z2</span> <span class="o">=</span> <span class="n">y</span> <span class="o">-</span> <span class="n">x</span><span class="p">;</span> <span class="n">z1</span> <span class="o">=</span> <span class="n">z1</span> <span class="o">-</span> <span class="n">x</span><span class="p">;</span> <span class="n">z2</span> <span class="o">=</span> <span class="n">z2</span> <span class="o">+</span> <span class="n">x</span><span class="p">;</span>
  <span class="n">printf</span><span class="p">(</span><span class="s">&quot;zero, z1 = %17.10e, z2 = %17.10e </span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">z1</span><span class="p">,</span> <span class="n">z2</span><span class="p">);</span>


<span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>and the output is:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">near</span><span class="p">,</span> <span class="n">z1</span> <span class="o">=</span>  <span class="mf">0.0000000000e+00</span><span class="p">,</span> <span class="n">z2</span> <span class="o">=</span>  <span class="mf">0.0000000000e+00</span>
<span class="n">minf</span><span class="p">,</span> <span class="n">z1</span> <span class="o">=</span>  <span class="mf">0.0000000000e+00</span><span class="p">,</span> <span class="n">z2</span> <span class="o">=</span>  <span class="mf">5.9604644775e-08</span>
<span class="n">pinf</span><span class="p">,</span> <span class="n">z1</span> <span class="o">=</span> <span class="o">-</span><span class="mf">5.9604644775e-08</span><span class="p">,</span> <span class="n">z2</span> <span class="o">=</span> <span class="o">-</span><span class="mf">0.0000000000e+00</span>
<span class="n">zero</span><span class="p">,</span> <span class="n">z1</span> <span class="o">=</span> <span class="o">-</span><span class="mf">5.9604644775e-08</span><span class="p">,</span> <span class="n">z2</span> <span class="o">=</span>  <span class="mf">5.9604644775e-08</span>
</pre></div>
</div>
<p>Note that you need to link with <code class="docutils literal"><span class="pre">-lm</span></code> for compilation of the program, just in
case.</p>
</li>
</ol>
<ol class="arabic" id="index-14" start="14">
<li><p class="first">diagnostic message: message belonging to an implementation-defined subset of the
implementation&#8217;s message output.</p>
<p>These refer to compilation-time warning or error messages produced by the
compiler. Since the specification does not direct any particular way in which
these diagnostic messages should be generated all compiler writers are free to
do whatever suits their whim. For example, earlier gcc used to print only line
numbers but now they also show column numbers where errors have occurred. gcc
goes one step further and produces colored output.</p>
</li>
</ol>
<ol class="arabic simple" id="index-15" start="15">
<li>forward reference: Reference to a later subclause of International
Standard that contains additional information relevant to this subclause.</li>
</ol>
<ol class="arabic" id="index-16" start="16">
<li><p class="first">implementation: Particular set of software, running in a particular
translation environment under particular control options, that performs
translation of programs for, and supports execution of functions in, a
particular execution environment.</p>
<p>Here implementation means what we typically know as compiler. Note that it does
not even say compiler. Even a C interpreter can be taken as an implementation.
However, historically C has been a compiled language so we will mean
implementation as compiler henceforth. Note that when you change compiler or even
compiler options then you are changing the translation of code which means
implementation has changed.</p>
</li>
</ol>
<ol class="arabic" id="index-17" start="17">
<li><p class="first">implementation limit: Restriction imposed upon programs by the implementation.</p>
<p>In C all types have a range or limits partially for efficiency reasons. The
specification also says that a strictly conforming program will remain below
the lowest limits. Now what these limits do is that increase the portability of
program just like being the lowest common denominator.</p>
</li>
</ol>
<ol class="arabic simple" id="index-18" start="18">
<li>memory location: Either an object of scalar type, or a maximal sequence of
adjacent bit-fields all having nonzero width.</li>
</ol>
<ol class="arabic" id="index-19" start="19">
<li><p class="first">object: region of data storage in the execution environment, the contents of
which can represent values. When referenced, an object may be interpreted as
having a particular type.</p>
<p>These are what we know as variables in common developer language. The region of
data storage occupied by an object will be contiguous number of bytes. Note that
the term object used in ISO standard of C has nothing to do with <em>object</em> in
object-oriented programming paradigm.</p>
</li>
</ol>
<ol class="arabic" id="index-20" start="20">
<li><p class="first">parameter: Also known as formal parameter or formal argument (deprecated).
Object declared as part of a function declaration or definition that
acquires a value on entry to the function, or an identifier from the
comma-separated list bounded by the parentheses immediately following the
macro name in a function-like macro definition.</p>
<p>For example:</p>
<div class="highlight-c"><div class="highlight"><pre><span class="cp">#define FUNC(X, Y) </span><span class="c1">//two parameters</span>

<span class="kt">int</span> <span class="nf">f</span><span class="p">(</span><span class="kt">int</span> <span class="n">x</span><span class="p">);</span>  <span class="c1">//one parameter</span>
<span class="kt">void</span> <span class="nf">y</span><span class="p">(</span><span class="kt">int</span> <span class="n">y</span><span class="p">,</span> <span class="kt">int</span> <span class="n">z</span><span class="p">);</span> <span class="c1">//two parameters</span>
</pre></div>
</div>
</li>
</ol>
<ol class="arabic simple" id="index-21" start="21">
<li>recommended practice: Specification that is strongly recommended as being in
keeping with the intent of the standard, but that may be impractical for
some implementations.</li>
</ol>
<ol class="arabic simple" id="index-22" start="22">
<li>runtime-constraint: Requirement on a program when calling a library
function.</li>
</ol>
<ol class="arabic" id="index-23" start="21">
<li><p class="first">value: Precise meaning of the contents of an object when interpreted as
having a specific type.</p>
<p>This at times will depend on the type of machine. For example, a <code class="docutils literal"><span class="pre">union</span></code>
containing an integer and two characters will have different values for
characters on big-endian and little-endian machines. But on the same machine
the meaning must be accurate for contents of an object.</p>
</li>
</ol>
<ol class="arabic" id="index-24" start="22">
<li><p class="first">implementation-defined value: Unspecified value where each implementation
documents how the choice is made.</p>
<p>There are certain values defined by the implementation. For example, in the
table for defining numerical limits in chapter 3 specification defines INT_MAX
in a fashion as if integers are 16-bit. But all modern 32-bit compilers do not
follow this limit and they treat integer as 32-bit entity.</p>
</li>
</ol>
<ol class="arabic" id="index-25" start="23">
<li><p class="first">indeterminate value: Either an unspecified value or a trap representation.</p>
<p>Consider a variable declaration <code class="docutils literal"><span class="pre">int</span> <span class="pre">i;</span></code>. What value does this integer <code class="docutils literal"><span class="pre">i</span></code>
contain? We do not know. The value contained is unspecified as per specification
nomenclature. Developers also know this as garbage value. Behavior caused
by usage of such variables will be known as unspecified behavior. However,
behavior caused by a trap representation will be undefined behavior.</p>
</li>
</ol>
<ol class="arabic" id="index-26" start="24">
<li><p class="first">unspecified value: Valid value of the relevant type where International
Standard imposes no requirements on which value is chosen in any instance.</p>
<p>NOTE: An unspecified value cannot be a trap representation.</p>
<p>As we have seen in last example the value of the variable will be unspecified
value.</p>
</li>
</ol>
<ol class="arabic" id="index-27" start="25">
<li><p class="first">trap representation: An object representation that need not represent a
value of the object type.</p>
</li>
<li><p class="first">perform a trap: Interrupt execution of the program such that no further
operations are performed.</p>
<p>NOTE In this International Standard, when the word &#8220;trap&#8221; is not
immediately followed by &#8220;representation&#8221;, this is the intended usage.</p>
</li>
<li><p class="first"><span class="math">\(\lceil x\rceil\)</span>: ceiling of x: the least integer greater than or
equal to x.</p>
</li>
<li><p class="first"><span class="math">\(\lfloor x\rfloor\)</span>: floor of x: the greatest integer less than or
equal to x.</p>
</li>
</ol>
<table class="docutils citation" frame="void" id="hayes" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id2">[Hayes]</a></td><td><ol class="first last upperalpha simple" start="2">
<li>Hayes. Third base. American Scientist, 89(6):490â494, 2001.</li>
</ol>
</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="wegner" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[Wegner]</a></td><td>J. Wagner and R. Leupers. C compiler design for an industrial network
processor. In Proceedings of The Workshop on Languages, Compilers, and Tools for
Embedded Systems (LCTES 2001), pages 155â164, 2001.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="nie" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[Nie]</a></td><td>X. Nie, L. Gazsi, F. Engel, and G. Fettweis. A new network processor
architecture for high-speed communications. In IEEE Workshop on Signal Processing
Systems (SiPSâ99), 1999.</td></tr>
</tbody>
</table>
<table class="docutils citation" frame="void" id="posix" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id5">[POSIX]</a></td><td>ISO. ISO/IEC FDIS 9945:2008 Information technology - Portable Operating
System Interface (POSIX(R)). ISO, 2008.</td></tr>
</tbody>
</table>
<p>You can also read the conformance part of this chapter which is chapter 3 in
specification.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../env/" class="btn btn-neutral float-right" title="12. Environment" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../fileio/" class="btn btn-neutral" title="10. File Input/Output" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012-2015, Shiv S. Dayal.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>