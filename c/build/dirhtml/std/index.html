

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-17487464-6']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>15. The C Standard Library &mdash; C Programming  documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="C Programming  documentation" href="../"/>
        <link rel="next" title="16. Diagnostics &lt;assert.h&gt;" href="../assert/"/>
        <link rel="prev" title="14. Preprocessing Directives" href="../macros/"/>
<link rel="stylesheet" href="../../css/math.css" type="text/css" />


  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../" class="icon icon-home"> C Programming
          

          
          </a>

          
            
            
              <div class="version">
                0.2
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search/" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../introduction/">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics/">2. Basics of C</a></li>
<li class="toctree-l1"><a class="reference internal" href="../io/">3. Console I/O</a></li>
<li class="toctree-l1"><a class="reference internal" href="../oae/">4. Operators and Expressions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../cf/">5. Control Flow</a></li>
<li class="toctree-l1"><a class="reference internal" href="../ap/">6. Arrays and Pointers</a></li>
<li class="toctree-l1"><a class="reference internal" href="../func/">7. Functions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../su/">8. Structures and Unions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../strings/">9. Strings</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fileio/">10. File Input/Output</a></li>
<li class="toctree-l1"><a class="reference internal" href="../fs/">11. Following Specification</a></li>
<li class="toctree-l1"><a class="reference internal" href="../env/">12. Environment</a></li>
<li class="toctree-l1"><a class="reference internal" href="../lang/">13. Language</a></li>
<li class="toctree-l1"><a class="reference internal" href="../macros/">14. Preprocessing Directives</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="">15. The C Standard Library</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#introduction">15.1. Introduction</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#definitions-of-terms">15.1.1. Definitions of terms</a></li>
<li class="toctree-l3"><a class="reference internal" href="#standard-headers">15.1.2. Standard Headers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#reserved-identifiers">15.1.3. Reserved Identifiers</a></li>
<li class="toctree-l3"><a class="reference internal" href="#use-of-library-functions">15.1.4. Use of Library Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../assert/">16. Diagnostics <code class="docutils literal"><span class="pre">&lt;assert.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../complex/">17. Complex arithmetic <code class="docutils literal"><span class="pre">&lt;complex.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../ctypes/">18. Character Handling <code class="docutils literal"><span class="pre">&lt;ctype.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../errno/">19. Errors <code class="docutils literal"><span class="pre">&lt;errno.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../fenv/">20. Floating-point environment <code class="docutils literal"><span class="pre">&lt;fenv.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../float/">21. Characteristics of floating types <code class="docutils literal"><span class="pre">&lt;float.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../inttypes/">22. Format conversion of integer types <code class="docutils literal"><span class="pre">&lt;inttypes.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../iso646/">23. Alternative spellings <code class="docutils literal"><span class="pre">&lt;iso646.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../limits/">24. Sizes of integer types <code class="docutils literal"><span class="pre">&lt;limits.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../locale/">25. Localization &lt;locale.h&gt;</a></li>
<li class="toctree-l1"><a class="reference internal" href="../math/">26. Mathematics <code class="docutils literal"><span class="pre">&lt;math.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../setjmp/">27. Nonlocal jumps <code class="docutils literal"><span class="pre">&lt;setjmp.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../signal/">28. Signal handling <code class="docutils literal"><span class="pre">&lt;signal.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdarg/">29. Variable arguments <code class="docutils literal"><span class="pre">&lt;stdarg.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdbool/">30. Boolean type and values <code class="docutils literal"><span class="pre">&lt;stdbool.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stddef/">31. Common definitions <code class="docutils literal"><span class="pre">&lt;stddef.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdint/">32. Integer types <code class="docutils literal"><span class="pre">&lt;stdint.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdio/">33. Input/output <code class="docutils literal"><span class="pre">&lt;stdio.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../stdlib/">34. General utilities <code class="docutils literal"><span class="pre">&lt;stdlib.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../string/">35. String handling <code class="docutils literal"><span class="pre">&lt;string.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../tgmath/">36. Type-generic math <code class="docutils literal"><span class="pre">&lt;tgmath.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../time/">37. Date and time <code class="docutils literal"><span class="pre">&lt;time.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../wchar/">38. Extended multibyte and wide character utilities <code class="docutils literal"><span class="pre">&lt;wchar.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../wtype/">39. Wide character classification and mapping utilities <code class="docutils literal"><span class="pre">&lt;wctype.h&gt;</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="../problems/">40. Problems</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license/">41. License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../">C Programming</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../">Docs</a> &raquo;</li>
      
    <li>15. The C Standard Library</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/std.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="the-c-standard-library">
<h1>15. The C Standard Library<a class="headerlink" href="#the-c-standard-library" title="Permalink to this headline">¶</a></h1>
<p>This chapter and rest of book eflects chapter 7 of n1124.pdf. This chapter begins
with <code class="docutils literal"><span class="pre">assert.h</span></code>. We will see three parts of each function/macro as much as
possible. From specification, compiler and example point of view in that order.</p>
<div class="section" id="introduction">
<span id="id1"></span><h2>15.1. Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h2>
<div class="section" id="definitions-of-terms">
<span id="id2"></span><span id="index-0"></span><h3>15.1.1. Definitions of terms<a class="headerlink" href="#definitions-of-terms" title="Permalink to this headline">¶</a></h3>
<p>A <em>string</em> is a contiguous sequence of characters terminated by and including
the first null character. The term <em>multibyte string</em> is sometimes used instead
to emphasize special processing given to multibyte characters contained in the
string or to avoid confusion with a wide string. A <em>pointer to a string</em> is a
pointer to its initial (lowest addressed) character. The <em>length of a string</em> is
the number of bytes preceding the null character and the <em>value of a string</em> is
the sequence of the values of the contained characters, in order.</p>
<p>The <em>decimal-point character</em> is the character used by functions that convert
floating-point numbers to or from character sequences to denote the beginning
of the fractional part of such character sequences. <a class="footnote-reference" href="#id5" id="id3">[1]</a> It is represented in
the text and examples by a period, but may be changed by the <code class="docutils literal"><span class="pre">setlocale</span></code>
function.</p>
<p>A <em>null wide character</em> is a wide character with code value zero.</p>
<p>A <em>wide string</em> is a contiguous sequence of wide characters terminated by and
including the first null wide character. A <em>pointer to a wide string</em> is a
pointer to its initial (lowest addressed) wide character. The <em>length of a wide
string</em> is the number of wide characters preceding the null wide character and
the <em>value of a wide string</em> is the sequence of code values of the contained
wide characters, in order.</p>
<p>A <em>shift sequence</em> is a contiguous sequence of bytes within a multibyte string
that (potentially) causes a change in shift state. A shift sequence shall not
have a corresponding wide character; it is instead taken to be an adjunct to an
adjacent multibyte character. <a class="footnote-reference" href="#id6" id="id4">[2]</a></p>
<p><strong>Forward references:</strong> character handling (14.4), the setlocale function
(14.11.1.1).</p>
<table class="docutils footnote" frame="void" id="id5" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id3">[1]</a></td><td>The functions that make use of the decimal-point character are the
numeric conversion functions (14.20.1, 14.24.4.1) and the formatted
input/output functions (14.19.6, 14.24.2).</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id6" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id4">[2]</a></td><td>For state-dependent encodings, the values for <code class="docutils literal"><span class="pre">MB_CUR_MAX</span></code> and
<code class="docutils literal"><span class="pre">MB_LEN_MAX</span></code> shall thus be large enough to count all the bytes in any
complete multibyte character plus at least one adjacent shift sequence of
maximum length. Whether these counts provide for more than one shift sequence
is the implementation&#8217;s choice.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="standard-headers">
<span id="index-1"></span><h3>15.1.2. Standard Headers<a class="headerlink" href="#standard-headers" title="Permalink to this headline">¶</a></h3>
<p>Each library function is declared, with a type that includes a prototype, in a
header, <a class="footnote-reference" href="#id8" id="id7">[3]</a> whose contents are made available by the <code class="docutils literal"><span class="pre">#include</span></code> preprocessing
directive. The header declares a set of related functions, plus any necessary
types and additional macros needed to facilitate their use. Declarations of
types described in this clause shall not include type qualifiers, unless
explicitly stated otherwise.</p>
<p>The standard headers are:</p>
<div class="highlight-python"><div class="highlight"><pre>&lt;assert.h&gt;  &lt;inttypes.h&gt; &lt;signal.h&gt;  &lt;stdlib.h&gt;
&lt;complex.h&gt; &lt;iso646.h&gt;   &lt;stdarg.h&gt;  &lt;string.h&gt;
&lt;ctype.h&gt;   &lt;limits.h&gt;   &lt;stdbool.h&gt; &lt;tgmath.h&gt;
&lt;errno.h&gt;   &lt;locale.h&gt;   &lt;stddef.h&gt;  &lt;time.h&gt;
&lt;fenv.h&gt;    &lt;math.h&gt;     &lt;stdint.h&gt;  &lt;wchar.h&gt;
&lt;float.h&gt;   &lt;setjmp.h&gt;   &lt;stdio.h&gt;   &lt;wctype.h&gt;
</pre></div>
</div>
<p>If a file with the same name as one of the above &lt; and &gt; delimited sequences,
not provided as part of the implementation, is placed in any of the standard
places that are searched for included source files, the behavior is undefined.</p>
<p>Standard headers may be included in any order; each may be included more thanonce in a giv en scope, with no effect different from being included only once,
except that the effect of including <code class="docutils literal"><span class="pre">&lt;assert.h&gt;</span></code> depends on the definition of
<code class="docutils literal"><span class="pre">NDEBUG</span></code> (see 14.2). If used, a header shall be included outside of any
external declaration or definition, and it shall first be included before the
first reference to any of the functions or objects it declares, or to any of
the types or macros it defines. However, if an identifier is declared or
defined in more than one header, the second and subsequent associated headers
may be included after the initial reference to the identifier. The program
shall not have any macros with names lexically identical to keywords currently
defined prior to the inclusion.</p>
<p>Any definition of an object-like macro described in this clause shall expand to
code that is fully protected by parentheses where necessary, so that it groups
in an arbitrary expression as if it were a single identifier.</p>
<p>Any declaration of a library function shall have external linkage.</p>
<p>A summary of the contents of the standard headers is given in annex B.</p>
<p><strong>Forward references:</strong> diagnostics (14.2).</p>
<table class="docutils footnote" frame="void" id="id8" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id7">[3]</a></td><td>A header is not necessarily a source file, nor are the &lt; and &gt; delimited
sequences in header names necessarily valid source file names.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="reserved-identifiers">
<span id="index-2"></span><h3>15.1.3. Reserved Identifiers<a class="headerlink" href="#reserved-identifiers" title="Permalink to this headline">¶</a></h3>
<p>Each header declares or defines all identifiers listed in its associated
subclause, and optionally declares or defines identifiers listed in its
associated future library directions subclause and identifiers which are always
reserved either for any use or for use as file scope identifiers.</p>
<ul class="simple">
<li>All identifiers that begin with an underscore and either an uppercase letter
or another underscore are always reserved for any use.</li>
<li>All identifiers that begin with an underscore are always reserved for use as
identifiers with file scope in both the ordinary and tag name spaces.</li>
<li>Each macro name in any of the following subclauses (including the future
library directions) is reserved for use as specified if any of its associated
headers is included; unless explicitly stated otherwise (see 14.1.4).</li>
<li>All identifiers with external linkage in any of the following subclauses
(including the future library directions) are always reserved for use as
identifiers with external linkage. <a class="footnote-reference" href="#id10" id="id9">[4]</a></li>
<li>Each identifier with file scope listed in any of the following subclauses
(including the future library directions) is reserved for use as a macro name
and as an identifier with file scope in the same name space if any of its
associated headers is included.</li>
</ul>
<p>No other identifiers are reserved. If the program declares or defines an
identifier in a context in which it is reserved (other than as allowed by
14.1.4), or defines a reserved identifier as a macro name, the behavior is
undefined.</p>
<p>If the program removes (with <code class="docutils literal"><span class="pre">#undef</span></code>) any macro definition of an identifier
in the first group listed above, the behavior is undefined.</p>
<table class="docutils footnote" frame="void" id="id10" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id9">[4]</a></td><td>The list of reserved identifiers with external linkage includes
<code class="docutils literal"><span class="pre">`errno,</span> <span class="pre">ath_errhandling,</span> <span class="pre">setjmp</span></code>, and <code class="docutils literal"><span class="pre">va_end</span></code>.</td></tr>
</tbody>
</table>
</div>
<div class="section" id="use-of-library-functions">
<span id="id11"></span><h3>15.1.4. Use of Library Functions<a class="headerlink" href="#use-of-library-functions" title="Permalink to this headline">¶</a></h3>
<p>Each of the following statements applies unless explicitly stated otherwise in
the detailed descriptions that follow: If an argument to a function has an
invalid value (such as a value outside the domain of the function, or a pointer
outside the address space of the program, or a null pointer, or a pointer to
non-modifiable storage when the corresponding parameter is not const-qualified)
or a type (after promotion) not expected by a function with variable number of
arguments, the behavior is undefined. If a function argument is described as
being an array, the pointer actually passed to the function shall have a value
such that all address computations and accesses to objects (that would be valid
if the pointer did point to the first element of such an array) are in fact
valid. Any function declared in a header may be additionally implemented as a
function-like macro defined in the header, so if a library function is declared
explicitly when its header is included, one of the techniques shown below can
be used to ensure the declaration is not affected by such a macro. Any macro
definition of a function can be suppressed locally by enclosing the name of the
function in parentheses, because the name is then not followed by the left
parenthesis that indicates expansion of a macro function name. For the same
syntactic reason, it is permitted to take the address of a library function
even if it is also defined as a macro. <a class="footnote-reference" href="#id15" id="id12">[5]</a> The use of <code class="docutils literal"><span class="pre">#undef</span></code> to remove any
macro definition will also ensure that an actual function is referred to. Any
invocation of a library function that is implemented as a macro shall expand to
code that evaluates each of its arguments exactly once, fully protected by
parentheses where necessary, so it is generally safe to use arbitrary
expressions as arguments. Likewise, those function-like macros described
in the following subclauses may be invoked in an expression anywhere a function
with a compatible return type could be called. <a class="footnote-reference" href="#id16" id="id13">[6]</a> All object-like macros
listed as expanding to integer constant expressions shall additionally be
suitable for use in <code class="docutils literal"><span class="pre">#if</span></code> preprocessing directives.</p>
<p>Provided that a library function can be declared without reference to any type
defined in a header, it is also permissible to declare the function and use it
without including its associated header.</p>
<p>There is a sequence point immediately before a library function returns.</p>
<p>The functions in the standard library are not guaranteed to be reentrant and
may modify objects with static storage duration. <a class="footnote-reference" href="#id17" id="id14">[7]</a></p>
<table class="docutils footnote" frame="void" id="id15" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id12">[5]</a></td><td>This means that an implementation shall provide an actual function for
each library function, even if it also provides a macro for that function.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id16" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id13">[6]</a></td><td>Such macros might not contain the sequence points that the corresponding
function calls do.</td></tr>
</tbody>
</table>
<table class="docutils footnote" frame="void" id="id17" rules="none">
<colgroup><col class="label" /><col /></colgroup>
<tbody valign="top">
<tr><td class="label"><a class="fn-backref" href="#id14">[7]</a></td><td>Thus, a signal handler cannot, in general, call standard library
functions.</td></tr>
</tbody>
</table>
</div>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../assert/" class="btn btn-neutral float-right" title="16. Diagnostics &lt;assert.h&gt;" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="../macros/" class="btn btn-neutral" title="14. Preprocessing Directives" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2012-2015, Shiv S. Dayal.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>